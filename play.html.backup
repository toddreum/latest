<!DOCTYPE html>
<html lang="en">
<!-- VERSION 33.0 - Full Hunter Edition with Villains, Demons & Globalists -->
<head>
  <meta charset="UTF-8" />
  <title>BirdTurds.com ‚Äì Patriotic Game with a Message | Wake Up Before the Rapture!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="More than just a game - BirdTurds is entertainment with PURPOSE! Shoot birds, drain the swamp, wake phone zombies with God's Word, and learn about end times prophecy. Features 66 Bible scriptures, rapture warnings, and messages about family unity. God doesn't want anyone left behind! Play free!" />
  <meta name="keywords" content="christian game, bible game, rapture, end times, wake up, patriotic game, family game, scripture, trump, faith game, prophecy, left behind" />
  
  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#facc15" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="apple-touch-icon" href="/hunter.png" />
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
  
  <script src="https://js.stripe.com/v3/"></script>
  
  <style>
    :root { --hud-height: 70px; --accent: #facc15; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; font-family: system-ui, -apple-system, sans-serif; background: radial-gradient(circle at top, #111827 0%, #020617 55%, #000 100%); color: #fff; }
    body { display: flex; flex-direction: column; }
    
    /* ===== CHRISTMAS EFFECTS ===== */
    /* Gentle Snowfall */
    .christmas-snow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9998;
      overflow: hidden;
    }
    .snowflake {
      position: absolute;
      opacity: 0.7;
      animation: snowfall linear infinite;
      pointer-events: none;
    }
    @keyframes snowfall {
      0% { transform: translateY(-10px) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }
    
    /* Christmas Lights Border */
    .christmas-lights {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 8px;
      background: linear-gradient(90deg, 
        #ff0000 0%, #ff0000 10%, transparent 10%, transparent 12%,
        #00ff00 12%, #00ff00 22%, transparent 22%, transparent 24%,
        #0066ff 24%, #0066ff 34%, transparent 34%, transparent 36%,
        #ffff00 36%, #ffff00 46%, transparent 46%, transparent 48%,
        #ff00ff 48%, #ff00ff 58%, transparent 58%, transparent 60%,
        #00ffff 60%, #00ffff 70%, transparent 70%, transparent 72%,
        #ff6600 72%, #ff6600 82%, transparent 82%, transparent 84%,
        #ff0000 84%, #ff0000 94%, transparent 94%
      );
      background-size: 200px 100%;
      animation: lightsMove 3s linear infinite;
      z-index: 9999;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    @keyframes lightsMove {
      0% { background-position: 0 0; }
      100% { background-position: 200px 0; }
    }
    
    /* Nativity Scene - Bottom Right */
    .nativity-scene {
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 28px;
      z-index: 100;
      opacity: 0.8;
      text-shadow: 0 0 10px rgba(255,215,0,0.5);
      animation: nativityGlow 3s ease-in-out infinite;
    }
    @keyframes nativityGlow {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }
    
    /* Cross with Star */
    .christmas-cross {
      position: fixed;
      bottom: 60px;
      right: 15px;
      font-size: 24px;
      z-index: 100;
      opacity: 0.9;
      animation: crossGlow 2s ease-in-out infinite;
    }
    @keyframes crossGlow {
      0%, 100% { text-shadow: 0 0 5px gold; }
      50% { text-shadow: 0 0 20px gold, 0 0 30px gold; }
    }
    
    /* Live Reviews Ticker */
    .reviews-ticker {
      background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(16,185,129,0.1));
      border: 1px solid rgba(34,197,94,0.3);
      border-radius: 12px;
      padding: 8px 0;
      margin: 8px 0;
      overflow: hidden;
      position: relative;
    }
    .reviews-ticker::before {
      content: '‚≠ê LIVE REVIEWS';
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: #22c55e;
      color: #000;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 9px;
      font-weight: bold;
      z-index: 2;
    }
    .reviews-track {
      display: flex;
      animation: scrollReviews 60s linear infinite;
      padding-left: 100px;
    }
    .reviews-track:hover { animation-play-state: paused; }
    @keyframes scrollReviews {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .review-item {
      flex-shrink: 0;
      padding: 4px 20px;
      font-size: 11px;
      color: #d1d5db;
      border-right: 1px solid rgba(255,255,255,0.1);
      white-space: nowrap;
    }
    .review-item strong { color: #22c55e; }
    .review-item .stars { color: #fbbf24; }
    
    /* Live Leaderboard Ticker */
    .leaderboard-ticker {
      background: linear-gradient(135deg, rgba(250,204,21,0.15), rgba(245,158,11,0.1));
      border: 1px solid rgba(250,204,21,0.3);
      border-radius: 12px;
      padding: 8px 0;
      margin: 8px 0;
      overflow: hidden;
      position: relative;
    }
    .leaderboard-ticker::before {
      content: 'üèÜ PLAYING NOW';
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: #f59e0b;
      color: #000;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 9px;
      font-weight: bold;
      z-index: 2;
    }
    .leaderboard-track {
      display: flex;
      animation: scrollLeaderboard 45s linear infinite;
      padding-left: 110px;
    }
    .leaderboard-track:hover { animation-play-state: paused; }
    @keyframes scrollLeaderboard {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .lb-item {
      flex-shrink: 0;
      padding: 4px 15px;
      font-size: 11px;
      color: #fef3c7;
      border-right: 1px solid rgba(255,255,255,0.1);
      white-space: nowrap;
    }
    .lb-item .name { color: #fbbf24; font-weight: bold; }
    .lb-item .score { color: #22c55e; }
    .lb-item .zone { color: #60a5fa; font-size: 9px; }
    /* ===== END CHRISTMAS EFFECTS ===== */
    
    #page { display: flex; flex-direction: column; width: 100%; max-width: 1400px; margin: 0 auto; padding: 8px 10px 0; gap: 6px; }
    
    /* Header */
    #bt-header { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; gap: 16px; background: linear-gradient(135deg, rgba(17,24,39,0.8), rgba(2,6,23,0.9)); border-radius: 16px; border: 1px solid #1f2937; }
    #bt-logo-wrap img { height: 80px; width: auto; }
    #bt-tagline { flex: 1; font-size: 12px; line-height: 1.4; color: #9ca3af; }
    #bt-tagline strong { color: #facc15; }
    
    .header-buttons { display: flex; gap: 10px; align-items: center; }
    .header-btn { 
      background: linear-gradient(135deg, #ffd700 0%, #f59e0b 50%, #d97706 100%); 
      color: #000; 
      padding: 12px 24px; 
      border-radius: 12px; 
      font-weight: 800; 
      font-size: 13px; 
      cursor: pointer; 
      border: none; 
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
      touch-action: manipulation; 
      -webkit-tap-highlight-color: transparent;
      box-shadow: 
        0 4px 15px rgba(250,204,21,0.4),
        inset 0 1px 0 rgba(255,255,255,0.4),
        inset 0 -2px 0 rgba(0,0,0,0.1);
      text-shadow: 0 1px 0 rgba(255,255,255,0.3);
      letter-spacing: 0.02em;
    }
    .header-btn:hover { 
      transform: translateY(-3px) scale(1.02); 
      box-shadow: 
        0 8px 25px rgba(250,204,21,0.5),
        inset 0 1px 0 rgba(255,255,255,0.5),
        inset 0 -2px 0 rgba(0,0,0,0.1);
    }
    .header-btn:active { transform: scale(0.97); }
    .header-btn.secondary { 
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%); 
      color: #fff;
      box-shadow: 0 4px 15px rgba(59,130,246,0.4), inset 0 1px 0 rgba(255,255,255,0.2);
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    .header-btn.auth-btn { 
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 50%, #15803d 100%); 
      color: #fff; 
      padding: 10px 18px; 
      font-size: 12px;
      box-shadow: 0 4px 15px rgba(34,197,94,0.4), inset 0 1px 0 rgba(255,255,255,0.2);
    }
    .header-btn.logout-btn { 
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%); 
      color: #fff; 
      padding: 10px 18px; 
      font-size: 12px;
      box-shadow: 0 4px 15px rgba(239,68,68,0.4), inset 0 1px 0 rgba(255,255,255,0.2);
    }
    button, .btn, [onclick] { touch-action: manipulation; -webkit-tap-highlight-color: transparent; cursor: pointer; }
    
    /* User Display */
    #user-display { display: flex; align-items: center; gap: 8px; background: rgba(34,197,94,0.1); border: 1px solid #22c55e; padding: 6px 12px; border-radius: 999px; font-size: 11px; }
    #user-display.guest { background: rgba(250,204,21,0.1); border-color: #facc15; }
    #user-display .user-icon { font-size: 16px; }
    #user-display .user-name { color: #22c55e; font-weight: 600; max-width: 120px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    #user-display.guest .user-name { color: #facc15; }
    
    /* HUD - Premium Arcade Style */
    #hud { 
      height: var(--hud-height); 
      background: linear-gradient(180deg, #0f172a 0%, #020617 100%);
      border-radius: 16px; 
      border: 2px solid #334155;
      box-shadow: 
        0 4px 20px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.1),
        inset 0 -1px 0 rgba(0,0,0,0.3);
      display: flex; 
      align-items: center; 
      justify-content: space-between; 
      padding: 8px 16px; 
      gap: 12px;
    }
    .hud-group { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .hud-pill { 
      background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
      border-radius: 12px; 
      border: 1px solid #334155;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
      padding: 6px 12px; 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      min-width: 110px; 
    }
    .hud-label { font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; color: #94a3b8; font-weight: 600; }
    .hud-value { font-size: 14px; font-weight: 700; color: #f1f5f9; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
    .hud-bar-wrap { 
      flex: 1; 
      height: 8px; 
      border-radius: 4px; 
      background: #020617; 
      overflow: hidden; 
      border: 1px solid #1e293b;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
    }
    .hud-bar-fill { 
      height: 100%; 
      border-radius: inherit; 
      background: linear-gradient(90deg, #22c55e, #f97316, #ef4444); 
      transition: width 0.3s ease;
      box-shadow: 0 0 8px rgba(34,197,94,0.5);
    }
    
    /* Auth Modal */
    #auth-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 20000; align-items: center; justify-content: center; padding: 20px; }
    #auth-modal.show { display: flex; }
    .auth-box { background: linear-gradient(135deg, #1f2937, #111827); border-radius: 24px; padding: 30px; max-width: 400px; width: 100%; border: 2px solid #374151; }
    .auth-box h2 { text-align: center; margin-bottom: 20px; color: #facc15; font-size: 24px; }
    .auth-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
    .auth-tab { flex: 1; padding: 12px; border: none; border-radius: 12px; background: #374151; color: #9ca3af; font-weight: 600; cursor: pointer; transition: all 0.2s; }
    .auth-tab.active { background: linear-gradient(135deg, #facc15, #f59e0b); color: #000; }
    .auth-input { width: 100%; padding: 14px 16px; border: 2px solid #374151; border-radius: 12px; background: #020617; color: #fff; font-size: 14px; margin-bottom: 12px; }
    .auth-input:focus { outline: none; border-color: #facc15; }
    .auth-input::placeholder { color: #6b7280; }
    .auth-submit { width: 100%; padding: 14px; border: none; border-radius: 12px; background: linear-gradient(135deg, #22c55e, #16a34a); color: #fff; font-weight: 700; font-size: 16px; cursor: pointer; margin-top: 10px; }
    .auth-submit:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(34,197,94,0.4); }
    .auth-error { background: rgba(239,68,68,0.1); border: 1px solid #ef4444; color: #fca5a5; padding: 10px; border-radius: 8px; margin-bottom: 12px; font-size: 13px; display: none; }
    .auth-divider { text-align: center; color: #6b7280; margin: 20px 0; position: relative; }
    .auth-divider::before, .auth-divider::after { content: ''; position: absolute; top: 50%; width: 40%; height: 1px; background: #374151; }
    .auth-divider::before { left: 0; }
    .auth-divider::after { right: 0; }
    .guest-btn { width: 100%; padding: 14px; border: 2px solid #facc15; border-radius: 12px; background: transparent; color: #facc15; font-weight: 700; font-size: 14px; cursor: pointer; }
    .guest-btn:hover { background: rgba(250,204,21,0.1); }
    .auth-close { position: absolute; top: 20px; right: 20px; background: #374151; border: none; color: #fff; width: 40px; height: 40px; border-radius: 50%; font-size: 20px; cursor: pointer; }
    
    /* Guest Warning Banner */
    #guest-warning { display: none; background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; padding: 8px 16px; border-radius: 12px; margin-bottom: 6px; font-size: 12px; align-items: center; justify-content: space-between; }
    #guest-warning.show { display: flex; }
    #guest-warning button { background: #92400e; color: #fff; border: none; padding: 6px 12px; border-radius: 999px; font-size: 11px; font-weight: 600; cursor: pointer; }
    
    /* Game */
    #game-shell { flex: 1; display: flex; flex-direction: column; min-height: 0; position: relative; overflow: hidden; }
    #game-container { 
      width: 100%; 
      height: 640px; 
      max-height: 640px; 
      border-radius: 12px; 
      overflow: hidden; 
      background: #020617; 
      position: relative;
      /* HIDDEN until PLAY is clicked */
      display: none;
      /* Premium Arcade Frame */
      border: 4px solid #1a1a2e;
      box-shadow: 
        0 0 0 2px #ffd700,
        0 0 0 6px #1a1a2e,
        0 0 0 8px #c41e3a,
        0 0 0 10px #1a1a2e,
        0 0 30px rgba(255,215,0,0.3),
        inset 0 0 60px rgba(0,0,0,0.3);
    }
    #game-container.active {
      display: block;
    }
    #game-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      z-index: 1000;
      pointer-events: none;
    }
    #game-container::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(0,0,0,0.5), transparent);
      z-index: 1000;
      pointer-events: none;
    }
    
    /* Mobile Touch Controls - Hidden by default, tap-based system */
    #mobile-controls { display: none; }
    #mobile-touch-hint { display: none; }
    @media (max-width: 900px) { #mobile-touch-hint { display: block !important; } }
    @media (hover: none) and (pointer: coarse) { #mobile-touch-hint { display: block !important; } }
    
    /* Joke Banner - Positioned above GermProof ad */
    #joke-banner { display: none; background: linear-gradient(135deg, #1e293b, #0f172a); border: 2px solid #facc15; border-radius: 12px; padding: 15px; margin-top: 10px; margin-bottom: 0; position: relative; z-index: 10; }
    #joke-banner .close-joke { position: absolute; top: 5px; right: 10px; background: none; border: none; color: #9ca3af; font-size: 20px; cursor: pointer; }
    #joke-banner .close-joke:hover { color: #fff; }
    
    /* GermProof ad always visible below joke banner */
    #germproof-wrap { margin-top: 8px !important; z-index: 1; position: relative; }
    
    /* Start Screen */
    #start-screen { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.97); display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 30px; z-index: 500; cursor: pointer; }
    
    /* Controls Panel */
    #controls-toggle { z-index: 400 !important; }
    #instructions { z-index: 400 !important; }
    
    /* Modal Base */
    .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.92); z-index: 10000; align-items: center; justify-content: center; padding: 20px; }
    .modal.active { display: flex; }
    .modal-content { background: linear-gradient(135deg, #1f2937, #111827); border-radius: 20px; padding: 25px; max-width: 1100px; width: 100%; max-height: 90vh; overflow-y: auto; border: 2px solid #facc15; }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .modal-header h2 { font-size: 28px; color: #facc15; }
    .modal-close { background: #374151; border: none; color: #fff; font-size: 24px; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; }
    .modal-close:hover { background: #4b5563; transform: rotate(90deg); }
    
    /* Store Tabs */
    .store-tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #374151; padding-bottom: 15px; }
    .store-tab { padding: 10px 20px; border-radius: 999px; background: #374151; color: #9ca3af; cursor: pointer; font-weight: 600; border: none; transition: all 0.2s; }
    .store-tab.active { background: linear-gradient(135deg, #facc15, #f59e0b); color: #000; }
    .store-tab:hover:not(.active) { background: #4b5563; }
    
    /* Coins Display */
    .coins-display { background: rgba(250,204,21,0.1); border: 2px solid #facc15; border-radius: 12px; padding: 12px 20px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
    .coins-display .amount { font-size: 28px; font-weight: 700; color: #facc15; }
    
    /* Store Grid */
    .store-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 15px; }
    .store-item { background: linear-gradient(135deg, #374151, #1f2937); border: 2px solid #4b5563; border-radius: 14px; padding: 18px; transition: all 0.3s; }
    .store-item:hover { transform: translateY(-3px); border-color: #facc15; }
    .store-item.owned { border-color: #22c55e; opacity: 0.7; }
    .item-name { font-size: 16px; font-weight: 700; color: #fff; margin-bottom: 6px; }
    .item-desc { font-size: 12px; color: #9ca3af; margin-bottom: 12px; }
    .item-price { font-size: 20px; font-weight: 700; color: #facc15; margin-bottom: 12px; }
    .buy-btn { width: 100%; background: linear-gradient(135deg, #facc15, #f59e0b); color: #000; border: none; padding: 10px; border-radius: 999px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
    .buy-btn:hover { transform: scale(1.03); }
    .buy-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .buy-btn.owned { background: #22c55e; }
    
    /* GermProof Product Section */
    .germproof-product { background: linear-gradient(135deg, #e0f2fe, #bae6fd); border-radius: 16px; padding: 20px; margin-top: 20px; }
    .germproof-product h3 { color: #0c4a6e; font-size: 20px; margin-bottom: 15px; }
    .germproof-grid { display: grid; grid-template-columns: 200px 1fr; gap: 20px; align-items: center; }
    .germproof-img { width: 100%; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .germproof-info p { color: #075985; font-size: 14px; line-height: 1.6; margin-bottom: 15px; }
    .germproof-buy { background: linear-gradient(135deg, #0369a1, #0284c7); color: #fff; padding: 14px 28px; border-radius: 999px; font-weight: 700; border: none; cursor: pointer; font-size: 16px; }
    .germproof-buy:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(3,105,161,0.4); }
    
    /* Character Sprite Sheet Clipping - Show only first frame of 2x2 sprite sheets */
    .char-card img,
    #selected-char-img {
      /* Sprite sheets are 2x2 grids - clip to show only first frame (top-left 25%) */
      object-fit: none !important;
      object-position: 0% 0% !important;
      width: 60px !important;
      height: 60px !important;
    }
    
    /* Main character viewer in modal - larger, still show first frame */
    #char-360-img {
      object-fit: none !important;
      object-position: 0% 0% !important;
      width: 100% !important;
      height: 100% !important;
    }
    
    /* Character Sprite Fix - BRIGHTER characters, no darkening! */
    img[src*="/sprites/characters/"],
    img[src*="_idle"],
    img[src*="_walk"],
    img[src*="_run"],
    img[src*="_shoot"],
    #char-360-img,
    #selected-char-img,
    .char-card img,
    #char-viewer-container img {
      background: transparent !important;
      /* REMOVED mix-blend-mode: multiply - was making characters TOO DARK! */
      /* Add slight brightness boost and drop shadow for visibility */
      filter: brightness(1.1) drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
    }
    /* Force visible backgrounds on character containers */
    #char-viewer-container {
      background: linear-gradient(135deg, #1e293b, #374151) !important;
      border-radius: 12px;
      border: 2px solid #4b5563;
    }
    .char-card {
      background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(55, 65, 81, 0.9)) !important;
      border: 2px solid #4b5563 !important;
    }
    .char-card:hover {
      background: linear-gradient(135deg, rgba(45, 55, 72, 0.95), rgba(75, 85, 99, 0.9)) !important;
      border-color: #60a5fa !important;
    }
    /* Selected character preview on start screen - BRIGHT & VISIBLE */
    #selected-char-img {
      /* REMOVED mix-blend-mode: multiply - was making it too dark! */
      background: linear-gradient(135deg, #2d3748, #1e293b) !important;
      border-radius: 8px;
      padding: 5px;
      filter: brightness(1.15) drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
    }
    
    /* Turd Emoji */
    /* Turd emoji - show proper brown color */
    .turd-emoji { 
      /* Greyish-white-yellow poop coloring */
      filter: sepia(0.2) saturate(0.4) brightness(1.6) hue-rotate(15deg) contrast(0.9);
      display: inline-block;
    }
    /* Apply to all üí© emojis globally */
    .poop-styled {
      filter: sepia(0.2) saturate(0.4) brightness(1.6) hue-rotate(15deg) contrast(0.9);
      display: inline-block;
    }
    
    /* GermProof Banner - Compact for more game space */
    #germproof-wrap { border-radius: 0 0 18px 18px; border: 1px solid #111827; border-top: none; overflow: hidden; margin-bottom: 8px; position: relative; z-index: 1; }
    .germproof-banner { display: block; width: 100%; background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 40%, #7dd3fc 100%); text-decoration: none; color: #0c4a6e; transition: all 0.3s; position: relative; overflow: hidden; }
    .germproof-banner::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent); transform: rotate(45deg); transition: left 0.6s; }
    .germproof-banner:hover::before { left: 100%; }
    .germproof-banner:hover { background: linear-gradient(135deg, #bae6fd 0%, #7dd3fc 50%, #38bdf8 100%); }
    .germproof-inner { display: flex; align-items: center; gap: 15px; padding: 8px 20px; position: relative; z-index: 1; }
    .germproof-logo-wrap { flex-shrink: 0; background: transparent; padding: 5px; border-radius: 8px; }
    .germproof-logo-wrap img { height: 40px; width: auto; background: transparent; }
    .germproof-copy { flex: 1; }
    .germproof-copy h2 { font-size: 14px; margin-bottom: 2px; font-weight: 800; }
    .germproof-copy p { font-size: 11px; line-height: 1.3; margin: 0; }
    .germproof-copy strong { font-weight: 800; color: #0369a1; }
    .germproof-cta { flex-shrink: 0; background: linear-gradient(135deg, #facc15, #f59e0b); color: #000; padding: 8px 16px; border-radius: 999px; font-weight: 800; font-size: 12px; box-shadow: 0 4px 12px rgba(245,158,11,0.4); border: none; cursor: pointer; }
    .germproof-cta:hover { transform: scale(1.05); }
    
    @media (max-width: 768px) {
      #bt-header { flex-wrap: wrap; justify-content: center; }
      #bt-logo-wrap img { height: 60px; }
      #bt-tagline { display: none; }
      #hud { flex-wrap: wrap; padding: 6px 8px; }
      .store-grid { grid-template-columns: 1fr; }
      .germproof-inner { flex-direction: column; text-align: center; gap: 15px; }
      .germproof-logo-wrap img { height: 50px; }
      .germproof-grid { grid-template-columns: 1fr; text-align: center; }
    }
    
    /* ============= BIRDTURDS FIXES v35.0 - SPRITE CLIP FIX ============= */
    /* 
     * Sprite sheets are 2x2 grids (4 frames)
     * We need to show ONLY the first frame (top-left quarter)
     * Using clip-path to cut out just the first frame
     */
    
    /* Start screen character preview - clip to first frame */
    #selected-char-img {
      width: 120px !important;
      height: 120px !important;
      object-fit: cover !important;
      object-position: 0% 0% !important;
      image-rendering: pixelated !important;
      /* Clip to show only top-left 50% (first frame of 2x2) */
      clip-path: inset(0 50% 50% 0) !important;
      transform: scale(2) !important;
      transform-origin: top left !important;
    }
    
    /* Container needs overflow hidden */
    #selected-char-img-container {
      width: 120px !important;
      height: 120px !important;
      overflow: hidden !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    /* Character select modal cards - clip to first frame */
    .char-card {
      width: 100px !important;
      min-width: 100px !important;
      padding: 10px !important;
      overflow: hidden !important;
    }
    .char-card img {
      width: 80px !important;
      height: 80px !important;
      object-fit: cover !important;
      object-position: 0% 0% !important;
      image-rendering: pixelated !important;
      /* Clip to show only top-left 50% (first frame of 2x2) */
      clip-path: inset(0 50% 50% 0) !important;
      transform: scale(2) !important;
      transform-origin: top left !important;
    }
    
    /* Character viewer in modal - show first frame */
    #char-viewer-container {
      width: 140px !important;
      height: 140px !important;
      overflow: hidden !important;
    }
    #char-360-img {
      width: 140px !important;
      height: 140px !important;
      object-fit: cover !important;
      object-position: 0% 0% !important;
      image-rendering: pixelated !important;
      clip-path: inset(0 50% 50% 0) !important;
      transform: scale(2) !important;
      transform-origin: top left !important;
    }
    #char-viewer-name { font-size: 20px !important; }
    #char-viewer-bio { font-size: 13px !important; line-height: 1.5 !important; }
    #char-viewer-skills { font-size: 12px !important; }
    
    /* Selected character pulse */
    @keyframes selectedPulse {
      0%, 100% { box-shadow: 0 0 10px rgba(34, 197, 94, 0.5); }
      50% { box-shadow: 0 0 25px rgba(34, 197, 94, 0.8); }
    }
    
    /* GermProof ad - normal flow above footer, never covers content */
    #start-screen { padding-bottom: 20px !important; }
    #start-screen .header-btn, #start-screen button { position: relative; z-index: 10; }
    /* GermProof stays in document flow - NOT fixed */
    #germproof-wrap { 
      position: relative !important; 
      z-index: 1 !important; 
      margin-top: 20px !important;
      margin-bottom: 0 !important;
    }
    
    /* Logo fallback */
    .logo-text-fallback {
      font-size: 24px !important;
      font-weight: bold !important;
      color: #facc15 !important;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    /* Churches grid */
    #churches-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    .church-card {
      background: rgba(255,255,255,0.05);
      padding: 15px;
      border-radius: 12px;
      border-left: 4px solid #22c55e;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .church-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(34, 197, 94, 0.2);
    }
    
    /* Live indicator */
    .events-live-dot {
      width: 8px; height: 8px;
      background: #22c55e;
      border-radius: 50%;
      animation: livePulse 1.5s ease-in-out infinite;
      display: inline-block;
    }
    @keyframes livePulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    
    @media (max-width: 768px) {
      .char-card { width: 100px !important; min-width: 100px !important; }
      .char-card img { height: 70px !important; }
      #char-viewer-container { width: 120px !important; height: 140px !important; }
      #start-screen { padding-bottom: 180px !important; }
    }
    /* ============= END FIXES ============= */
    
    /* ============= GREYISH-WHITE POOP STYLING FOR CANVAS ============= */
    /* This applies to poop emojis rendered in canvas via CSS filter when possible */
    .poop-projectile, .turd-projectile, [data-type="poop"], [data-type="turd"] {
      filter: sepia(0.15) saturate(0.3) brightness(1.8) hue-rotate(10deg) contrast(0.85) !important;
    }
  
    /* ===== PLAY MODE & STREAMER MODE ===== */
    body.bt-playing {
      overflow: auto;  /* Allow scrolling to position game properly */
    }
    body.bt-playing #bt-header,
    body.bt-playing #guest-warning,
    body.bt-playing .reviews-ticker {
      display: none !important;
    }
    body.bt-playing #game-shell {
      flex: 1;
      display: flex;
      align-items: stretch;
      justify-content: center;
    }
    body.bt-playing #game-container {
      width: 100%;
      max-width: 100%;
      height: 100vh;
      max-height: 100vh;
    }

    body.bt-streamer #guest-warning,
    body.bt-streamer .reviews-ticker,
    body.bt-streamer #germproof-wrap {
      display: none !important;
    }
</style>
  
  <!-- Username Validation System -->
  <script>
    // Real-time username validation preview
    function validateUsernamePreview(value) {
      const preview = document.getElementById('username-preview');
      const status = document.getElementById('username-status');
      if (!preview || !status) return;
      
      if (!value || value.length < 2) {
        preview.style.display = 'none';
        return;
      }
      
      preview.style.display = 'block';
      
      // Check if it's free format (initials + numbers)
      const freePatterns = [
        /^[A-Z]{2,3}\d{1,4}$/i,
        /^[A-Z]{2,3}_\d{1,4}$/i,
        /^[A-Z]\.[A-Z]\.?\d*$/i,
        /^[A-Z]{2,3}[_-][A-Z]{2,3}$/i
      ];
      
      const isFreeFormat = freePatterns.some(p => p.test(value.toUpperCase()));
      
      // Check for banned words
      const bannedWords = ['admin', 'mod', 'staff', 'official', 'birdturds', 'germproof', 
        'fuck', 'shit', 'dick', 'cock', 'pussy', 'nigger', 'faggot', 'bitch', 'cunt',
        'trump', 'biden', 'obama', 'hitler', 'nazi'];
      const lowerVal = value.toLowerCase();
      const hasBanned = bannedWords.some(w => lowerVal.includes(w));
      
      // Check for real name pattern
      const isRealName = /^[A-Z][a-z]+\s+[A-Z][a-z]+$/.test(value);
      
      if (hasBanned) {
        status.innerHTML = '<span style="color:#ef4444;">‚ùå Contains prohibited content</span>';
        return;
      }
      
      if (isRealName) {
        status.innerHTML = '<span style="color:#ef4444;">‚ùå Real names not allowed - use initials like ' + 
          value.split(' ').map(n => n[0]).join('.') + '.</span>';
        return;
      }
      
      if (isFreeFormat) {
        status.innerHTML = '<span style="color:#22c55e;">‚úÖ FREE - ' + value.toUpperCase() + '</span>';
      } else if (/^[A-Za-z]{3,15}$/.test(value)) {
        // Single word - premium
        const ultraPremium = ['god', 'jesus', 'christ', 'lord', 'king', 'queen', 'legend', 'master', 'champion', 'hero', 'angel', 'saint'];
        const isUltra = ultraPremium.includes(lowerVal);
        const cost = isUltra ? 2500 : 500;
        const coins = parseInt(localStorage.getItem('birdturds_coins') || '0');
        
        if (coins >= cost) {
          status.innerHTML = '<span style="color:#fcd34d;">' + (isUltra ? 'üíé ULTRA PREMIUM' : '‚≠ê PREMIUM') + 
            ' - ' + cost + ' coins</span><br><span style="color:#86efac;">You have ' + coins + ' coins ‚úì</span>';
        } else {
          status.innerHTML = '<span style="color:#f87171;">' + (isUltra ? 'üíé ULTRA PREMIUM' : '‚≠ê PREMIUM') + 
            ' - ' + cost + ' coins</span><br><span style="color:#fca5a5;">You need ' + (cost - coins) + ' more coins</span>';
        }
      } else {
        // Other format - suggest free alternative
        const initials = value.substring(0, 2).toUpperCase();
        const num = Math.floor(Math.random() * 99) + 1;
        status.innerHTML = '<span style="color:#f59e0b;">‚ö†Ô∏è Premium format</span><br>' +
          '<span style="color:#9ca3af;">Try free format: <span style="color:#22c55e;">' + initials + num + '</span></span>';
      }
    }
    
    // Canvas poop color modifier for game
    (function() {
      const originalDrawImage = CanvasRenderingContext2D.prototype.drawImage;
      const originalFillText = CanvasRenderingContext2D.prototype.fillText;
      
      // Override fillText to catch poop emojis
      CanvasRenderingContext2D.prototype.fillText = function(text, x, y, maxWidth) {
        if (text && text.includes('üí©')) {
          // Apply greyish-white filter for poop
          this.save();
          this.filter = 'sepia(0.15) saturate(0.3) brightness(1.8) hue-rotate(10deg)';
          if (maxWidth !== undefined) {
            originalFillText.call(this, text, x, y, maxWidth);
          } else {
            originalFillText.call(this, text, x, y);
          }
          this.restore();
          return;
        }
        if (maxWidth !== undefined) {
          originalFillText.call(this, text, x, y, maxWidth);
        } else {
          originalFillText.call(this, text, x, y);
        }
      };
    })();
  </script>
</head>
<body>
<!-- ===== CHRISTMAS DECORATIONS ===== -->
<div class="christmas-lights"></div>
<div class="christmas-snow" id="snow-container"></div>
<div class="nativity-scene" title="The Reason for the Season">üë∂üêÑüêë</div>
<div class="christmas-cross" title="Jesus is Lord">‚úùÔ∏è‚≠ê</div>

<div id="page">
  <header id="bt-header">
    <div id="bt-logo-wrap">
      <a href="/" style="text-decoration:none;">
        <img src="https://birdturds.com/logo.png" alt="BirdTurds Logo" style="height:70px;width:auto;background:transparent;" onerror="this.outerHTML='<span style=font-size:24px;font-weight:bold;color:#facc15;>ü¶Üüí© BIRDTURDS</span>'" />
      </a>
    </div>
    <div id="bt-tagline">
      <strong>üéÆ FREE Browser Game!</strong> Super jumps, knife attacks, erupting volcanoes!<br/>
      <strong>Desktop:</strong> WASD + Mouse + <strong style="color:#ef4444;">F=üî™Knife</strong> ‚Ä¢ <strong>Mobile:</strong> Touch ‚Ä¢ <strong>L</strong> = Leaderboard
    </div>
    <div class="header-buttons">
      <!-- User Status Display -->
      <div id="user-display" class="guest" style="display:none;">
        <span class="user-icon">üë§</span>
        <span class="user-name">Guest</span>
      </div>
      <button class="header-btn auth-btn" id="login-btn" onclick="showAuthModal()">üîê Login</button>
      <button class="header-btn logout-btn" id="logout-btn" onclick="logoutUser()" style="display:none;">Logout</button>
      <button class="header-btn" onclick="showLeaderboardModal()" style="background:linear-gradient(135deg,#ffd700,#f59e0b);">üèÜ LEADERBOARD</button>
      <button class="header-btn" onclick="openStore()">üõí UPGRADES & SHOP</button>
      <button class="header-btn" onclick="scrollToHowToPlay()" style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);">üìñ HOW TO PLAY</button>
      <a href="/about.html" class="header-btn" style="background:linear-gradient(135deg,#a855f7,#7c3aed);text-decoration:none;">üòÇ ABOUT</a>
      <button class="header-btn" id="streamer-toggle-btn" onclick="toggleStreamerMode()" style="background:linear-gradient(135deg,#0f172a,#020617);border:1px solid rgba(148,163,184,0.6);">
        üé• STREAMER MODE: OFF
      </button>
    </div>
  </header>
  
  <!-- Guest Warning Banner -->
  <div id="guest-warning">
    <span>‚ö†Ô∏è <strong>Playing as Guest!</strong> Your progress is only saved on this device. Create an account to sync across all devices!</span>
    <button onclick="showAuthModal()">Create Account</button>
  </div>

  <!-- ===== LIVE REVIEWS TICKER ===== -->
  <div class="reviews-ticker">
    <div class="reviews-track" id="reviews-track">
      <!-- Reviews populated by JS -->
    </div>
  </div>
  
  <!-- ===== LIVE LEADERBOARD TICKER ===== -->
  <div class="leaderboard-ticker">
    <div class="leaderboard-track" id="leaderboard-track">
      <!-- Leaderboard populated by JS -->
    </div>
  </div>

  <section id="hud">
    <div class="hud-group">
      <div class="hud-pill"><span class="hud-label">Score</span><span class="hud-value" id="hud-score">0</span></div>
      <div class="hud-pill"><span class="hud-label">‚ù§Ô∏è Health</span><div class="hud-bar-wrap"><div class="hud-bar-fill" id="hud-health-fill" style="width:100%;background:linear-gradient(90deg,#22c55e,#16a34a);"></div></div></div>
      <div class="hud-pill"><span class="hud-label"><span class="turd-emoji">üí©</span> Turd-O-Meter</span><div class="hud-bar-wrap"><div class="hud-bar-fill" id="hud-turd-fill" style="width:0%;background:linear-gradient(90deg,#9ca3af,#6b7280);"></div></div></div>
      <div class="hud-pill"><span class="hud-label">Ammo</span><div class="hud-bar-wrap"><div class="hud-bar-fill" id="hud-ammo-fill" style="width:100%"></div></div><span class="hud-value" id="hud-ammo-text">90/90</span></div>
    </div>
    <div class="hud-group">
      <div class="hud-pill"><span class="hud-label">TurdCoins</span><span class="hud-value" id="hud-coins">0</span></div>
      <div class="hud-pill"><span class="hud-label">Weapon</span><span class="hud-value" id="hud-weapon">Rifle</span></div>
      <div class="hud-pill" style="min-width:180px;"><span class="hud-label">üéØ Zone</span><span class="hud-value" id="hud-level">1/13</span><div class="hud-bar-wrap" style="width:80px;"><div class="hud-bar-fill" id="hud-level-fill" style="width:0%;background:linear-gradient(90deg,#facc15,#f59e0b);"></div></div><span class="hud-value" id="hud-birds-left" style="font-size:10px;">0/15</span></div>
    </div>
  </section>

  <section id="game-shell">
    <div id="game-container"></div>
    
    <!-- START SCREEN OVERLAY -->
    <!-- CLEAN MINIMAL START SCREEN -->
    <div id="start-screen">
      <style>
        .turd-icon-special {
          filter: sepia(0.3) saturate(0.5) brightness(1.8) hue-rotate(20deg);
          display: inline-block;
        }
      </style>
      
      <!-- Logo & Title -->
      <div style="font-size:50px;margin-bottom:10px;">ü¶Ü<span class="turd-icon-special">üí©</span>üéØ</div>
      <h1 style="font-size:38px;color:#facc15;margin-bottom:8px;text-shadow:0 0 20px rgba(250,204,21,0.5);">BIRDTURDS</h1>
      <p style="font-size:13px;color:#9ca3af;margin-bottom:20px;">Shoot birds ‚Ä¢ Protect Trump ‚Ä¢ 15+ Zones</p>
      
      <!-- ALL 8 HUNTERS PREVIEW - 2x4 GRID: Males/Females alternating -->
      <div id="all-hunters-preview" style="margin-bottom:15px;padding:25px;background:rgba(0,0,0,0.6);border-radius:16px;display:inline-block;border:2px solid #facc15;">
        <h2 style="color:#facc15;font-size:26px;margin:0 0 20px 0;text-shadow:0 0 10px rgba(250,204,21,0.5);">üéØ Choose Your Hunter!</h2>
        
        <!-- 2-column grid layout -->
        <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:15px;justify-items:center;">
          <!-- Row 1: Males -->
          <div class="hunter-mini" onclick="quickSelectHunter('buck')" data-hunter="buck">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/buck_idle.png')"></div>
            <span class="hunter-name">Buck</span>
            <span class="hunter-desc">Classic cowboy from Texas. 5th generation rancher who never misses.</span>
            <span class="hunter-weapon">üî´ Lever-Action Rifle</span>
          </div>
          <div class="hunter-mini" onclick="quickSelectHunter('bubba')" data-hunter="bubba">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/bubba_idle.png')"></div>
            <span class="hunter-name">Bubba</span>
            <span class="hunter-desc">Louisiana swamp guide. Survived 3 gator attacks. Loves his truck.</span>
            <span class="hunter-weapon">üî´ Pump-Action Shotgun</span>
          </div>
          
          <!-- Row 2: Females -->
          <div class="hunter-mini" onclick="quickSelectHunter('daisy')" data-hunter="daisy">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/daisy_idle.png')"></div>
            <span class="hunter-name">Daisy</span>
            <span class="hunter-desc">Nashville cowgirl. 3x skeet shooting champ. Don't mess with her farm.</span>
            <span class="hunter-weapon">üî´ Double-Barrel Shotgun</span>
          </div>
          <div class="hunter-mini" onclick="quickSelectHunter('sierra')" data-hunter="sierra">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/sierra_idle.png')"></div>
            <span class="hunter-name">Sierra</span>
            <span class="hunter-desc">Ex-Special Forces. Fastest reflexes in the game. All business.</span>
            <span class="hunter-weapon">üî´ AR-15 Carbine</span>
          </div>
          
          <!-- Row 3: Males -->
          <div class="hunter-mini" onclick="quickSelectHunter('clyde')" data-hunter="clyde">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/clyde_idle.png')"></div>
            <span class="hunter-name">Clyde</span>
            <span class="hunter-desc">Patriotic biker with tattoos. Loves America, hates birds on cars.</span>
            <span class="hunter-weapon">üî´ Semi-Auto Hunting Rifle</span>
          </div>
          <div class="hunter-mini" onclick="quickSelectHunter('gunner')" data-hunter="gunner">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/gunner_idle.png')"></div>
            <span class="hunter-name">Gunner</span>
            <span class="hunter-desc">Retired Army Sergeant. 3 tours overseas. Cigar always lit.</span>
            <span class="hunter-weapon">üî´ AK Assault Rifle</span>
          </div>
          
          <!-- Row 4: Females -->
          <div class="hunter-mini" onclick="quickSelectHunter('jolene')" data-hunter="jolene">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/jolene_idle.png')"></div>
            <span class="hunter-name">Jolene</span>
            <span class="hunter-desc">Kentucky ranch queen. Pink boots, perfect aim. Protects her land.</span>
            <span class="hunter-weapon">üî´ Bolt-Action Sniper Rifle</span>
          </div>
          <div class="hunter-mini" onclick="quickSelectHunter('tammy')" data-hunter="tammy">
            <div class="hunter-sprite" style="background-image:url('/sprites/characters/tammy_idle.png')"></div>
            <span class="hunter-name">Tammy</span>
            <span class="hunter-desc">Gen-Z huntress. Bubblegum & bad attitude. Underestimate her = mistake.</span>
            <span class="hunter-weapon">üî´ Semi-Auto Pistol</span>
          </div>
        </div>
        
        <!-- Selected hunter indicator - shows NONE until picked -->
        <div id="hunter-selection-status" style="margin-top:20px;padding-top:15px;border-top:1px solid rgba(255,255,255,0.2);">
          <p id="no-hunter-warning" style="color:#ef4444;font-weight:bold;margin:0;font-size:18px;">
            ‚ö†Ô∏è Click a hunter above to play!
          </p>
          <p id="hunter-selected-msg" style="color:#22c55e;font-weight:bold;margin:0;font-size:20px;display:none;">
            ‚úÖ Playing as: <span id="selected-char-name"></span>
          </p>
        </div>
      </div>
      
      <style>
        /* Hunter mini cards - 3X BIGGER with WHITE BACKGROUND */
        .hunter-mini {
          width:170px;
          height:260px;
          background:#ffffff;
          border-radius:12px;
          cursor:pointer;
          display:flex;
          flex-direction:column;
          align-items:center;
          justify-content:flex-start;
          border:4px solid #d1d5db;
          transition:all 0.3s ease;
          padding:10px 8px;
          overflow:hidden;
          box-shadow:0 4px 12px rgba(0,0,0,0.4);
          position:relative;
        }
        .hunter-mini:hover {
          transform:scale(1.12);
          z-index:100;
          border-color:#facc15;
          box-shadow:0 12px 35px rgba(250,204,21,0.6);
        }
        /* Animate sprite on hover */
        .hunter-mini:hover .hunter-sprite {
          animation:hunterBounce 0.4s ease infinite;
        }
        @keyframes hunterBounce {
          0%, 100% { transform:translateY(0); }
          50% { transform:translateY(-8px); }
        }
        .hunter-mini.selected {
          border-color:#22c55e;
          border-width:5px;
          box-shadow:0 0 30px rgba(34,197,94,0.9);
          transform:scale(1.08);
          background:linear-gradient(180deg, #ffffff 0%, #dcfce7 100%);
        }
        .hunter-mini.selected .hunter-sprite {
          animation:hunterBounce 0.5s ease infinite;
        }
        /* Sprite display - shows ONLY first frame of 2x2 spritesheet */
        .hunter-sprite {
          width:120px;
          height:120px;
          background-size:200% 200%;
          background-position:0% 0%;
          background-repeat:no-repeat;
          image-rendering:pixelated;
          background-color:#ffffff;
          transition:transform 0.2s ease;
        }
        .hunter-name {
          font-size:18px;
          color:#1f2937;
          font-weight:bold;
          margin-top:6px;
          white-space:nowrap;
        }
        .hunter-desc {
          font-size:9px;
          color:#6b7280;
          text-align:center;
          margin-top:4px;
          line-height:1.3;
          padding:0 5px;
          height:36px;
          overflow:hidden;
        }
        .hunter-weapon {
          font-size:11px;
          color:#2563eb;
          font-weight:bold;
          white-space:nowrap;
          margin-top:6px;
        }
        .hunter-mini.selected .hunter-name {
          color:#16a34a;
        }
        .hunter-mini.selected .hunter-weapon {
          color:#22c55e;
        }
        /* Pulse animation for unselected state */
        @keyframes pulseWarning {
          0%,100% { opacity:1; }
          50% { opacity:0.5; }
        }
        #no-hunter-warning {
          animation: pulseWarning 1.2s ease-in-out infinite;
        }
      </style>
      
      <script>
        // Track if hunter is selected THIS SESSION
        let hunterSelected = false;
        
        // Quick select hunter from start screen
        function quickSelectHunter(hunterId) {
          // Save selection
          localStorage.setItem('birdturds_character', hunterId);
          hunterSelected = true;
          
          // Update name display
          const names = {buck:'Buck',daisy:'Daisy',bubba:'Bubba',clyde:'Clyde',sierra:'Sierra',gunner:'Gunner',jolene:'Jolene',tammy:'Tammy'};
          const nameEl = document.getElementById('selected-char-name');
          if (nameEl && names[hunterId]) nameEl.textContent = names[hunterId];
          
          // Show selected message, hide warning
          document.getElementById('no-hunter-warning').style.display = 'none';
          document.getElementById('hunter-selected-msg').style.display = 'block';
          
          // Update visual selection
          document.querySelectorAll('.hunter-mini').forEach(el => el.classList.remove('selected'));
          event.currentTarget.classList.add('selected');
          
          // Enable play button
          const playBtn = document.getElementById('play-now-btn');
          if (playBtn) {
            playBtn.style.opacity = '1';
            playBtn.style.pointerEvents = 'auto';
          }
        }
        
        // Initialize on load - NEVER pre-select, always make them choose
        document.addEventListener('DOMContentLoaded', function() {
          // Always start with no selection - make them choose every time!
          hunterSelected = false;
          
          // Dim play button until they choose
          const playBtn = document.getElementById('play-now-btn');
          if (playBtn) {
            playBtn.style.opacity = '0.5';
            playBtn.addEventListener('click', function(e) {
              if (!hunterSelected) {
                e.stopPropagation();
                e.preventDefault();
                alert('üéØ Please choose your hunter first!');
                return false;
              }
            }, true);
          }
        });
      </script>
      
      <!-- BIG PLAY BUTTON -->
      <div style="margin-bottom:20px;">
        <button id="play-now-btn" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:18px 60px;font-size:20px;font-weight:bold;border-radius:999px;cursor:pointer;box-shadow:0 8px 30px rgba(34,197,94,0.5);touch-action:manipulation;">
          ‚ñ∂ PLAY NOW
        </button>
      </div>
      
      <!-- Secondary Options (single row) -->
      <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:15px;">
        <button id="multiplayer-btn" onclick="showMultiplayerModal()" style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;padding:10px 18px;font-size:12px;font-weight:bold;border-radius:999px;cursor:pointer;">üåê Multiplayer</button>
      </div>
      
      <!-- Difficulty (compact) -->
      <div style="margin-bottom:15px;">
        <div style="display:flex;gap:6px;justify-content:center;">
          <button id="diff-beginner" onclick="setDifficulty('beginner')" style="background:#22c55e;color:#fff;border:2px solid transparent;padding:6px 12px;font-size:10px;font-weight:bold;border-radius:8px;cursor:pointer;">üü¢ Easy</button>
          <button id="diff-intermediate" onclick="setDifficulty('intermediate')" style="background:#f59e0b;color:#fff;border:2px solid #ffd700;padding:6px 12px;font-size:10px;font-weight:bold;border-radius:8px;cursor:pointer;">üü° Normal</button>
          <button id="diff-advanced" onclick="setDifficulty('advanced')" style="background:#ef4444;color:#fff;border:2px solid transparent;padding:6px 12px;font-size:10px;font-weight:bold;border-radius:8px;cursor:pointer;">üî¥ Hard</button>
        </div>
      </div>
      
      <!-- Small Links -->
      <div style="display:flex;gap:15px;justify-content:center;font-size:11px;color:#64748b;">
        <a href="#" onclick="scrollToHowToPlay();return false;" style="color:#64748b;text-decoration:none;">How to Play</a>
        <span>‚Ä¢</span>
        <a href="#" onclick="openStore();return false;" style="color:#64748b;text-decoration:none;">Store</a>
        <span>‚Ä¢</span>
        <a href="#" onclick="toggleControls();return false;" style="color:#64748b;text-decoration:none;">Controls</a>
      </div>
      
      <!-- Mobile hint (hidden by default) -->
      <div id="mobile-start-hint" style="display:none;margin-top:15px;padding:8px;background:rgba(59,130,246,0.2);border-radius:8px;max-width:280px;">
        <p style="color:#60a5fa;font-size:11px;margin:0;">üì± Tap to shoot ‚Ä¢ Drag to move ‚Ä¢ Swipe up to jump</p>
      </div>
      
      <!-- Minimal scripture (one line) -->
      <p style="color:#ffd700;font-size:10px;margin-top:20px;font-style:italic;opacity:0.7;">"For God so loved the world..." ‚Äî John 3:16</p>
    </div>
    
    <!-- Controls Toggle Button -->
    <button id="controls-toggle" style="position:absolute;top:10px;left:10px;background:rgba(0,0,0,0.8);border:2px solid #facc15;color:#facc15;padding:12px 20px;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;z-index:99;touch-action:manipulation;-webkit-tap-highlight-color:transparent;">
      üéÆ CONTROLS
    </button>
    
    <!-- Quick Help Button (Shows key bindings) -->
    <button id="quick-help-btn" onclick="toggleQuickHelp()" style="position:absolute;top:10px;left:140px;background:rgba(0,0,0,0.8);border:2px solid #3b82f6;color:#3b82f6;padding:12px 16px;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;z-index:99;touch-action:manipulation;">
      ‚ùì
    </button>
    
    <!-- Quick Help Popup (Minimal, non-intrusive) -->
    <div id="quick-help-popup" style="display:none;position:absolute;top:60px;left:10px;background:rgba(0,0,0,0.95);padding:15px;border-radius:10px;border:2px solid #3b82f6;z-index:100;font-size:11px;color:#e5e7eb;max-width:200px;">
      <div style="color:#3b82f6;font-weight:bold;margin-bottom:8px;">‚å®Ô∏è QUICK KEYS</div>
      <div style="line-height:1.8;">
        <strong>A/D</strong> or ‚Üê/‚Üí = Move<br>
        <strong>SPACE</strong> or W = Jump<br>
        <strong>CLICK</strong> = Shoot<br>
        <strong>K</strong> = Knife attack<br>
        <strong>B</strong> = Bible weapon<br>
        <strong>G</strong> = Throw grenade<br>
        <strong>F</strong> = Special power<br>
        <strong>SHAKE</strong> = Remove turds<br>
        <strong>H</strong> = Full controls<br>
        <strong>P</strong> = Pause<br>
        <strong>M</strong> = Mute music
      </div>
      <button onclick="toggleQuickHelp()" style="margin-top:10px;background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;width:100%;font-size:10px;">Close</button>
    </div>
    
    <!-- In-Game Instructions Overlay (Hidden by default) -->
    <div id="instructions" style="display:none;position:absolute;top:120px;left:10px;background:rgba(0,0,0,0.97);padding:12px 14px;border-radius:12px;border:2px solid #facc15;max-width:400px;z-index:100;font-size:10px;color:#e5e7eb;max-height:80vh;overflow-y:auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
        <h3 style="color:#facc15;margin:0;font-size:13px;">üéÆ COMPLETE GAME GUIDE</h3>
        <button id="close-controls-btn" style="background:#ef4444;color:#fff;border:none;border-radius:50%;width:32px;height:32px;font-size:18px;font-weight:bold;cursor:pointer;line-height:1;touch-action:manipulation;">√ó</button>
      </div>
      
      <!-- GAME SYNOPSIS -->
      <div style="background:linear-gradient(135deg,rgba(250,204,21,0.2),rgba(239,68,68,0.1));padding:10px;border-radius:8px;margin-bottom:8px;border:2px solid #facc15;">
        <div style="color:#ffd700;font-weight:bold;font-size:12px;margin-bottom:6px;text-align:center;">ü¶Ö THE MISSION ü¶Ö</div>
        <div style="line-height:1.5;font-size:9px;text-align:center;">
          <span style="color:#ffffff;">Protect America from birds, swamp creatures, demons, and wake the sleepers!</span><br/><br/>
          <span style="color:#22c55e;">‚úÖ Shoot birds dropping turds on you</span><br/>
          <span style="color:#22c55e;">‚úÖ Shoot turds before they hit you!</span><br/>
          <span style="color:#22c55e;">‚úÖ Traverse 13 unique American landscapes</span><br/>
          <span style="color:#22c55e;">‚úÖ DRAIN THE SWAMP - Arrest globalists!</span><br/>
          <span style="color:#22c55e;">‚úÖ WAKE THE SLEEPERS - Give Bibles to phone zombies!</span><br/>
          <span style="color:#22c55e;">‚úÖ Defeat demons with scripture warfare!</span><br/>
          <span style="color:#22c55e;">‚úÖ Protect President Trump at the White House!</span><br/><br/>
          <span style="color:#ffd700;font-style:italic;">"No weapon formed against you shall prosper." ‚Äî Isaiah 54:17</span>
        </div>
      </div>
      
      <!-- THE DEEPER MESSAGE -->
      <div style="background:linear-gradient(135deg,rgba(239,68,68,0.2),rgba(255,215,0,0.15));padding:8px;border-radius:6px;margin-bottom:6px;border:2px solid #f87171;">
        <div style="color:#f87171;font-weight:bold;font-size:10px;margin-bottom:4px;text-align:center;">‚ö†Ô∏è THE DEEPER MESSAGE ‚ö†Ô∏è</div>
        <div style="line-height:1.4;font-size:8px;text-align:center;">
          <span style="color:#ffd700;">This game is not just for humor ‚Äî it's meant to AWAKEN you!</span><br/>
          <span style="color:#e5e7eb;">The rapture is coming. Jesus will return for His church.</span><br/>
          <span style="color:#22c55e;font-weight:bold;">God doesn't want ANYONE left behind!</span><br/>
          <span style="color:#e5e7eb;">"For many are called, but few are chosen." ‚Äî Matthew 22:14</span><br/>
          <span style="color:#ffd700;">Wake up from phone addiction. Read your Bible. Pray.</span><br/>
          <span style="color:#f87171;font-style:italic;">"Be ready, for the Son of Man is coming at an hour you do not expect." ‚Äî Matthew 24:44</span>
        </div>
      </div>
      
      <!-- GAME PURPOSE & VALUES -->
      <div style="background:rgba(34,197,94,0.2);padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid #22c55e;">
        <div style="color:#22c55e;font-weight:bold;font-size:10px;margin-bottom:4px;">üéØ THE GOAL OF THIS GAME üéØ</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#ffffff;">‚úì Help kids REGULATE screen time (20-min reminders)</span><br/>
          <span style="color:#ffffff;">‚úì Encourage FAMILY TIME - play together!</span><br/>
          <span style="color:#ffffff;">‚úì SHARE the game & spread the Gospel</span><br/>
          <span style="color:#ffffff;">‚úì Balance fun with FAITH-building messages</span><br/>
          <span style="color:#ffd700;font-weight:bold;">Play WITH those you love. Share what matters!</span>
        </div>
      </div>
      
      <!-- RESOURCES FOR YOUTH -->
      <div style="background:rgba(59,130,246,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;border:1px solid #3b82f6;">
        <div style="color:#60a5fa;font-weight:bold;font-size:9px;margin-bottom:3px;">üì∫ LEARN MORE - VIDEO RESOURCES</div>
        <div style="line-height:1.4;font-size:8px;">
          <a href="https://www.youtube.com/@reallifejackhibbs" target="_blank" style="color:#22c55e;text-decoration:underline;">Pastor Jack Hibbs</a> - End Times, Rapture, Family<br/>
          <a href="https://tpusafaith.com" target="_blank" style="color:#22c55e;text-decoration:underline;">TPUSA Faith</a> - Equipping youth for biblical truth<br/>
          <span style="color:#94a3b8;">Stand boldly for righteousness!</span>
        </div>
      </div>
      
      <!-- DIFFICULTY MODES -->
      <div style="background:rgba(139,92,246,0.2);padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid #8b5cf6;">
        <div style="color:#a855f7;font-weight:bold;font-size:10px;margin-bottom:4px;">üéØ 3 DIFFICULTY MODES</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#22c55e;">üü¢ BEGINNER:</span> 150 HP, slower enemies, helpful hints<br/>
          <span style="color:#f59e0b;">üü° INTERMEDIATE:</span> 100 HP, balanced challenge<br/>
          <span style="color:#ef4444;">üî¥ ADVANCED:</span> 75 HP, ALL 8 bosses at White House!
        </div>
      </div>
      
      <!-- 13 LEVELS -->
      <div style="background:rgba(59,130,246,0.2);padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid #3b82f6;">
        <div style="color:#60a5fa;font-weight:bold;font-size:10px;margin-bottom:4px;">üó∫Ô∏è 13 EPIC ZONES - CLEAR THE SKIES!</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#22c55e;">Zone 1:</span> Farm - Kill 15 birds<br/>
          <span style="color:#22c55e;">Zone 2:</span> Forest - Kill 20 birds<br/>
          <span style="color:#22c55e;">Zone 3:</span> Lake - Kill 25 birds<br/>
          <span style="color:#ff6600;font-weight:bold;">Zone 4: STATE PARK</span> - <span style="color:#ffff00;">üö´ NO HUNTING! Walk through!</span><br/>
          <span style="color:#22c55e;">Zone 5:</span> Desert - Kill 30 birds<br/>
          <span style="color:#22c55e;">Zone 6:</span> Snow Mountain - Kill 35 birds<br/>
          <span style="color:#3b82f6;">Zone 7:</span> Beach - Kill 40 seagulls<br/>
          <span style="color:#3b82f6;">Zone 8:</span> Suburbs - Kill 45 crows<br/>
          <span style="color:#3b82f6;">Zone 9:</span> Town - Kill 50 pigeons<br/>
          <span style="color:#ffd700;">Zone 10:</span> Church Camp - Kill 30 birds (scriptures!)<br/>
          <span style="color:#c41e3a;font-weight:bold;">üéÑ Zone 11: CHRISTMAS VILLAGE</span> - <span style="color:#22c55e;">Kill 35 + Find Baby Jesus! ‚≠ê</span><br/>
          <span style="color:#ffd700;font-weight:bold;">Zone 12: THE SWAMP</span> - <span style="color:#ff6666;">DRAIN IT! Kill 60!</span><br/>
          <span style="color:#ff4444;font-weight:bold;">Zone 13: WHITE HOUSE</span> - <span style="color:#ff6666;">FINAL! Kill 100 + ALL BOSSES!</span>
        </div>
      </div>
      
      <!-- CONTROLS -->
      <div style="background:rgba(34,197,94,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#22c55e;font-weight:bold;font-size:10px;margin-bottom:3px;">üíª DESKTOP CONTROLS</div>
        <div style="line-height:1.4;font-size:9px;">
          <strong style="color:#facc15;">A/D or ‚Üê‚Üí</strong> = Run left/right<br/>
          <strong style="color:#facc15;">W or ‚Üë</strong> = ü¶ò SUPER JUMP (reach flying birds!)<br/>
          <strong style="color:#facc15;">S/C/Shift</strong> = Crouch (duck under turds!)<br/>
          <strong style="color:#ff6600;">Z</strong> = üõ°Ô∏è PRONE (lay flat - dodge diving bosses!)<br/>
          <strong style="color:#facc15;">Mouse + Click</strong> = Aim & Shoot (works in air!)<br/>
          <strong style="color:#facc15;">Spacebar</strong> = Shoot (hold to rapid fire)<br/>
          <strong style="color:#ef4444;">F or K</strong> = üî™ KNIFE ATTACK (+50% bonus!)<br/>
          <strong style="color:#3b82f6;">T</strong> = ‚ö° Call Lightning (3 charges)<br/>
          <strong style="color:#60a5fa;">G</strong> = üå™Ô∏è Call Tornado (2 charges)<br/>
          <strong style="color:#ffd700;">A</strong> = Spiritual Armory (angels & Bible weapon)<br/>
          <strong style="color:#ffd700;">B</strong> = Fire Holy Bible at demons!<br/>
          <strong style="color:#22c55e;">E</strong> = ARREST woke turd globalists!<br/>
          <strong style="color:#ffd700;">V</strong> = Give Bible to phone zombies!<br/>
          <strong style="color:#f472b6;">X or Q</strong> = Shake off turds<br/>
          <strong style="color:#94a3b8;">L</strong> = Leaderboard ‚Ä¢ <strong style="color:#94a3b8;">H</strong> = Hide this panel<br/>
          <strong style="color:#94a3b8;">R</strong> = Restart (after game over)
        </div>
      </div>
      
      <!-- MOBILE -->
      <div style="background:rgba(59,130,246,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#3b82f6;font-weight:bold;font-size:10px;margin-bottom:3px;">üì± TOUCH CONTROLS (No Virtual Joystick!)</div>
        <div style="line-height:1.4;font-size:9px;">
          <strong style="color:#facc15;">Tap anywhere</strong> = Aim & Shoot at that spot<br/>
          <strong style="color:#facc15;">Touch & Drag</strong> = Move character smoothly<br/>
          <strong style="color:#22c55e;">Swipe UP</strong> = Jump<br/>
          <strong style="color:#f59e0b;">Swipe DOWN</strong> = Crouch<br/>
          <strong style="color:#f472b6;">Double-tap</strong> = Shake off turds<br/>
          <strong style="color:#22c55e;">Long press</strong> = Rapid fire
        </div>
      </div>
      
      <!-- GAME SETTINGS -->
      <div style="background:linear-gradient(135deg,rgba(168,85,247,0.2),rgba(59,130,246,0.15));padding:10px;border-radius:8px;margin-bottom:6px;border:1px solid #a855f7;">
        <div style="color:#a855f7;font-weight:bold;font-size:11px;margin-bottom:8px;">üéµ MUSIC & GAME SETTINGS</div>
        
        <!-- Music Selection -->
        <div style="margin-bottom:8px;">
          <label style="color:#e5e7eb;font-size:10px;display:block;margin-bottom:4px;">Background Music:</label>
          <select id="music-select" onchange="setMusicChoice(this.value)" style="width:100%;padding:6px;border-radius:6px;background:#1f2937;color:#fff;border:1px solid #374151;font-size:11px;">
            <optgroup label="üéÆ Addictive Game Music">
              <option value="adventure">üéµ Adventure Theme</option>
              <option value="action">‚öîÔ∏è Action Packed</option>
              <option value="intense">üî• Intense Battle</option>
              <option value="peaceful">üåÖ Peaceful Journey</option>
              <option value="arcade_fever">üïπÔ∏è Arcade Fever (Fast!)</option>
              <option value="turbo_hunt">üöÄ Turbo Hunt</option>
              <option value="bird_blaster">üê¶ Bird Blaster</option>
              <option value="retro_wave">üåä Retro Wave</option>
              <option value="boss_battle">üëπ Boss Battle</option>
              <option value="victory_lap">üèÜ Victory Lap</option>
            </optgroup>
            <optgroup label="‚úùÔ∏è Classic Hymns">
              <option value="amazing_grace">üôè Amazing Grace (Classic)</option>
              <option value="how_great">‚úùÔ∏è How Great Thou Art</option>
              <option value="mighty_fortress">üè∞ A Mighty Fortress</option>
            </optgroup>
            <optgroup label="üî• Modern Worship (Youth Hits)">
              <option value="oceans_style">üåä Oceans Style (Hillsong)</option>
              <option value="way_maker_style">üî• Way Maker Style</option>
              <option value="reckless_love_style">üíï Reckless Love Style</option>
              <option value="goodness_of_god_style">üôå Goodness of God Style</option>
              <option value="graves_into_gardens_style">üå± Graves Into Gardens Style</option>
            </optgroup>
            <optgroup label="ü§† Country (Clean & Conservative)">
              <option value="country_roads_style">ü§† Country Roads Style</option>
              <option value="god_bless_usa_style">üá∫üá∏ God Bless USA Style</option>
              <option value="amazing_grace_country">üé∏ Amazing Grace (Country)</option>
              <option value="simple_man_style">üë® Simple Man Style</option>
            </optgroup>
            <optgroup label="üá∫üá∏ Patriotic">
              <option value="patriotic">üá∫üá∏ Patriotic March</option>
            </optgroup>
            <option value="none">üîá No Music</option>
          </select>
        </div>
        
        <!-- VOLUME CONTROLS -->
        <div style="margin-bottom:8px;">
          <label style="color:#e5e7eb;font-size:10px;display:block;margin-bottom:4px;">üéµ Music Volume: <span id="music-vol-label">50%</span></label>
          <input type="range" id="music-volume" min="0" max="100" value="50" 
            oninput="setMusicVolume(this.value)" 
            style="width:100%;height:6px;cursor:pointer;accent-color:#a855f7;">
        </div>
        
        <div style="margin-bottom:8px;">
          <label style="color:#e5e7eb;font-size:10px;display:block;margin-bottom:4px;">üîä Sound Effects Volume: <span id="sfx-vol-label">60%</span></label>
          <input type="range" id="sfx-volume" min="0" max="100" value="60" 
            oninput="setSFXVolume(this.value)" 
            style="width:100%;height:6px;cursor:pointer;accent-color:#22c55e;">
        </div>
        
        <!-- Master Volume -->
        <div style="margin-bottom:8px;">
          <label style="color:#ffd700;font-size:10px;display:block;margin-bottom:4px;">üîà Master Volume: <span id="master-vol-label">70%</span></label>
          <input type="range" id="master-volume" min="0" max="100" value="70" 
            oninput="setMasterVolume(this.value)" 
            style="width:100%;height:6px;cursor:pointer;accent-color:#ffd700;">
        </div>
        
        <!-- VOICE CONTROLS (ElevenLabs) -->
        <div style="background:rgba(168,85,247,0.15);padding:8px;border-radius:6px;margin-bottom:8px;border:1px solid #a855f7;">
          <div style="color:#a855f7;font-weight:bold;font-size:10px;margin-bottom:6px;">üé§ VOICE NARRATION</div>
          <div style="margin-bottom:6px;">
            <label style="color:#e5e7eb;font-size:10px;display:block;margin-bottom:4px;">Voice Volume: <span id="voice-vol-label">80%</span></label>
            <input type="range" id="voice-volume" min="0" max="100" value="80" 
              oninput="setVoiceVolume(this.value)" 
              style="width:100%;height:6px;cursor:pointer;accent-color:#a855f7;">
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
            <input type="checkbox" id="voice-scriptures" onchange="toggleScriptureVoice(this.checked)" checked style="width:14px;height:14px;">
            <label for="voice-scriptures" style="color:#e5e7eb;font-size:9px;">‚úùÔ∏è Read scriptures aloud</label>
          </div>
          <div style="display:flex;align-items:center;gap:8px;">
            <input type="checkbox" id="voice-jokes" onchange="toggleJokeVoice(this.checked)" checked style="width:14px;height:14px;">
            <label for="voice-jokes" style="color:#e5e7eb;font-size:9px;">üòÇ Read jokes aloud</label>
          </div>
        </div>
        
        <!-- Music Sequence Toggle -->
        <div style="margin-bottom:8px;display:flex;align-items:center;gap:8px;">
          <input type="checkbox" id="music-sequence" onchange="setMusicSequence(this.checked)" checked style="width:16px;height:16px;">
          <label for="music-sequence" style="color:#e5e7eb;font-size:10px;">üîÄ Auto-cycle through tracks</label>
        </div>
        
        <!-- No Commentary Mode -->
        <div style="background:rgba(255,215,0,0.15);padding:8px;border-radius:6px;margin-bottom:8px;border:1px solid #ffd700;">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
            <input type="checkbox" id="no-commentary" onchange="setNoCommentary(this.checked)" style="width:16px;height:16px;">
            <label for="no-commentary" style="color:#ffd700;font-size:11px;font-weight:bold;">üéØ PRO MODE - No Commentary</label>
          </div>
          <p style="color:#fcd34d;font-size:9px;margin:0;">Disables hints, tips, and game aid popups. <strong style="color:#22c55e;">Earn 1.5x BONUS POINTS!</strong></p>
        </div>
        
        <!-- Sound Effects Toggle -->
        <div style="display:flex;align-items:center;gap:8px;">
          <input type="checkbox" id="sfx-toggle" onchange="setSoundEffects(this.checked)" checked style="width:16px;height:16px;">
          <label for="sfx-toggle" style="color:#e5e7eb;font-size:10px;">üîä Sound Effects</label>
        </div>
      </div>
      
      <!-- WEAPONS -->
      <div style="background:rgba(250,204,21,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#facc15;font-weight:bold;font-size:10px;margin-bottom:3px;">üèπ WEAPONS</div>
        <div style="line-height:1.4;font-size:9px;">
          üî´ <strong>Rifle</strong> = 90 ammo, main weapon<br/>
          üèπ <strong>Bow</strong> = Spawns when ammo <15 (+15 arrows)<br/>
          ‚öîÔ∏è <strong>Crossbow</strong> = +50% damage (+10 bolts)<br/>
          üî™ <strong>Knife</strong> = Melee attack, +50% pts, multi-kill bonuses!
        </div>
      </div>
      
      <!-- WEATHER POWERS -->
      <div style="background:rgba(59,130,246,0.2);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#60a5fa;font-weight:bold;font-size:10px;margin-bottom:3px;">‚ö°üå™Ô∏è WEATHER POWERS</div>
        <div style="line-height:1.4;font-size:9px;">
          <strong style="color:#facc15;">T = ‚ö°Lightning</strong> = Zaps SHOOTABLE birds only!<br/>
          <strong style="color:#facc15;">G = üå™Ô∏èTornado</strong> = Sweeps SHOOTABLE birds (+70% pts)<br/>
          ‚õàÔ∏è Random storms bring free lightning!<br/>
          ‚ö†Ô∏è <strong style="color:#ef4444;">Stay clear of lightning!</strong> (-20% damage)
        </div>
      </div>
      
      <!-- ALLIES -->
      <div style="background:rgba(34,197,94,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#22c55e;font-weight:bold;font-size:10px;margin-bottom:3px;">ü™Ç‚úàÔ∏è ALLIES & AIR SUPPORT</div>
        <div style="line-height:1.4;font-size:9px;">
          ü™Ç <strong>Parachuters</strong> = Drop from aircraft, shoot birds for you (+50%)<br/>
          ‚úàÔ∏è <strong>Fighter Jets</strong> = Red planes that shoot birds (+30%)<br/>
          üí£ Fighters drop bombs - <strong style="color:#ef4444;">run away!</strong> (-30%)<br/>
          ü¶Ö <strong>Eagles/Hawks</strong> = Helper birds that hunt for you (+5 pts) & DROP COINS! üí∞<br/>
          <strong style="color:#ef4444;">‚ö†Ô∏è DON'T SHOOT ALLIES = -25 pts!</strong>
        </div>
      </div>
      
      <!-- PROTECTED ZONES -->
      <div style="background:rgba(34,197,94,0.2);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#86efac;font-weight:bold;font-size:10px;margin-bottom:3px;">üèûÔ∏è PROTECTED PARK ZONE</div>
        <div style="line-height:1.4;font-size:9px;">
          Wildlife Sanctuary = <strong style="color:#ef4444;">NO HUNTING!</strong><br/>
          <strong style="color:#ef4444;">-100 POINTS</strong> for every shot in protected area!<br/>
          Banner shows when entering - just walk through!
        </div>
      </div>
      
      <!-- HAZARDS -->
      <div style="background:rgba(239,68,68,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#fca5a5;font-weight:bold;font-size:10px;margin-bottom:3px;">‚ö†Ô∏è HAZARDS & VEHICLES</div>
        <div style="line-height:1.4;font-size:9px;">
          üöú‚úÖ <strong style="color:#22c55e;">GREEN Tractor</strong> = FRIENDLY! Has front bucket, cleans debris, lifts over you<br/>
          üöú‚ùå <strong style="color:#ef4444;">RED Tractor</strong> = RENEGADE! Jump (W) or shoot tires 3x to stop!<br/>
          ‚úàÔ∏è <strong style="color:#ef4444;">DON'T SHOOT PLANES!</strong> = -200 pts, crash explosion!<br/>
          üöÅ <strong style="color:#ef4444;">DON'T SHOOT HELICOPTERS!</strong> = -200 pts penalty!<br/>
          üí£ <strong>Bombs</strong> = Run away! (-30 HP)<br/>
          ‚ö° <strong>Lightning</strong> = Stay clear! (-20 HP)<br/>
          üêª <strong>Dangerous Animals</strong> = Bears, wolves, cougars attack! Shoot them!<br/>
          ü¶Ö <strong>Falling birds hit you</strong> = -10 HP damage!
        </div>
      </div>
      
      <!-- DUAL METER SYSTEM -->
      <div style="background:rgba(239,68,68,0.2);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#fca5a5;font-weight:bold;font-size:10px;margin-bottom:3px;">‚ù§Ô∏è HEALTH + üí© TURD-O-METER</div>
        <div style="line-height:1.4;font-size:9px;">
          <strong style="color:#22c55e;">‚ù§Ô∏è HEALTH (100 HP)</strong> - Combat damage:<br/>
          ü¶Ö Falling bird hit = -10 HP | üí£ Explosion = -30 HP<br/>
          üöú Bad tractor = INSTANT DEATH!<br/>
          ‚ù§Ô∏è First Aid Kit = +35 HP<br/><br/>
          <strong style="color:#a16207;">üí© TURD-O-METER (0-100%)</strong> - Poop damage:<br/>
          üí© Each turd hit = +8% | Shake off (X/Q) = -5%<br/>
          <strong style="color:#ef4444;">100% = BURIED IN TURDS = DEATH!</strong><br/><br/>
          <strong>Either meter maxing out kills you!</strong>
        </div>
      </div>
      
      <!-- SHOOTABLE BIRDS - COMPLETE LIST -->
      <div style="background:rgba(34,197,94,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#22c55e;font-weight:bold;font-size:10px;margin-bottom:3px;">‚úÖ SHOOTABLE BIRDS (Positive Points!)</div>
        <div style="line-height:1.3;font-size:8px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1px;">
          <span>ü¶Ü Duck +10</span><span>ü¶Ü Mallard +12</span><span>ü™ø Goose +12</span>
          <span>ü™ø Canada Goose +14</span><span>üêî Chicken +8</span><span>üïäÔ∏è Pigeon +8</span>
          <span>ü¶É Turkey +15</span><span>ü¶É Wild Turkey +18</span><span>üïäÔ∏è Seagull +12</span>
          <span>üê¶ Magpie +10</span><span>üê¶‚Äç‚¨õ Crow +6</span><span>üê¶‚Äç‚¨õ Raven +8</span>
          <span>ü¶Ö Vulture +14</span><span>ü¶â Owl +10</span><span>üê¶ Pheasant +20</span>
          <span>üê¶ Quail +8</span><span>üê¶ Grouse +15</span><span>üê¶ Partridge +12</span>
          <span>üïäÔ∏è Dove +10</span><span>üê¶ Woodcock +14</span><span>üê¶ Snipe +12</span>
          <span>ü¶Ü Teal +10</span><span>ü¶Ü Pintail +12</span><span>ü¶Ü Wood Duck +14</span>
        </div>
        <div style="font-size:7px;color:#86efac;margin-top:2px;">üî™ Knife kills = +50% bonus! ‚ö° Lightning = +50% üå™Ô∏è Tornado = +70%</div>
      </div>
      
      <!-- DON'T SHOOT - COMPLETE LIST -->
      <div style="background:rgba(239,68,68,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#ef4444;font-weight:bold;font-size:10px;margin-bottom:3px;">‚ùå DON'T SHOOT! (Negative Points!)</div>
        
        <div style="color:#fca5a5;font-weight:bold;font-size:8px;margin-bottom:2px;">ü¶Ö HELPER BIRDS (They fight FOR you + DROP COINS! üí∞)</div>
        <div style="line-height:1.3;font-size:8px;display:grid;grid-template-columns:1fr 1fr;gap:1px;margin-bottom:4px;">
          <span>ü¶Ö Bald Eagle</span><span style="color:#22c55e;">+5 pts üí∞ HELPER!</span>
          <span>ü¶Ö Golden Eagle</span><span style="color:#22c55e;">+5 pts üí∞ HELPER!</span>
          <span>ü¶Ö Hawk</span><span style="color:#22c55e;">+5 pts üí∞ HELPER!</span>
          <span>ü¶Ö Falcon</span><span style="color:#22c55e;">+5 pts üí∞ HELPER!</span>
          <span>ü¶Ö Osprey</span><span style="color:#22c55e;">+5 pts üí∞ HELPER!</span>
        </div>
        <div style="font-size:7px;color:#fca5a5;margin-bottom:4px;">‚ö†Ô∏è DON'T SHOOT HELPERS! Eagles -50 | Hawks -30 | Falcon -40 | Osprey -35</div>
        
        <div style="color:#fca5a5;font-weight:bold;font-size:8px;margin-bottom:2px;">ü¶ö PROTECTED SPECIES</div>
        <div style="line-height:1.3;font-size:8px;display:grid;grid-template-columns:1fr 1fr;gap:1px;margin-bottom:4px;">
          <span>ü¶ú Parrot</span><span style="color:#ef4444;">-20 pts</span>
          <span>ü¶ö Peacock</span><span style="color:#ef4444;">-25 pts</span>
          <span>ü¶© Flamingo</span><span style="color:#ef4444;">-20 pts</span>
          <span>ü¶¢ Swan</span><span style="color:#ef4444;">-30 pts</span>
          <span>ü¶§ Dodo</span><span style="color:#ef4444;">-30 pts ENDANGERED!</span>
          <span>üê¶ Heron</span><span style="color:#ef4444;">-20 pts</span>
          <span>üê¶ Crane</span><span style="color:#ef4444;">-25 pts</span>
          <span>üê¶ Stork</span><span style="color:#ef4444;">-20 pts</span>
          <span>üê¶ Pelican</span><span style="color:#ef4444;">-20 pts</span>
          <span>üêß Penguin</span><span style="color:#ef4444;">-20 pts</span>
          <span>üê¶ Toucan</span><span style="color:#ef4444;">-15 pts</span>
          <span>ü¶á Bat (night)</span><span style="color:#ef4444;">-15 pts PROTECTED!</span>
        </div>
        
        <div style="color:#fca5a5;font-weight:bold;font-size:8px;margin-bottom:2px;">üö´ OTHER PENALTIES</div>
        <div style="line-height:1.3;font-size:8px;">
          ‚úàÔ∏è Planes/Helicopters = <span style="color:#ef4444;">-200 pts + CRASH!</span><br/>
          ü™Ç Parachuters = <span style="color:#ef4444;">-25 pts (they're YOUR allies!)</span><br/>
          üèûÔ∏è Any bird in Protected Park = <span style="color:#ef4444;">-100 pts!</span>
        </div>
      </div>
      
      <!-- BOSS BIRDS -->
      <div style="background:rgba(168,85,247,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#c4b5fd;font-weight:bold;font-size:10px;margin-bottom:3px;">üêâ BOSS BIRDS (First at 30 sec!)</div>
        <div style="line-height:1.3;font-size:8px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1px;">
          <span>ü¶ñ Pterodactyl</span><span style="color:#22c55e;">+100 pts</span><span>25 coins, 5 HP</span>
          <span>üî• Phoenix</span><span style="color:#22c55e;">+150 pts</span><span>50 coins, 3 HP (respawns!)</span>
          <span>‚ö° Thunderbird</span><span style="color:#22c55e;">+300 pts</span><span>75 coins, 8 HP</span>
          <span>üêâ Dragon</span><span style="color:#22c55e;">+500 pts</span><span>100 coins, 10 HP!</span>
        </div>
        <div style="font-size:7px;color:#f87171;margin-top:2px;">
          ‚ö†Ô∏è BOSSES DIVE AT YOU! Press Z = PRONE (lay flat to dodge!)<br/>
          ü¶Ö CAN GRAB YOU! Press K to STAB with knife or keep shooting!<br/>
          üí™ Barrett .50 Cal = 5x dmg | Bazooka = 3x dmg vs bosses!
        </div>
      </div>
      
      <!-- ========== NEW! MISSION & SPIRITUAL WARFARE ========== -->
      <div style="background:linear-gradient(135deg,rgba(255,215,0,0.2),rgba(59,130,246,0.2));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid rgba(255,215,0,0.5);">
        <div style="color:#ffd700;font-weight:bold;font-size:11px;margin-bottom:4px;">üéØ YOUR MISSION - REACH THE WHITE HOUSE! üá∫üá∏</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#22c55e;font-weight:bold;">7 LEVELS TO VICTORY:</span><br/>
          <span style="color:#88ff88;">Level 1: üåæ Country Farm (25 birds) ‚Üí Level 2: üå≤ Deep Forest (35)</span><br/>
          <span style="color:#88ff88;">Level 3: üé£ Fishing Lake (45) ‚Üí Level 4: üèúÔ∏è Desert (55)</span><br/>
          <span style="color:#88ff88;">Level 5: ‚ùÑÔ∏è Frozen Peaks (65) ‚Üí Level 6: ü§† Western Town (75)</span><br/>
          <span style="color:#ffd700;font-weight:bold;">Level 7: üèõÔ∏è THE WHITE HOUSE! (100 birds) - FINAL BATTLE!</span><br/><br/>
          <span style="color:#88ccff;">‚òÄÔ∏è Kill birds ‚Üí Skies clear ‚Üí Level complete ‚Üí FIREWORKS! üéÜ</span><br/>
          <span style="color:#ffd700;">üèÜ Complete all 7 levels = Trump welcomes you to the White House!</span>
        </div>
      </div>
      
      <!-- ANGEL PROTECTION SYSTEM -->
      <div style="background:linear-gradient(135deg,rgba(255,215,0,0.15),rgba(255,255,255,0.1));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid rgba(255,215,0,0.4);">
        <div style="color:#ffd700;font-weight:bold;font-size:11px;margin-bottom:4px;">üòá ANGEL PROTECTION (Press A to buy)</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#fff;font-weight:bold;">Call upon heavenly protection!</span> Romans 8:31<br/><br/>
          <span style="color:#88ff88;">‚≠ê Guardian Angel (50 ü™ô)</span> - Blocks 50% turds, 25% dmg reduction, 30 sec<br/>
          <span style="color:#ffd700;">‚≠ê‚≠ê Warrior Angel (100 ü™ô)</span> - Blocks 75% turds, 50% dmg reduction, 45 sec<br/>
          <span style="color:#ff88ff;">‚≠ê‚≠ê‚≠ê Divine Shield (200 ü™ô)</span> - Blocks ALL turds, 75% dmg reduction, 60 sec<br/><br/>
          <span style="color:#ffd700;font-weight:bold;">‚úùÔ∏è DEMONS FLEE FROM YOUR ANGEL! ‚úùÔ∏è</span>
        </div>
      </div>
      
      <!-- HOLY BIBLE WEAPON -->
      <div style="background:linear-gradient(135deg,rgba(139,69,19,0.3),rgba(255,215,0,0.1));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid rgba(255,215,0,0.5);">
        <div style="color:#ffd700;font-weight:bold;font-size:11px;margin-bottom:4px;">üìñ HOLY BIBLE WEAPON (Press B)</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#fff;font-style:italic;">"The Word of God is living and active, sharper than any two-edged sword" ‚Äî Hebrews 4:12</span><br/><br/>
          <span style="color:#ffd700;font-weight:bold;">üìñ HOLY BIBLE (150 ü™ô)</span> - Shoots scripture at demons!<br/>
          ‚Ä¢ <span style="color:#22c55e;">5x DAMAGE to demons!</span> ‚Ä¢ 10 shots per purchase<br/>
          ‚Ä¢ <span style="color:#88ccff;">Auto-aims at nearest demon</span> ‚Ä¢ Destroys lies instantly!<br/><br/>
          <span style="color:#ffd700;">Press A ‚Üí Buy Bible ‚Üí Press B to fire!</span>
        </div>
      </div>
      
      <!-- DEMON ENEMIES -->
      <div style="background:linear-gradient(135deg,rgba(255,0,0,0.15),rgba(102,0,0,0.2));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid rgba(255,68,68,0.4);">
        <div style="color:#ff4444;font-weight:bold;font-size:11px;margin-bottom:4px;">üòà DEMON BOSS (Level 3+) - SPIRITUAL WARFARE!</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#fca5a5;font-weight:bold;">DEMON BOSS STATS:</span> 8 HP | +500 pts | 25 coins!<br/>
          They throw LIES that damage you (-20 HP each!)<br/><br/>
          <span style="color:#22c55e;">üéØ SHOOT THE LIES (+25 pts) or use BIBLE (+50 pts!)</span><br/>
          <span style="color:#ffd700;">üìñ Holy Bible = 5x damage (kills in 2 shots!)</span><br/><br/>
          <span style="color:#88ff88;font-weight:bold;">‚úùÔ∏è GOD IS: Omnipotent, Omniscient, Omnipresent</span><br/>
          <span style="color:#ff8888;">üòà SATAN IS NOT! He is LIMITED!</span><br/>
          <span style="color:#ffd700;">üòá Activate Angel = Demons FLEE in terror! üò±</span>
        </div>
      </div>
      
      <!-- SCRIPTURE MESSAGE -->
      <div style="background:linear-gradient(135deg,rgba(255,215,0,0.1),rgba(34,197,94,0.1));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid rgba(255,215,0,0.3);text-align:center;">
        <div style="color:#ffd700;font-weight:bold;font-size:10px;margin-bottom:4px;">‚úùÔ∏è THE WORD OF GOD ‚úùÔ∏è</div>
        <div style="font-size:9px;color:#fff;font-style:italic;line-height:1.5;">
          "The Lord is my light and my salvation‚Äîwhom shall I fear?" ‚Äî Psalm 27:1<br/><br/>
          <span style="color:#88ccff;">"Fight the good fight of the faith." ‚Äî 1 Timothy 6:12</span><br/><br/>
          <span style="color:#ff88cc;">"God demonstrates His love: while we were sinners, Christ died for us." ‚Äî Romans 5:8</span><br/><br/>
          <span style="color:#88ff88;font-weight:bold;">Jesus loves YOU! He hates sin, not sinners! ‚ù§Ô∏è</span>
        </div>
      </div>
      
      <!-- DRAIN THE SWAMP - GLOBALISTS -->
      <div style="background:linear-gradient(135deg,rgba(74,93,35,0.3),rgba(139,69,19,0.2));padding:10px;border-radius:8px;margin-bottom:6px;border:2px solid rgba(255,215,0,0.6);">
        <div style="color:#ffd700;font-weight:bold;font-size:13px;margin-bottom:6px;text-align:center;">üêä DRAIN THE SWAMP! üêä</div>
        <div style="color:#fff;font-size:9px;text-align:center;margin-bottom:8px;font-style:italic;padding:4px;background:rgba(0,0,0,0.3);border-radius:4px;">
          "No weapon formed against you shall prosper." ‚Äî Isaiah 54:17
        </div>
        <div style="line-height:1.5;font-size:9px;">
          <span style="color:#4a5d23;font-weight:bold;font-size:10px;">LEVEL 7: THE SWAMP</span><br/>
          <span style="color:#ff6666;">Woke Turd Globalists are invading!</span><br/>
          <span style="color:#ffffff;">Stop them from reaching the White House!</span><br/><br/>
          
          <span style="color:#ffaa00;font-weight:bold;">4 ANIMATED GLOBALIST TYPES:</span><br/>
          <div style="padding-left:8px;margin:4px 0;">
            <span style="color:#88ccff;">üíâ 1. SYRINGE PUSHER</span><br/>
            <span style="color:#999;font-size:8px;padding-left:12px;">"Trust the science!" ‚Ä¢ Blue vest, glasses, holds syringe</span><br/>
            <span style="color:#ff8888;">üëî 2. THE SUIT</span><br/>
            <span style="color:#999;font-size:8px;padding-left:12px;">"Hope and change!" ‚Ä¢ Dark suit, red tie, smug walk</span><br/>
            <span style="color:#88ff88;">üì± 3. PHONE ADDICT</span><br/>
            <span style="color:#999;font-size:8px;padding-left:12px;">"Delete those emails!" ‚Ä¢ Blue pantsuit, always on phone</span><br/>
            <span style="color:#ffff88;">üß• 4. THE HOODIE</span><br/>
            <span style="color:#999;font-size:8px;padding-left:12px;">"That's misinformation!" ‚Ä¢ Black hoodie, censors everything</span>
          </div><br/>
          
          <span style="color:#8B4513;font-weight:bold;">üí© THEY THROW TURDS AT YOU!</span><br/>
          <span style="color:#d2691e;">Dodge the flying turds or get hit!</span><br/><br/>
          
          <span style="color:#22c55e;font-weight:bold;font-size:10px;">Press E to ARREST!</span><br/>
          <span style="color:#ffffff;">500 pts + 25 coins + JAIL CELL animation!</span>
        </div>
      </div>
      
      <!-- DEMONS AT WHITE HOUSE -->
      <div style="background:linear-gradient(135deg,rgba(239,68,68,0.2),rgba(0,0,0,0.3));padding:10px;border-radius:8px;margin-bottom:6px;border:2px solid rgba(239,68,68,0.6);">
        <div style="color:#ef4444;font-weight:bold;font-size:13px;margin-bottom:6px;text-align:center;">üòà DEFEAT THE DEMONS! üòà</div>
        <div style="color:#fff;font-size:9px;text-align:center;margin-bottom:8px;font-style:italic;padding:4px;background:rgba(0,0,0,0.3);border-radius:4px;">
          "Resist the devil and he will flee from you." ‚Äî James 4:7
        </div>
        <div style="line-height:1.5;font-size:9px;">
          <span style="color:#ff4444;font-weight:bold;font-size:10px;">LEVEL 8: THE WHITE HOUSE</span><br/>
          <span style="color:#ff6666;">Demons try to stop you from reaching Trump!</span><br/>
          <span style="color:#ffffff;">Multiple demons attack each hunter!</span><br/><br/>
          
          <span style="color:#ffaa00;font-weight:bold;">DEMON ABILITIES:</span><br/>
          <div style="padding-left:8px;margin:4px 0;">
            <span style="color:#ff6666;">‚Ä¢ Fly toward you menacingly</span><br/>
            <span style="color:#ff6666;">‚Ä¢ Throw "lies" projectiles</span><br/>
            <span style="color:#ff6666;">‚Ä¢ Flee when hit by Bible or Angel!</span>
          </div><br/>
          
          <span style="color:#ffd700;font-weight:bold;">HOW TO DEFEAT DEMONS:</span><br/>
          <span style="color:#22c55e;">üìñ Press B = Fire Holy Bible!</span><br/>
          <span style="color:#22c55e;">üëº Buy Angel Protection = Demons FLEE!</span><br/><br/>
          
          <span style="color:#ffd700;font-weight:bold;">WHEN DEMONS FLEE:</span><br/>
          <span style="color:#22c55e;font-style:italic;">"The devil prowls like a roaring lion... resist him!" ‚Äî 1 Peter 5:8-9</span>
        </div>
      </div>
      
      <!-- VICTORY -->
      <div style="background:linear-gradient(135deg,rgba(34,197,94,0.2),rgba(250,204,21,0.1));padding:8px;border-radius:6px;margin-bottom:6px;border:1px solid #22c55e;">
        <div style="color:#22c55e;font-weight:bold;font-size:10px;margin-bottom:4px;">üèÜ VICTORY!</div>
        <div style="line-height:1.4;font-size:8px;">
          <span style="color:#ffffff;">Defeat all enemies to reach Trump!</span><br/>
          <span style="color:#ffd700;">Trump shakes his fist in victory!</span><br/>
          <span style="color:#ffd700;">"Thanks be to God who gives us the victory!" ‚Äî 1 Cor 15:57</span>
        </div>
      </div>
      
      <!-- PHONE ZOMBIES - WAKE THEM UP! -->
      <div style="background:linear-gradient(135deg,rgba(59,130,246,0.2),rgba(139,92,246,0.1));padding:10px;border-radius:8px;margin-bottom:6px;border:2px solid rgba(59,130,246,0.6);">
        <div style="color:#60a5fa;font-weight:bold;font-size:13px;margin-bottom:6px;text-align:center;">üì± WAKE THE SLEEPERS! üì±</div>
        <div style="color:#fff;font-size:9px;text-align:center;margin-bottom:8px;font-style:italic;padding:4px;background:rgba(0,0,0,0.3);border-radius:4px;">
          "Awake, O sleeper, and Christ will shine on you." ‚Äî Ephesians 5:14
        </div>
        <div style="line-height:1.5;font-size:9px;">
          <span style="color:#888888;">People walk around like ZOMBIES on their phones!</span><br/>
          <span style="color:#ffffff;">They're blind to what's really happening!</span><br/><br/>
          
          <span style="color:#ffaa00;font-weight:bold;">4 PHONE ZOMBIE TYPES:</span><br/>
          <div style="padding-left:8px;margin:4px 0;">
            <span style="color:#60a5fa;">üì± Distracted Teen</span> - "Just scrolling..."<br/>
            <span style="color:#f472b6;">üì± Social Media Addict</span> - "Need more likes..."<br/>
            <span style="color:#888888;">üì± News Zombie</span> - "Trust the algorithm..."<br/>
            <span style="color:#a855f7;">üì± Doom Scroller</span> - "Can't stop scrolling..."<br/>
          </div><br/>
          
          <span style="color:#ffd700;font-weight:bold;">HOW TO WAKE THEM:</span><br/>
          <span style="color:#22c55e;">1. Find BIBLES on the ground (golden glow)</span><br/>
          <span style="color:#22c55e;">2. Walk near a phone zombie</span><br/>
          <span style="color:#22c55e;">3. Press V to give them the Bible!</span><br/><br/>
          
          <span style="color:#22c55e;font-weight:bold;">REWARDS:</span><br/>
          <span style="color:#ffffff;">+200 points + 15 coins per awakening!</span><br/>
          <span style="color:#ffd700;">Awakened people become HELPERS!</span><br/>
          <span style="color:#ffd700;">Helpers fight demons & globalists for you!</span>
        </div>
      </div>
      
      <!-- END TIMES WARNING -->
      <div style="background:linear-gradient(135deg,rgba(239,68,68,0.2),rgba(250,204,21,0.1));padding:10px;border-radius:8px;margin-bottom:6px;border:2px solid rgba(239,68,68,0.5);">
        <div style="color:#ff6666;font-weight:bold;font-size:11px;margin-bottom:6px;text-align:center;">‚ö†Ô∏è END TIMES SCRIPTURES ‚ö†Ô∏è</div>
        <div style="line-height:1.5;font-size:8px;">
          <span style="color:#ffffff;">When you wake someone up, you'll see warnings about the times we're living in:</span><br/><br/>
          
          <span style="color:#ff8888;font-style:italic;">"Children will rise against parents..."</span><br/>
          <span style="color:#888888;">‚Äî Matthew 10:21</span><br/><br/>
          
          <span style="color:#ff8888;font-style:italic;">"In the last days, people will be disobedient to parents, ungrateful, unholy..."</span><br/>
          <span style="color:#888888;">‚Äî 2 Timothy 3:2-3</span><br/><br/>
          
          <span style="color:#ff8888;font-style:italic;">"Lovers of pleasure rather than lovers of God..."</span><br/>
          <span style="color:#888888;">‚Äî 2 Timothy 3:4</span><br/><br/>
          
          <span style="color:#22c55e;font-weight:bold;">THE MESSAGE:</span><br/>
          <span style="color:#ffffff;">‚Ä¢ Don't let phones divide your family!</span><br/>
          <span style="color:#ffffff;">‚Ä¢ Honor your parents!</span><br/>
          <span style="color:#ffffff;">‚Ä¢ Put God first, not screens!</span><br/>
          <span style="color:#ffffff;">‚Ä¢ Your generation can make a difference!</span><br/><br/>
          
          <span style="color:#ffd700;font-style:italic;">"Choose this day whom you will serve. As for me and my house, we will serve the Lord." ‚Äî Joshua 24:15</span>
        </div>
      </div>
      
      <!-- GROUND ANIMALS -->
      <div style="background:rgba(139,92,246,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#c4b5fd;font-weight:bold;font-size:10px;margin-bottom:3px;">ü¶å GROUND ANIMALS</div>
        <div style="line-height:1.3;font-size:8px;">
          <span style="color:#ef4444;font-weight:bold;">DON'T SHOOT SAFE ANIMALS!</span><br/>
          ü¶å Deer -15 | ü¶å Elk -25 | üêï Dog -30 | üêà Cat -25<br/>
          üê∞ Rabbit -15 | ü¶ä Fox -15 | ü¶® Skunk -10<br/><br/>
          <span style="color:#22c55e;font-weight:bold;">SHOOT DANGEROUS ANIMALS:</span><br/>
          üêª Bear +25 (5 coins) | üê∫ Wolf +15 (3 coins) | ü¶Å Cougar +20 (4 coins)<br/><br/>
          <span style="color:#f59e0b;">ü¶å DEER & ELK CAN CHARGE! JUMP over them!</span><br/>
          <span style="color:#f59e0b;">Deer: -15 HP hit, +10 pts jump | Elk: -20 HP hit, +15 pts jump</span>
        </div>
      </div>
      
      <!-- NPCS -->
      <div style="background:rgba(96,165,250,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#93c5fd;font-weight:bold;font-size:10px;margin-bottom:3px;">üë§ NPCs (Don't Shoot People!)</div>
        <div style="line-height:1.3;font-size:8px;">
          ü•æ Hiker | üë®‚Äçüåæ Farmer | üèÉ Jogger | üö¥ Cyclist | üë∂ Child | üé£ Fisherman<br/>
          <span style="color:#ef4444;">Shooting NPCs = BIG penalty & potential game over!</span>
        </div>
      </div>
      
      <!-- HUNTER SKINS -->
      <div style="background:rgba(168,85,247,0.2);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#c4b5fd;font-weight:bold;font-size:10px;margin-bottom:3px;">üë§ HUNTER SKINS (Shop ‚Üí Skins Tab)</div>
        <div style="line-height:1.3;font-size:8px;">
          <span style="color:#22c55e;">üå≤ Camo</span> 2K - Birds spot you less<br/>
          <span style="color:#60a5fa;">‚ùÑÔ∏è Winter</span> 3.5K - +10% snow damage | <span style="color:#f59e0b;">üèúÔ∏è Desert</span> 3.5K - Faster in desert<br/>
          <span style="color:#374151;">üéñÔ∏è Tactical</span> 8K - +15% fire rate<br/>
          <span style="color:#22c55e;font-weight:bold;">üõ°Ô∏è Light Armor</span> 12K - <strong>15% less ALL damage!</strong><br/>
          <span style="color:#22c55e;font-weight:bold;">üõ°Ô∏èüõ°Ô∏è Heavy Armor</span> 25K - <strong>30% less damage</strong> (slower)<br/>
          <span style="color:#fbbf24;">‚ò¢Ô∏è Hazmat</span> 15K - Toxic immunity | <span style="color:#fbbf24;">üëë Gold</span> 50K - +25% coins<br/>
          <span style="color:#ef4444;">üî• LEGENDARY</span> 100K - ALL BONUSES!
        </div>
      </div>
      
      <!-- SHOP ITEMS -->
      <div style="background:rgba(250,204,21,0.15);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#facc15;font-weight:bold;font-size:10px;margin-bottom:3px;">üõí SHOP HIGHLIGHTS</div>
        <div style="line-height:1.3;font-size:8px;">
          üé© <strong>Sturdy Hat</strong> = Blocks ALL turds 45-90 sec!<br/>
          üöÄ <strong>Bazooka</strong> = Massive AOE, 3x boss damage!<br/>
          üí£ <strong>Grenades</strong> = Throwable explosives!<br/>
          üéØ <strong>Barrett .50 Cal</strong> = 5x damage, best vs bosses!<br/>
          üõ°Ô∏è <strong>Shields</strong> = 10-30 sec invincibility!
        </div>
      </div>
      
      <!-- COIN EARNING -->
      <div style="background:rgba(250,204,21,0.2);padding:6px 8px;border-radius:6px;margin-bottom:6px;">
        <div style="color:#facc15;font-weight:bold;font-size:10px;margin-bottom:3px;">ü™ô TURDCOIN DROPS</div>
        <div style="line-height:1.3;font-size:8px;">
          <strong>Kill birds to drop coins!</strong> Walk over them to collect.<br/>
          Pigeon/Chicken 1 | Duck 2 | Goose/Seagull 3 | Turkey 4-5<br/>
          Pheasant 5 | Vulture 3 | Upland birds 2-4<br/>
          <strong style="color:#c4b5fd;">Boss drops:</strong> Pterodactyl 25 | Phoenix 50 | Thunderbird 75 | Dragon 100!<br/><br/>
          <span style="color:#ef4444;font-weight:bold;">‚ö†Ô∏è BIRDS CAN STEAL COINS!</span> Collect quickly!<br/>
          <span style="color:#9ca3af;">Coins flash after 5 sec, disappear at 8 sec</span><br/>
          <span style="color:#f59e0b;">Daily Limit: 500 coins/day from gameplay</span>
        </div>
      </div>
      
      <!-- QUICK REFERENCE -->
      <hr style="border:none;border-top:1px solid #374151;margin:6px 0;"/>
      <div style="line-height:1.4;font-size:8px;background:rgba(0,0,0,0.3);padding:4px;border-radius:4px;">
        <span style="color:#22c55e;font-weight:bold;">‚úì SHOOT:</span> Ducks, Geese, Pigeons, Turkeys, Crows, Vultures, Pheasants, Quail, Bosses, Turds, Bears, Wolves, Cougars, Bad Tractor Tires!<br/>
        <span style="color:#ef4444;font-weight:bold;">‚úó DON'T SHOOT:</span> Eagles, Hawks, Falcons, Bats, Parachuters, Peacocks, Swans, Penguins, Deer, Elk, Dogs, Cats, Rabbits, Planes, Helicopters, NPCs!<br/>
        <span style="color:#f59e0b;font-weight:bold;">ü¶å JUMP OVER:</span> Charging Deer (+10 pts) & Elk (+15 pts)!<br/>
        <span style="color:#22c55e;">üöú GREEN TRACTOR</span> = Friendly, lifts over you | <span style="color:#ef4444;">üöú RED TRACTOR</span> = Bad! Jump or shoot tires!
      </div>
      <div style="margin-top:6px;font-size:8px;color:#6b7280;text-align:center;">Press H to hide ‚Ä¢ Press L for Leaderboard</div>
    </div>
    
    <!-- MOBILE TOUCH INDICATOR (minimal, fades out) -->
    <div id="mobile-touch-hint" style="display:none;position:absolute;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.7);padding:10px 20px;border-radius:20px;color:#fff;font-size:12px;text-align:center;z-index:150;pointer-events:none;">
      üì± Tap to shoot ‚Ä¢ Drag left/right to move ‚Ä¢ Swipe up to jump
    </div>
  </div>
  
  <!-- AD CONTAINER - Holds joke banner only (GermProof is above footer) -->
  <div id="ad-container" style="position:relative;margin-top:8px;z-index:1;">
    <!-- JOKE BANNER (temporary overlay, auto-fades) -->
    <div id="joke-banner" style="display:none;position:absolute;top:0;left:0;right:0;z-index:100;">
      <button class="close-joke" onclick="this.parentElement.style.display='none';">‚úï</button>
      <div id="joke-content" style="color:#e5e7eb;text-align:center;"></div>
    </div>
  </div><!-- Close ad-container -->
  
  <!-- ========== SOCIAL SHARING BAR (Mobile-Responsive) ========== -->
  <style>
    /* Desktop: Vertical bar on right */
    @media (min-width: 769px) {
      #social-share-bar {
        position: fixed !important;
        right: 10px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        left: auto !important;
        bottom: auto !important;
        flex-direction: column !important;
      }
      #social-share-bar .share-label { display: block !important; }
    }
    /* Mobile: Horizontal bar at bottom */
    @media (max-width: 768px) {
      #social-share-bar {
        position: fixed !important;
        bottom: 10px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        top: auto !important;
        right: auto !important;
        flex-direction: row !important;
        flex-wrap: nowrap !important;
        justify-content: center !important;
        gap: 8px !important;
        width: auto !important;
        max-width: 95vw !important;
        background: rgba(0, 0, 0, 0.9) !important;
        padding: 10px 16px !important;
        border-radius: 30px !important;
        border: 1px solid #ffd700 !important;
        box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.5) !important;
      }
      #social-share-bar a, #social-share-bar button {
        width: 38px !important;
        height: 38px !important;
        min-width: 38px !important;
      }
      #social-share-bar .share-label { display: none !important; }
      #page { padding-bottom: 80px !important; }
    }
    @media (max-width: 480px) {
      #social-share-bar a:nth-child(n+6), #social-share-bar button:nth-child(n+6) { display: none !important; }
      #social-share-bar { gap: 6px !important; padding: 8px 12px !important; }
      #social-share-bar a, #social-share-bar button { width: 34px !important; height: 34px !important; min-width: 34px !important; }
    }
  </style>
  <div id="social-share-bar" style="position:fixed;right:10px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:6px;z-index:500;background:rgba(0,0,0,0.7);padding:8px 6px;border-radius:20px;border:1px solid #333;">
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://birdturds.com" target="_blank" title="Share on Facebook" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#1877f2;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
    <a href="https://twitter.com/intent/tweet?text=Check%20out%20BirdTurds%20-%20A%20game%20with%20PURPOSE!%20Entertainment%20%2B%20Biblical%20Truth!&url=https://birdturds.com" target="_blank" title="Share on X/Twitter" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#000;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
    <a href="https://wa.me/?text=Check%20out%20BirdTurds%20-%20A%20game%20with%20PURPOSE!%20https://birdturds.com" target="_blank" title="Share on WhatsApp" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#25d366;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg></a>
    <a href="https://t.me/share/url?url=https://birdturds.com&text=BirdTurds%20-%20Entertainment%20with%20PURPOSE!" target="_blank" title="Share on Telegram" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#0088cc;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg></a>
    <a href="/cdn-cgi/l/email-protection#c0ffb3b5a2aaa5a3b4fd83a8a5a3abe5f2f0afb5b4e5f2f082a9b2a494b5b2a4b3e1e6a2afa4b9fd83a8a5a3abe5f2f0afb5b4e5f2f082a9b2a494b5b2a4b3e5f2f0ede5f2f081e5f2f0a7a1ada5e5f2f0b7a9b4a8e5f2f0909592908f9385e1e5f2f0a8b4b4b0b3faefefa2a9b2a4b4b5b2a4b3eea3afad" title="Share via Email" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ea4335;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg></a>
    <a href="https://www.pinterest.com/pin/create/button/?url=https://birdturds.com&description=BirdTurds%20Game" target="_blank" title="Share on Pinterest" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#e60023;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M12 0a12 12 0 0 0-4.373 23.178c-.07-.633-.134-1.606.028-2.298.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.683 0 1.012.512 1.012 1.127 0 .687-.437 1.714-.663 2.668-.189.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A12 12 0 1 0 12 0z"/></svg></a>
    <a href="https://www.reddit.com/submit?url=https://birdturds.com&title=BirdTurds%20-%20A%20Game%20with%20PURPOSE" target="_blank" title="Share on Reddit" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ff4500;border-radius:50%;text-decoration:none;transition:transform 0.2s;"><svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg></a>
    <button onclick="navigator.clipboard.writeText('https://birdturds.com');this.innerHTML='‚úì';setTimeout(()=>this.innerHTML='<svg width=16 height=16 viewBox=0 0 24 24 fill=white><path d=M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z/></svg>',2000);" title="Copy Link" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#6b7280;border-radius:50%;border:none;cursor:pointer;transition:transform 0.2s;"><svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></button>
    <div class="share-label" style="font-size:8px;color:#9ca3af;text-align:center;margin-top:4px;">Share<br/>the<br/>Gospel!</div>
  </div>
  
  <!-- ========== GAMER AWARDS SECTION ========== -->
  <div id="awards-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #ffd700;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <h2 style="color:#ffd700;font-size:20px;margin:0;">üèÜ GAMER COMPETITIONS - WIN REAL PRIZES! üéÅ</h2>
      <span style="color:#22c55e;font-size:12px;font-style:italic;">"The laborer is worthy of his wages" ‚Äî 1 Timothy 5:18</span>
    </div>
    
    <!-- Fair Competition Notice -->
    <div style="background:rgba(34,197,94,0.15);border:1px solid #22c55e;border-radius:8px;padding:12px;margin-bottom:15px;">
      <h4 style="color:#22c55e;font-size:13px;margin:0 0 8px 0;">üéØ HOW COMPETITIONS WORK</h4>
      <p style="color:#e5e7eb;font-size:11px;margin:0 0 8px 0;">Competitions are like tournaments! Use coins to <strong>ENTER</strong> a competition, then play your best. Winners are selected from qualified entrants. This ensures fair play and covers prize costs!</p>
      <p style="color:#fcd34d;font-size:10px;margin:0;font-style:italic;">"Whatever you do, work heartily, as for the Lord" ‚Äî Colossians 3:23</p>
    </div>
    
    <!-- Anti-Cheat Notice -->
    <div style="background:rgba(239,68,68,0.1);border:1px solid #ef4444;border-radius:8px;padding:10px;margin-bottom:15px;">
      <p style="color:#ef4444;font-size:11px;margin:0;text-align:center;">üõ°Ô∏è <strong>FAIR PLAY PROTECTED:</strong> All scores verified by anti-cheat system. Cheaters disqualified & banned.</p>
    </div>
    
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;">
      
      <!-- Bible Award Competition -->
      <div style="background:linear-gradient(135deg,rgba(139,69,19,0.3),rgba(255,215,0,0.1));border:2px solid #ffd700;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:40px;margin-bottom:10px;">üìñ</div>
        <h3 style="color:#ffd700;font-size:16px;margin-bottom:8px;">BIBLE COMPETITION</h3>
        <p style="color:#e5e7eb;font-size:12px;margin-bottom:10px;">Enter the monthly drawing for a FREE physical Bible!</p>
        
        <!-- Entry Fee -->
        <div style="background:linear-gradient(135deg,#f59e0b,#d97706);padding:10px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#000;font-weight:bold;font-size:14px;">üéüÔ∏è ENTRY: 500 Coins</span>
          <p style="color:#1f2937;font-size:10px;margin:4px 0 0 0;">One-time entry per month</p>
        </div>
        
        <div style="background:rgba(0,0,0,0.3);padding:8px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#22c55e;font-weight:bold;font-size:11px;">TO QUALIFY:</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì Score 50,000+ points (any game)</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì 30+ minutes play time</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì 100+ kills verified</span>
        </div>
        
        <button onclick="enterCompetition('bible')" style="background:linear-gradient(135deg,#ffd700,#f59e0b);color:#000;border:none;padding:10px 20px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;width:100%;">üéüÔ∏è ENTER COMPETITION</button>
        <p style="color:#ffd700;font-size:9px;margin-top:8px;font-style:italic;">"Your word is a lamp to my feet" ‚Äî Psalm 119:105</p>
        <p style="color:#9ca3af;font-size:9px;margin-top:4px;">1 Winner Selected Monthly | All entrants notified</p>
      </div>
      
      <!-- GermProof Award Competition -->
      <div style="background:linear-gradient(135deg,rgba(59,130,246,0.2),rgba(34,197,94,0.1));border:2px solid #3b82f6;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:40px;margin-bottom:10px;">üõ°Ô∏è</div>
        <h3 style="color:#3b82f6;font-size:16px;margin-bottom:8px;">GERMPROOF COMPETITION</h3>
        <p style="color:#e5e7eb;font-size:12px;margin-bottom:10px;">Weekly top scorer among entrants wins GermProof!</p>
        
        <!-- Entry Fee -->
        <div style="background:linear-gradient(135deg,#3b82f6,#2563eb);padding:10px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#fff;font-weight:bold;font-size:14px;">üéüÔ∏è ENTRY: 1,000 Coins</span>
          <p style="color:#dbeafe;font-size:10px;margin:4px 0 0 0;">One-time entry per week</p>
        </div>
        
        <div style="background:rgba(0,0,0,0.3);padding:8px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#22c55e;font-weight:bold;font-size:11px;">TO WIN:</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì Highest score among entrants</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì 25,000+ minimum score</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì 15+ minutes play time</span>
        </div>
        
        <button onclick="enterCompetition('germproof')" style="background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;width:100%;">üéüÔ∏è ENTER COMPETITION</button>
        <p style="color:#60a5fa;font-size:9px;margin-top:8px;font-style:italic;">Protection & healing for your family!</p>
        <p style="color:#9ca3af;font-size:9px;margin-top:4px;">New winner every Sunday | All entrants compete</p>
      </div>
      
      <!-- Soul Awakener Badge (FREE - No Entry!) -->
      <div style="background:linear-gradient(135deg,rgba(34,197,94,0.2),rgba(255,215,0,0.1));border:2px solid #22c55e;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:40px;margin-bottom:10px;">‚úùÔ∏è</div>
        <h3 style="color:#22c55e;font-size:16px;margin-bottom:8px;">SOUL AWAKENER BADGE</h3>
        <p style="color:#e5e7eb;font-size:12px;margin-bottom:10px;">Wake 100 phone zombies - <strong style="color:#22c55e;">NO ENTRY FEE!</strong></p>
        
        <!-- FREE Badge -->
        <div style="background:linear-gradient(135deg,#22c55e,#16a34a);padding:10px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#fff;font-weight:bold;font-size:14px;">üÜì FREE TO EARN!</span>
          <p style="color:#dcfce7;font-size:10px;margin:4px 0 0 0;">Just play and spread the Gospel!</p>
        </div>
        
        <div style="background:rgba(0,0,0,0.3);padding:8px;border-radius:8px;margin-bottom:10px;">
          <span style="color:#22c55e;font-weight:bold;font-size:11px;">REQUIREMENT:</span><br/>
          <span style="color:#fff;font-size:10px;">‚úì Wake 100 phone zombies</span><br/>
          <span style="color:#ffd700;font-size:11px;font-weight:bold;">+ 300 BONUS COINS! ü™ô</span>
        </div>
        
        <div style="background:#1f2937;padding:8px;border-radius:8px;">
          <span style="color:#9ca3af;font-size:10px;">Your Progress:</span><br/>
          <span id="zombie-progress" style="color:#22c55e;font-size:16px;font-weight:bold;">0 / 100 zombies</span>
        </div>
        <p style="color:#22c55e;font-size:9px;margin-top:8px;font-style:italic;">"Go and make disciples" ‚Äî Matthew 28:19</p>
      </div>
    </div>
    
    <!-- Coin Purchase Reminder -->
    <div style="margin-top:15px;padding:12px;background:rgba(168,85,247,0.15);border:1px solid #a855f7;border-radius:8px;text-align:center;">
      <p style="color:#a855f7;font-size:12px;margin:0 0 8px 0;">üí∞ <strong>NEED COINS?</strong> Buy coin packs in our store or earn them by playing!</p>
      <div style="display:flex;justify-content:center;gap:15px;flex-wrap:wrap;">
        <span style="color:#fcd34d;font-size:11px;">üéÆ Kill birds = +10 coins</span>
        <span style="color:#fcd34d;font-size:11px;">üî• Daily login = up to 50 coins</span>
        <span style="color:#fcd34d;font-size:11px;">üì¢ Share game = +10 coins</span>
        <span style="color:#fcd34d;font-size:11px;">üèÖ Badges = 10-500 coins</span>
      </div>
      <button onclick="document.getElementById('coins-section').scrollIntoView({behavior:'smooth'})" style="background:linear-gradient(135deg,#a855f7,#7c3aed);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:11px;cursor:pointer;margin-top:10px;font-weight:bold;">üõí View Coin Packs</button>
    </div>
    
    <!-- Fair Play Statement -->
    <div style="margin-top:12px;padding:10px;background:rgba(255,215,0,0.1);border-radius:8px;text-align:center;">
      <p style="color:#fcd34d;font-size:10px;margin:0;">‚öñÔ∏è <strong>FAIR & TRANSPARENT:</strong> Entry fees cover prize costs fairly. All competition funds go directly to prizes. We don't profit from competitions - we want to bless our community!</p>
    </div>
  </div>
  
  <!-- ========== YOUTH ENGAGEMENT SECTION ========== -->
  <div id="youth-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #a855f7;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <h2 style="color:#a855f7;font-size:20px;margin:0;">üéÆ YOUTH ZONE - SPREAD THE WORD!</h2>
      <span style="color:#fcd34d;font-size:12px;font-style:italic;">"Let no one despise your youth" ‚Äî 1 Timothy 4:12</span>
    </div>
    
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px;">
      
      <!-- Daily Login Streak -->
      <div style="background:rgba(168,85,247,0.15);border:1px solid #a855f7;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:36px;margin-bottom:8px;">üî•</div>
        <h3 style="color:#a855f7;font-size:14px;margin-bottom:6px;">DAILY LOGIN STREAK</h3>
        <p style="color:#e5e7eb;font-size:11px;margin-bottom:8px;">Login daily to build your streak and earn bonus coins!</p>
        <div id="streak-display" style="background:#1f2937;padding:8px;border-radius:8px;">
          <span style="color:#fcd34d;font-size:18px;font-weight:bold;">üî• 0 Days</span>
        </div>
        <p style="color:#9ca3af;font-size:10px;margin-top:6px;">Up to 50 coins/day!</p>
      </div>
      
      <!-- Share for Coins -->
      <div style="background:rgba(34,197,94,0.15);border:1px solid #22c55e;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:36px;margin-bottom:8px;">üì¢</div>
        <h3 style="color:#22c55e;font-size:14px;margin-bottom:6px;">SHARE & EARN</h3>
        <p style="color:#e5e7eb;font-size:11px;margin-bottom:8px;">Share with friends and earn 10 coins per share!</p>
        <button onclick="shareForCoins()" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;width:100%;">Share Now! üì±</button>
        <p style="color:#9ca3af;font-size:10px;margin-top:6px;">Spread the Gospel & earn!</p>
      </div>
      
      <!-- Referral Code -->
      <div style="background:rgba(59,130,246,0.15);border:1px solid #3b82f6;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:36px;margin-bottom:8px;">üéÅ</div>
        <h3 style="color:#3b82f6;font-size:14px;margin-bottom:6px;">YOUR REFERRAL CODE</h3>
        <p style="color:#e5e7eb;font-size:11px;margin-bottom:8px;">Share your code - both get 25 coins!</p>
        <div id="referral-code" style="background:#1f2937;padding:8px;border-radius:8px;font-family:monospace;color:#3b82f6;font-weight:bold;cursor:pointer;" onclick="copyReferralCode()">BT-LOADING...</div>
        <p style="color:#9ca3af;font-size:10px;margin-top:6px;">Click to copy!</p>
      </div>
      
      <!-- Badges Earned -->
      <div style="background:rgba(255,215,0,0.15);border:1px solid #ffd700;border-radius:12px;padding:15px;text-align:center;">
        <div style="font-size:36px;margin-bottom:8px;">üèÖ</div>
        <h3 style="color:#ffd700;font-size:14px;margin-bottom:6px;">BADGES EARNED</h3>
        <p style="color:#e5e7eb;font-size:11px;margin-bottom:8px;">Collect badges and earn bonus coins!</p>
        <div id="badges-display" style="background:#1f2937;padding:8px;border-radius:8px;display:flex;flex-wrap:wrap;justify-content:center;gap:4px;min-height:32px;">
          <!-- Badges will be loaded here -->
        </div>
        <button onclick="showAllBadges()" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:10px;margin-top:8px;">View All Badges</button>
      </div>
      
    </div>
    
    <!-- Encouragement Message -->
    <div id="youth-encouragement" style="margin-top:15px;padding:12px;background:linear-gradient(135deg,rgba(168,85,247,0.2),rgba(34,197,94,0.1));border-radius:8px;text-align:center;">
      <p style="color:#e5e7eb;font-size:13px;margin:0 0 5px 0;">üéÆ Share this game with your youth group, friends, and family!</p>
      <p style="color:#fcd34d;font-size:11px;margin:0;font-style:italic;">"He who wins souls is wise" ‚Äî Proverbs 11:30</p>
    </div>
  </div>
  
  <!-- ========== COMMUNITY TESTIMONIES & RATINGS ========== -->
  <div id="community-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #22c55e;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <h2 style="color:#22c55e;font-size:20px;margin:0;">üí¨ COMMUNITY TESTIMONIES</h2>
      <span style="color:#ffd700;font-size:12px;font-style:italic;">"Let the redeemed of the Lord tell their story" ‚Äî Psalm 107:2</span>
    </div>
    
    <!-- Rating Section -->
    <div style="background:rgba(255,215,0,0.1);padding:15px;border-radius:12px;margin-bottom:15px;text-align:center;">
      <p style="color:#ffd700;font-size:14px;margin-bottom:10px;font-weight:bold;">‚≠ê RATE THIS GAME ‚≠ê</p>
      <div id="star-rating" style="display:flex;justify-content:center;gap:8px;margin-bottom:10px;">
        <button onclick="rateGame(1)" class="star-btn" data-rating="1" style="font-size:28px;background:none;border:none;cursor:pointer;transition:transform 0.2s;">‚≠ê</button>
        <button onclick="rateGame(2)" class="star-btn" data-rating="2" style="font-size:28px;background:none;border:none;cursor:pointer;transition:transform 0.2s;">‚≠ê</button>
        <button onclick="rateGame(3)" class="star-btn" data-rating="3" style="font-size:28px;background:none;border:none;cursor:pointer;transition:transform 0.2s;">‚≠ê</button>
        <button onclick="rateGame(4)" class="star-btn" data-rating="4" style="font-size:28px;background:none;border:none;cursor:pointer;transition:transform 0.2s;">‚≠ê</button>
        <button onclick="rateGame(5)" class="star-btn" data-rating="5" style="font-size:28px;background:none;border:none;cursor:pointer;transition:transform 0.2s;">‚≠ê</button>
      </div>
      <p id="rating-result" style="color:#9ca3af;font-size:12px;">Click to rate! Average: <span style="color:#ffd700;">4.8/5</span> (127 ratings)</p>
    </div>
    
    <!-- Submit Testimony Form -->
    <div style="background:rgba(34,197,94,0.1);padding:15px;border-radius:12px;margin-bottom:15px;">
      <p style="color:#22c55e;font-size:14px;margin-bottom:10px;font-weight:bold;">üìù SHARE YOUR TESTIMONY</p>
      <p style="color:#9ca3af;font-size:11px;margin-bottom:12px;">Share how this game has impacted you, your walk with God, or your family!</p>
      <textarea id="testimony-input" placeholder="Share your testimony here... How has this game impacted you or your family's faith journey?" style="width:100%;height:80px;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;resize:vertical;margin-bottom:10px;"></textarea>
      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
        <input type="text" id="testimony-name" placeholder="Your name (optional)" style="flex:1;min-width:150px;padding:8px 12px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;">
        <button onclick="submitTestimony()" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;">Submit Testimony ‚úùÔ∏è</button>
      </div>
    </div>
    
    <!-- Sample Testimonies -->
    <div id="testimonies-list" style="display:grid;gap:12px;">
      <div style="background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;border-left:3px solid #ffd700;">
        <p style="color:#e5e7eb;font-size:12px;line-height:1.5;margin-bottom:8px;">"My kids and I play this together every weekend! The scriptures that pop up have sparked amazing conversations about faith. We've even started reading the Bible together as a family because of this game!"</p>
        <p style="color:#ffd700;font-size:11px;font-weight:bold;">‚Äî Sarah M., Texas ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
      </div>
      <div style="background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;border-left:3px solid #22c55e;">
        <p style="color:#e5e7eb;font-size:12px;line-height:1.5;margin-bottom:8px;">"As a youth pastor, I use this game at our youth group nights. The kids love it AND they're learning scripture! The phone zombie feature really hits home with teens about phone addiction."</p>
        <p style="color:#22c55e;font-size:11px;font-weight:bold;">‚Äî Pastor Mike, Ohio ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
      </div>
      <div style="background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;border-left:3px solid #3b82f6;">
        <p style="color:#e5e7eb;font-size:12px;line-height:1.5;margin-bottom:8px;">"The rapture warnings made me think seriously about my relationship with Jesus. I've recommitted my life to Christ and now share this game with everyone I know. Thank you!"</p>
        <p style="color:#60a5fa;font-size:11px;font-weight:bold;">‚Äî James R., Florida ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
      </div>
    </div>
    
    <div style="margin-top:15px;padding:10px;background:rgba(255,215,0,0.1);border-radius:8px;text-align:center;">
      <p style="color:#ffd700;font-size:10px;margin:0;font-style:italic;">"And they overcame him by the blood of the Lamb and by the word of their testimony" ‚Äî Revelation 12:11</p>
    </div>
  </div>
  
  <!-- ========== EMBEDDED VIDEO PLAYER (Minimizable) ========== -->
  <div id="video-player-container" style="display:none;position:fixed;bottom:20px;right:20px;z-index:9000;transition:all 0.3s ease;">
    <div id="video-player-wrapper" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;border:2px solid #ef4444;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,0.5);">
      <!-- Video Header -->
      <div id="video-header" style="background:linear-gradient(135deg,#ef4444,#dc2626);padding:10px 15px;display:flex;justify-content:space-between;align-items:center;cursor:move;">
        <div style="display:flex;align-items:center;gap:8px;">
          <span style="font-size:16px;">üì∫</span>
          <span id="video-title" style="color:#fff;font-size:12px;font-weight:bold;">Now Playing...</span>
        </div>
        <div style="display:flex;gap:5px;">
          <button id="video-minimize-btn" onclick="toggleVideoSize()" style="background:#fff;border:none;width:24px;height:24px;border-radius:4px;cursor:pointer;font-size:14px;line-height:1;">‚àí</button>
          <button id="video-close-btn" onclick="closeVideoPlayer()" style="background:#fff;border:none;width:24px;height:24px;border-radius:4px;cursor:pointer;font-size:14px;line-height:1;">‚úï</button>
        </div>
      </div>
      <!-- Video Content -->
      <div id="video-content" style="width:400px;height:225px;background:#000;">
        <iframe id="video-iframe" width="100%" height="100%" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
      <!-- Video Info -->
      <div id="video-info" style="padding:10px 15px;background:rgba(0,0,0,0.3);">
        <p id="video-description" style="color:#9ca3af;font-size:11px;margin-bottom:8px;line-height:1.4;">Loading video...</p>
        <p id="video-scripture" style="color:#fcd34d;font-size:10px;font-style:italic;"></p>
      </div>
      <!-- Video Navigation -->
      <div id="video-nav" style="padding:10px 15px;background:rgba(0,0,0,0.2);display:flex;gap:8px;flex-wrap:wrap;">
        <button onclick="showVideoPlayer('rapture')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">Rapture</button>
        <button onclick="showVideoPlayer('endtimes')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">End Times</button>
        <button onclick="showVideoPlayer('salvation')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">Salvation</button>
        <button onclick="showVideoPlayer('family')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">Family</button>
        <button onclick="showVideoPlayer('youth')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">Youth</button>
        <button onclick="showVideoPlayer('faith')" class="video-nav-btn" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:10px;cursor:pointer;">Faith & Culture</button>
      </div>
    </div>
  </div>
  
  <!-- ========== VIDEO LIBRARY SECTION ========== -->
  <div id="video-library-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #ef4444;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <h2 style="color:#ef4444;font-size:20px;margin:0;">üì∫ VIDEO RESOURCES - LEARN & GROW</h2>
      <span style="color:#fcd34d;font-size:12px;font-style:italic;">"Faith comes from hearing the message" ‚Äî Romans 10:17</span>
    </div>
    
    <p style="color:#9ca3af;font-size:12px;margin-bottom:15px;">Watch these powerful videos from Pastor Jack Hibbs, Charlie Kirk, and TPUSA Faith. Click any video to watch in our minimizable player!</p>
    
    <!-- Video Grid -->
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;">
      
      <!-- Pastor Jack Hibbs Videos -->
      <div onclick="showVideoPlayer('rapture')" style="background:rgba(239,68,68,0.1);border:1px solid #ef4444;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">üåÖ</div>
        <h4 style="color:#ef4444;font-size:12px;margin-bottom:4px;">The Rapture Explained</h4>
        <p style="color:#9ca3af;font-size:10px;">Pastor Jack Hibbs</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Caught up together..."</p>
      </div>
      
      <div onclick="showVideoPlayer('endtimes')" style="background:rgba(239,68,68,0.1);border:1px solid #ef4444;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">‚ö†Ô∏è</div>
        <h4 style="color:#ef4444;font-size:12px;margin-bottom:4px;">Signs of the End Times</h4>
        <p style="color:#9ca3af;font-size:10px;">Pastor Jack Hibbs</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Wars and rumors of wars"</p>
      </div>
      
      <div onclick="showVideoPlayer('salvation')" style="background:rgba(34,197,94,0.1);border:1px solid #22c55e;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">‚úùÔ∏è</div>
        <h4 style="color:#22c55e;font-size:12px;margin-bottom:4px;">How to Be Saved</h4>
        <p style="color:#9ca3af;font-size:10px;">Pastor Jack Hibbs</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Believe and be saved"</p>
      </div>
      
      <div onclick="showVideoPlayer('family')" style="background:rgba(59,130,246,0.1);border:1px solid #3b82f6;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
        <h4 style="color:#3b82f6;font-size:12px;margin-bottom:4px;">Family & Faith</h4>
        <p style="color:#9ca3af;font-size:10px;">Pastor Jack Hibbs</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Train up a child..."</p>
      </div>
      
      <div onclick="showVideoPlayer('youth')" style="background:rgba(168,85,247,0.1);border:1px solid #a855f7;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">üéì</div>
        <h4 style="color:#a855f7;font-size:12px;margin-bottom:4px;">Youth Q&A</h4>
        <p style="color:#9ca3af;font-size:10px;">Pastor Jack Hibbs</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Let no one despise your youth"</p>
      </div>
      
      <!-- Charlie Kirk / TPUSA Faith -->
      <div onclick="showVideoPlayer('faith')" style="background:rgba(255,215,0,0.1);border:1px solid #ffd700;border-radius:10px;padding:12px;cursor:pointer;transition:transform 0.2s;text-align:center;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
        <div style="font-size:32px;margin-bottom:8px;">üá∫üá∏</div>
        <h4 style="color:#ffd700;font-size:12px;margin-bottom:4px;">Faith & Freedom</h4>
        <p style="color:#9ca3af;font-size:10px;">Charlie Kirk / TPUSA</p>
        <p style="color:#fcd34d;font-size:9px;margin-top:6px;font-style:italic;">"Stand firm in freedom"</p>
      </div>
      
    </div>
    
    <div style="margin-top:15px;padding:12px;background:rgba(239,68,68,0.1);border-radius:8px;text-align:center;">
      <p style="color:#ef4444;font-size:11px;margin:0;">üé¨ <strong>TIP:</strong> Videos play in a minimizable window so you can keep gaming while watching!</p>
    </div>
  </div>
  
  <!-- ========== FULL BLOG CMS SECTION ========== -->
  <div id="blog-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #a855f7;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <h2 style="color:#a855f7;font-size:20px;margin:0;">üìù COMMUNITY BLOG - SHARE YOUR WALK</h2>
      <div style="display:flex;gap:10px;align-items:center;">
        <span style="color:#fcd34d;font-size:12px;font-style:italic;">"Iron sharpens iron" ‚Äî Proverbs 27:17</span>
        <!-- Admin button - only visible to admins via JS -->
        <button id="admin-panel-btn" onclick="showAdminPanel()" style="display:none;background:#ef4444;color:#fff;border:none;padding:6px 12px;border-radius:8px;font-size:11px;cursor:pointer;">üõ°Ô∏è Admin</button>
      </div>
    </div>
    
    <!-- Moderation Notice -->
    <div style="background:rgba(34,197,94,0.1);border:1px solid #22c55e;border-radius:8px;padding:10px;margin-bottom:15px;">
      <p style="color:#22c55e;font-size:11px;margin:0;">üõ°Ô∏è <strong>Safe Community:</strong> All posts are reviewed before publishing. No personal contact info, inappropriate content, or hateful speech allowed. <a href="#" onclick="document.getElementById('terms-modal').style.display='block';return false;" style="color:#fcd34d;">Read our guidelines</a></p>
    </div>
    
    <!-- Blog Categories -->
    <div style="display:flex;gap:8px;margin-bottom:15px;flex-wrap:wrap;">
      <button onclick="filterBlogPosts('all')" class="blog-filter-btn active" style="background:#a855f7;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">All Posts</button>
      <button onclick="filterBlogPosts('testimony')" class="blog-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">Testimonies</button>
      <button onclick="filterBlogPosts('devotional')" class="blog-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">Devotionals</button>
      <button onclick="filterBlogPosts('prayer')" class="blog-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">Prayer Requests</button>
      <button onclick="filterBlogPosts('discussion')" class="blog-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">Discussions</button>
    </div>
    
    <!-- Create Blog Post Form -->
    <div style="background:rgba(168,85,247,0.1);padding:15px;border-radius:12px;margin-bottom:15px;">
      <p style="color:#a855f7;font-size:14px;margin-bottom:10px;font-weight:bold;">‚úèÔ∏è CREATE A NEW POST <span style="color:#9ca3af;font-size:11px;font-weight:normal;">(Requires approval)</span></p>
      
      <input type="text" id="blog-title" placeholder="Post Title" style="width:100%;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:13px;margin-bottom:10px;">
      
      <div style="display:flex;gap:10px;margin-bottom:10px;flex-wrap:wrap;">
        <select id="blog-category" style="flex:1;min-width:150px;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;">
          <option value="testimony">üìñ Testimony</option>
          <option value="devotional">üôè Devotional</option>
          <option value="prayer">üíí Prayer Request</option>
          <option value="discussion">üí¨ Discussion</option>
        </select>
        <input type="text" id="blog-author" placeholder="Your Name" style="flex:1;min-width:150px;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;">
      </div>
      
      <textarea id="blog-content" placeholder="Share your thoughts, testimony, devotional, or prayer request here... What has God been teaching you? How can we pray for you?" style="width:100%;height:120px;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;resize:vertical;margin-bottom:10px;"></textarea>
      
      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
        <input type="text" id="blog-scripture" placeholder="Related Scripture (e.g., John 3:16)" style="flex:1;min-width:200px;padding:8px 12px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;">
        <button onclick="submitBlogPost()" style="background:linear-gradient(135deg,#a855f7,#7c3aed);color:#fff;border:none;padding:10px 25px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;">Publish Post üìù</button>
      </div>
    </div>
    
    <!-- Blog Posts List -->
    <div id="blog-posts-list" style="display:grid;gap:15px;">
      
      <!-- Sample Blog Post 1 -->
      <div class="blog-post" data-category="testimony" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #22c55e;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;flex-wrap:wrap;gap:8px;">
          <div>
            <span style="background:#22c55e;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;margin-right:8px;">TESTIMONY</span>
            <h3 style="color:#fff;font-size:16px;margin:8px 0 4px 0;">From Phone Zombie to Prayer Warrior</h3>
          </div>
          <span style="color:#9ca3af;font-size:10px;">Dec 15, 2024</span>
        </div>
        <p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">Playing BirdTurds with my son was just supposed to be fun family time. But when we started waking those phone zombies and the scriptures popped up, something changed in both of us. My son put down his phone and asked me to explain what "rapture" meant. That conversation led to us reading the Bible together every night now. He even led his younger sister to Christ last month!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
          <p style="color:#fcd34d;font-size:11px;font-style:italic;margin:0;">"Train up a child in the way he should go" ‚Äî Proverbs 22:6</p>
          <div style="display:flex;align-items:center;gap:10px;">
            <span style="color:#9ca3af;font-size:11px;">By <strong style="color:#22c55e;">Jennifer K.</strong></span>
            <button onclick="likeBlogPost(this)" style="background:none;border:none;color:#ef4444;cursor:pointer;font-size:14px;">‚ù§Ô∏è <span>24</span></button>
            <button onclick="toggleComments(this)" style="background:none;border:none;color:#3b82f6;cursor:pointer;font-size:14px;">üí¨ <span>7</span></button>
          </div>
        </div>
      </div>
      
      <!-- Sample Blog Post 2 -->
      <div class="blog-post" data-category="devotional" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #3b82f6;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;flex-wrap:wrap;gap:8px;">
          <div>
            <span style="background:#3b82f6;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;margin-right:8px;">DEVOTIONAL</span>
            <h3 style="color:#fff;font-size:16px;margin:8px 0 4px 0;">Why "Waking Up" Matters - A Pastor's Reflection</h3>
          </div>
          <span style="color:#9ca3af;font-size:10px;">Dec 12, 2024</span>
        </div>
        <p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">Ephesians 5:14 says "Awake, O sleeper, arise from the dead, and Christ will shine on you." In our world of constant distraction, this verse has never been more relevant. When I see people glued to their phones, missing the beauty around them, missing connections with family, I think of how Jesus wept over Jerusalem. He weeps over us too. Let's wake up, Church!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
          <p style="color:#fcd34d;font-size:11px;font-style:italic;margin:0;">"Awake, O sleeper, arise from the dead" ‚Äî Ephesians 5:14</p>
          <div style="display:flex;align-items:center;gap:10px;">
            <span style="color:#9ca3af;font-size:11px;">By <strong style="color:#3b82f6;">Pastor David M.</strong></span>
            <button onclick="likeBlogPost(this)" style="background:none;border:none;color:#ef4444;cursor:pointer;font-size:14px;">‚ù§Ô∏è <span>42</span></button>
            <button onclick="toggleComments(this)" style="background:none;border:none;color:#3b82f6;cursor:pointer;font-size:14px;">üí¨ <span>15</span></button>
          </div>
        </div>
      </div>
      
      <!-- Sample Blog Post 3 -->
      <div class="blog-post" data-category="prayer" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #ffd700;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;flex-wrap:wrap;gap:8px;">
          <div>
            <span style="background:#ffd700;color:#000;padding:3px 8px;border-radius:10px;font-size:9px;margin-right:8px;">PRAYER REQUEST</span>
            <h3 style="color:#fff;font-size:16px;margin:8px 0 4px 0;">Please Pray for My Unsaved Family</h3>
          </div>
          <span style="color:#9ca3af;font-size:10px;">Dec 10, 2024</span>
        </div>
        <p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">I've been sharing this game with my family hoping the scriptures would plant seeds. My parents and brother still don't know Jesus. Please pray that God would soften their hearts and that the end times messages in this game would wake them up before it's too late. I love them so much and I don't want them left behind.</p>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
          <p style="color:#fcd34d;font-size:11px;font-style:italic;margin:0;">"The Lord is not wanting anyone to perish" ‚Äî 2 Peter 3:9</p>
          <div style="display:flex;align-items:center;gap:10px;">
            <span style="color:#9ca3af;font-size:11px;">By <strong style="color:#ffd700;">Anonymous</strong></span>
            <button onclick="likeBlogPost(this)" style="background:none;border:none;color:#ef4444;cursor:pointer;font-size:14px;">üôè <span>89</span></button>
            <button onclick="toggleComments(this)" style="background:none;border:none;color:#3b82f6;cursor:pointer;font-size:14px;">üí¨ <span>23</span></button>
          </div>
        </div>
      </div>
      
      <!-- Sample Blog Post 4 -->
      <div class="blog-post" data-category="discussion" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #a855f7;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;flex-wrap:wrap;gap:8px;">
          <div>
            <span style="background:#a855f7;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;margin-right:8px;">DISCUSSION</span>
            <h3 style="color:#fff;font-size:16px;margin:8px 0 4px 0;">What Signs of the End Times Do You See Today?</h3>
          </div>
          <span style="color:#9ca3af;font-size:10px;">Dec 8, 2024</span>
        </div>
        <p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">Matthew 24 talks about wars, famines, earthquakes, and the love of many growing cold. I look around and see all of these things accelerating. What signs are you noticing in your community? Let's discuss and encourage each other to stay watchful and ready!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
          <p style="color:#fcd34d;font-size:11px;font-style:italic;margin:0;">"Watch therefore, for you know not the hour" ‚Äî Matthew 24:42</p>
          <div style="display:flex;align-items:center;gap:10px;">
            <span style="color:#9ca3af;font-size:11px;">By <strong style="color:#a855f7;">WatchmanOnTheWall</strong></span>
            <button onclick="likeBlogPost(this)" style="background:none;border:none;color:#ef4444;cursor:pointer;font-size:14px;">‚ù§Ô∏è <span>31</span></button>
            <button onclick="toggleComments(this)" style="background:none;border:none;color:#3b82f6;cursor:pointer;font-size:14px;">üí¨ <span>47</span></button>
          </div>
        </div>
      </div>
      
    </div>
    
    <!-- Load More -->
    <div style="text-align:center;margin-top:15px;">
      <button onclick="loadMorePosts()" style="background:linear-gradient(135deg,#374151,#1f2937);color:#fff;border:1px solid #4b5563;padding:10px 30px;border-radius:8px;cursor:pointer;font-size:12px;">Load More Posts üìú</button>
    </div>
    
    <div style="margin-top:15px;padding:12px;background:rgba(168,85,247,0.1);border-radius:8px;text-align:center;">
      <p style="color:#a855f7;font-size:10px;margin:0;font-style:italic;">"Therefore encourage one another and build each other up" ‚Äî 1 Thessalonians 5:11</p>
    </div>
  </div>
  
  <!-- ========== CHRISTIAN EVENTS BULLETIN ========== -->
  <div id="events-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #f59e0b;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <div style="display:flex;align-items:center;gap:10px;">
        <h2 style="color:#f59e0b;font-size:20px;margin:0;">üìÖ CHRISTIAN EVENTS BULLETIN</h2>
        <span style="display:flex;align-items:center;gap:4px;background:rgba(34,197,94,0.2);padding:3px 8px;border-radius:10px;font-size:9px;color:#22c55e;">
          <span class="events-live-dot"></span> AUTO-UPDATING
        </span>
      </div>
      <span style="color:#fcd34d;font-size:12px;font-style:italic;">"Not forsaking the assembling of ourselves together" ‚Äî Hebrews 10:25</span>
    </div>
    
    <!-- Location Notice -->
    <div id="events-location" style="background:rgba(59,130,246,0.15);padding:10px;border-radius:8px;margin-bottom:15px;text-align:center;">
      <p style="color:#60a5fa;font-size:12px;margin:0;">üìç Showing events near: <span id="user-location" style="color:#22c55e;font-weight:bold;">Loading location...</span></p>
      <button onclick="refreshLocation()" style="background:#374151;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:10px;cursor:pointer;margin-top:6px;">üîÑ Update Location</button>
    </div>
    
    <!-- Event Categories -->
    <div style="display:flex;gap:8px;margin-bottom:15px;flex-wrap:wrap;">
      <button onclick="filterEvents('all')" class="event-filter-btn active" style="background:#f59e0b;color:#000;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;font-weight:bold;">All Events</button>
      <button onclick="filterEvents('local')" class="event-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">üìç Local</button>
      <button onclick="filterEvents('conference')" class="event-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">üé§ Conferences</button>
      <button onclick="filterEvents('revival')" class="event-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">üî• Revivals</button>
      <button onclick="filterEvents('youth')" class="event-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">üéì Youth</button>
      <button onclick="filterEvents('worship')" class="event-filter-btn" style="background:#374151;color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:11px;cursor:pointer;">üéµ Worship</button>
    </div>
    
    <!-- Events Grid -->
    <div id="events-list" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;">
      
      <!-- Sample Event 1 -->
      <div class="event-card" data-category="conference" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #f59e0b;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
          <span style="background:#f59e0b;color:#000;padding:3px 8px;border-radius:10px;font-size:9px;font-weight:bold;">CONFERENCE</span>
          <span style="color:#22c55e;font-size:10px;">üåç Global</span>
        </div>
        <h3 style="color:#fff;font-size:14px;margin:8px 0;">TPUSA Faith: Believers Summit 2025</h3>
        <p style="color:#9ca3af;font-size:11px;margin-bottom:8px;">üìç Phoenix, AZ | üìÖ June 14-16, 2025</p>
        <p style="color:#e5e7eb;font-size:11px;line-height:1.5;margin-bottom:10px;">Join thousands of young believers for worship, teaching, and equipping. Speakers include Charlie Kirk, Jack Hibbs, and more!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <a href="https://tpusafaith.com" target="_blank" style="background:#f59e0b;color:#000;padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Register ‚Üí</a>
          <span style="color:#fcd34d;font-size:10px;">‚úùÔ∏è Spirit-Filled</span>
        </div>
      </div>
      
      <!-- Sample Event 2 -->
      <div class="event-card" data-category="revival" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #ef4444;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
          <span style="background:#ef4444;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;font-weight:bold;">REVIVAL</span>
          <span style="color:#22c55e;font-size:10px;">üåç Global</span>
        </div>
        <h3 style="color:#fff;font-size:14px;margin:8px 0;">Asbury-Style Prayer Revival</h3>
        <p style="color:#9ca3af;font-size:11px;margin-bottom:8px;">üìç Various Locations | üìÖ Ongoing</p>
        <p style="color:#e5e7eb;font-size:11px;line-height:1.5;margin-bottom:10px;">Revival is spreading across college campuses! Join 24/7 prayer and worship gatherings in your area. The fire is spreading!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <a href="https://www.asbury.edu" target="_blank" style="background:#ef4444;color:#fff;padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Find Near You ‚Üí</a>
          <span style="color:#fcd34d;font-size:10px;">üî• Revival Fire</span>
        </div>
      </div>
      
      <!-- Sample Event 3 -->
      <div class="event-card" data-category="worship" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #a855f7;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
          <span style="background:#a855f7;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;font-weight:bold;">WORSHIP</span>
          <span style="color:#22c55e;font-size:10px;">üåç Global</span>
        </div>
        <h3 style="color:#fff;font-size:14px;margin:8px 0;">Passion 2025 Conference</h3>
        <p style="color:#9ca3af;font-size:11px;margin-bottom:8px;">üìç Atlanta, GA | üìÖ January 2-4, 2025</p>
        <p style="color:#e5e7eb;font-size:11px;line-height:1.5;margin-bottom:10px;">Tens of thousands of 18-25 year olds gathering for worship with Passion Music, Hillsong, and powerful teaching!</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <a href="https://passionconferences.com" target="_blank" style="background:#a855f7;color:#fff;padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Learn More ‚Üí</a>
          <span style="color:#fcd34d;font-size:10px;">üéµ Worship</span>
        </div>
      </div>
      
      <!-- Sample Event 4 -->
      <div class="event-card" data-category="youth" style="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #22c55e;">
        <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
          <span style="background:#22c55e;color:#fff;padding:3px 8px;border-radius:10px;font-size:9px;font-weight:bold;">YOUTH</span>
          <span style="color:#22c55e;font-size:10px;">üåç Global</span>
        </div>
        <h3 style="color:#fff;font-size:14px;margin:8px 0;">Real Life Youth Camp</h3>
        <p style="color:#9ca3af;font-size:11px;margin-bottom:8px;">üìç Chino Hills, CA | üìÖ Summer 2025</p>
        <p style="color:#e5e7eb;font-size:11px;line-height:1.5;margin-bottom:10px;">Pastor Jack Hibbs' youth camp! A week of fun, fellowship, and deep Bible teaching for middle and high schoolers.</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <a href="https://reallife.org" target="_blank" style="background:#22c55e;color:#fff;padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Register ‚Üí</a>
          <span style="color:#fcd34d;font-size:10px;">‚úùÔ∏è Bible-Based</span>
        </div>
      </div>
      
    </div>
    
    <div style="margin-top:15px;padding:12px;background:rgba(245,158,11,0.1);border-radius:8px;text-align:center;">
      <p style="color:#f59e0b;font-size:11px;margin:0;">üì¢ <strong>Submit an Event:</strong> Email <a href="/cdn-cgi/l/email-protection#7a090f0a0a15080e3a1813081e0e0f081e0954191517" style="color:#22c55e;"><span class="__cf_email__" data-cfemail="d6a5a3a6a6b9a4a296b4bfa4b2a2a3a4b2a5f8b5b9bb">[email&#160;protected]</span></a> with your spirit-filled Christian event!</p>
    </div>
  </div>
  
  <!-- ========== CHURCH FINDER ========== -->
  <div id="church-section" style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:16px;padding:20px;margin-top:12px;border:2px solid #22c55e;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px;">
      <div style="display:flex;align-items:center;gap:10px;">
        <h2 style="color:#22c55e;font-size:20px;margin:0;">‚õ™ FIND A SPIRIT-FILLED CHURCH</h2>
        <span style="display:flex;align-items:center;gap:4px;background:rgba(34,197,94,0.2);padding:3px 8px;border-radius:10px;font-size:9px;color:#22c55e;">
          <span class="events-live-dot"></span> + BULLETINS
        </span>
      </div>
      <span style="color:#fcd34d;font-size:12px;font-style:italic;">"Where two or three gather in my name, there am I" ‚Äî Matthew 18:20</span>
    </div>
    
    <p style="color:#9ca3af;font-size:12px;margin-bottom:15px;">Looking for a Bible-believing, non-woke church? Here are some recommended congregations that preach the full Gospel!</p>
    
    <!-- Church Search -->
    <div style="background:rgba(34,197,94,0.1);padding:15px;border-radius:12px;margin-bottom:15px;">
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;">
        <input type="text" id="church-search" placeholder="Enter city, state, or zip code..." style="flex:1;min-width:200px;padding:10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#fff;font-size:12px;">
        <button onclick="searchChurches()" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:12px;">üîç Find Churches</button>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <label style="color:#9ca3af;font-size:11px;display:flex;align-items:center;gap:4px;">
          <input type="checkbox" id="filter-spiritfilled" checked style="width:14px;height:14px;"> Spirit-Filled
        </label>
        <label style="color:#9ca3af;font-size:11px;display:flex;align-items:center;gap:4px;">
          <input type="checkbox" id="filter-biblebased" checked style="width:14px;height:14px;"> Bible-Based
        </label>
        <label style="color:#9ca3af;font-size:11px;display:flex;align-items:center;gap:4px;">
          <input type="checkbox" id="filter-endtimes" style="width:14px;height:14px;"> End-Times Teaching
        </label>
        <label style="color:#9ca3af;font-size:11px;display:flex;align-items:center;gap:4px;">
          <input type="checkbox" id="filter-youthgroup" style="width:14px;height:14px;"> Youth Group
        </label>
      </div>
    </div>
    
    <!-- Featured Churches -->
    <div style="margin-bottom:15px;">
      <h3 style="color:#ffd700;font-size:14px;margin-bottom:10px;">‚≠ê FEATURED CHURCHES (Highly Recommended)</h3>
      <div id="churches-list" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;">
        
        <!-- Calvary Chapel Chino Hills -->
        <div class="church-card" style="background:rgba(255,255,255,0.05);padding:12px;border-radius:10px;border-left:3px solid #ffd700;">
          <h4 style="color:#fff;font-size:13px;margin:0 0 5px 0;">Calvary Chapel Chino Hills</h4>
          <p style="color:#22c55e;font-size:11px;margin:0 0 5px 0;">üìç Chino Hills, CA | Pastor Jack Hibbs</p>
          <p style="color:#9ca3af;font-size:10px;line-height:1.4;margin:0 0 8px 0;">Powerful verse-by-verse teaching, end-times prophecy, and strong stance on biblical values. Live streaming available!</p>
          <div style="display:flex;gap:6px;flex-wrap:wrap;">
            <span style="background:#22c55e;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">Spirit-Filled</span>
            <span style="background:#3b82f6;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">End-Times</span>
            <span style="background:#a855f7;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">Youth</span>
          </div>
          <a href="https://reallife.org" target="_blank" style="color:#ffd700;font-size:10px;text-decoration:underline;display:block;margin-top:6px;">Visit Website ‚Üí</a>
        </div>
        
        <!-- Turning Point -->
        <div class="church-card" style="background:rgba(255,255,255,0.05);padding:12px;border-radius:10px;border-left:3px solid #3b82f6;">
          <h4 style="color:#fff;font-size:13px;margin:0 0 5px 0;">Shadow Mountain Community Church</h4>
          <p style="color:#22c55e;font-size:11px;margin:0 0 5px 0;">üìç El Cajon, CA | Dr. David Jeremiah</p>
          <p style="color:#9ca3af;font-size:10px;line-height:1.4;margin:0 0 8px 0;">Home of Turning Point Ministries. Deep biblical teaching, prophecy focus, and global outreach.</p>
          <div style="display:flex;gap:6px;flex-wrap:wrap;">
            <span style="background:#22c55e;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">Bible-Based</span>
            <span style="background:#3b82f6;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">Prophecy</span>
          </div>
          <a href="https://www.shadowmountain.org" target="_blank" style="color:#ffd700;font-size:10px;text-decoration:underline;display:block;margin-top:6px;">Visit Website ‚Üí</a>
        </div>
        
        <!-- McLean Bible Church -->
        <div class="church-card" style="background:rgba(255,255,255,0.05);padding:12px;border-radius:10px;border-left:3px solid #22c55e;">
          <h4 style="color:#fff;font-size:13px;margin:0 0 5px 0;">Cornerstone Chapel</h4>
          <p style="color:#22c55e;font-size:11px;margin:0 0 5px 0;">üìç Leesburg, VA | Pastor Gary Hamrick</p>
          <p style="color:#9ca3af;font-size:10px;line-height:1.4;margin:0 0 8px 0;">Uncompromising truth, verse-by-verse teaching, and strong biblical worldview. Great online community.</p>
          <div style="display:flex;gap:6px;flex-wrap:wrap;">
            <span style="background:#22c55e;color:#fff;padding:2px 6px;border-radius:4px;font-size:9px;">Spirit-Filled</span>
            <span style="background:#f59e0b;color:#000;padding:2px 6px;border-radius:4px;font-size:9px;">Online</span>
          </div>
          <a href="https://www.cornerstonechapel.net" target="_blank" style="color:#ffd700;font-size:10px;text-decoration:underline;display:block;margin-top:6px;">Visit Website ‚Üí</a>
        </div>
        
      </div>
    </div>
    
    <!-- Submit a Church -->
    <div style="background:rgba(34,197,94,0.1);padding:12px;border-radius:8px;text-align:center;">
      <p style="color:#22c55e;font-size:11px;margin:0;">‚õ™ <strong>Recommend a Church:</strong> Know a great spirit-filled church? Email <a href="/cdn-cgi/l/email-protection#463533363629343206242f342232333422356825292b" style="color:#ffd700;"><span class="__cf_email__" data-cfemail="05767075756a777145676c776171707761762b666a68">[email&#160;protected]</span></a></p>
      <p style="color:#9ca3af;font-size:10px;margin:5px 0 0 0;">We only list churches that preach the full Gospel and stand on biblical truth!</p>
    </div>
  </div>
    
    <style>
      /* MOBILE TOUCH FIX - disable all touch delays */
      button, #start-screen, #controls-toggle, #close-controls-btn, .header-btn, .modal-close, .mobile-btn {
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
        -webkit-touch-callout: none !important;
        user-select: none !important;
        cursor: pointer !important;
      }
      * { -webkit-tap-highlight-color: transparent; }
    </style>
    
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>var gameStarted=!1,isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0;function hideStartScreen(){var e=document.getElementById("start-screen"),g=document.getElementById("game-container");e&&(e.style.display="none");g&&g.classList.add("active");document.body&&document.body.classList.add("bt-playing");if(typeof window.startBirdTurdsGame==="function"){window.startBirdTurdsGame();}gameStarted=!0;console.log("Game started - mobile:",isMobileDevice);setTimeout(function(){g&&g.scrollIntoView({behavior:"smooth",block:"start"});},100);}var userRating=localStorage.getItem("birdturds_rating")||0;function rateGame(e){userRating=e,localStorage.setItem("birdturds_rating",e),document.querySelectorAll(".star-btn").forEach(function(t,n){n<e?(t.style.filter="none",t.style.transform="scale(1.1)"):(t.style.filter="grayscale(100%)",t.style.transform="scale(1)")});var t=document.getElementById("rating-result");t&&(t.innerHTML='Thank you for rating! You gave <span style="color:#ffd700;">'+e+"/5 ‚≠ê</span>"),alert("Thank you for rating BirdTurds "+e+' stars! ‚≠ê\n\n"Give thanks in all circumstances" ‚Äî 1 Thessalonians 5:18')}function submitTestimony(){var e=document.getElementById("testimony-input").value.trim(),t=document.getElementById("testimony-name").value.trim()||"Anonymous",n=e+" "+t,o=ContentModerator.validateContent(n);if(o.isClean)if(e.length<10)alert("Please write at least 10 characters in your testimony.");else{var i=UsernameValidator.toLeaderboardDisplay(t),s=JSON.parse(localStorage.getItem("birdturds_testimonies")||"[]");s.push({name:i,text:ContentModerator.sanitize(e),date:(new Date).toISOString(),rating:userRating||5}),localStorage.setItem("birdturds_testimonies",JSON.stringify(s));var a=document.getElementById("testimonies-list"),r=document.createElement("div");r.style.cssText="background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;border-left:3px solid #f472b6;animation:fadeIn 0.5s;",r.innerHTML='<p style="color:#e5e7eb;font-size:12px;line-height:1.5;margin-bottom:8px;">"'+ContentModerator.sanitize(e)+'"</p><p style="color:#f472b6;font-size:11px;font-weight:bold;">‚Äî '+i+" (Just now) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>",a.insertBefore(r,a.firstChild),document.getElementById("testimony-input").value="",document.getElementById("testimony-name").value="",alert('Thank you for sharing your testimony! ‚úùÔ∏è\n\n"Let the redeemed of the Lord tell their story" ‚Äî Psalm 107:2')}else alert("‚ö†Ô∏è Your testimony contains prohibited content:\n\n‚Ä¢ "+o.issues.join("\n‚Ä¢ ")+"\n\nFor safety, we do not allow:\n‚ùå Email addresses\n‚ùå Phone numbers\n‚ùå Social media handles\n‚ùå Inappropriate language\n\nPlease remove this content and try again.")}function shareGame(e){var t="https://birdturds.com",n="Check out BirdTurds - A game with PURPOSE! Entertainment + Biblical Truth!",o="";switch(e){case"facebook":o="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t);break;case"twitter":o="https://twitter.com/intent/tweet?text="+encodeURIComponent(n)+"&url="+encodeURIComponent(t);break;case"whatsapp":o="https://wa.me/?text="+encodeURIComponent(n+" "+t);break;case"telegram":o="https://t.me/share/url?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(n)}o&&window.open(o,"_blank","width=600,height=400")}var videoIsMinimized=!1,videoLibrary={rapture:{title:"The Rapture Just Happened - Pastor Jack Hibbs",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@reallifejackhibbs",description:"Understanding the biblical rapture and why it matters for every believer. Are you ready?",scripture:"For the Lord himself will come down from heaven... and the dead in Christ will rise first. ‚Äî 1 Thessalonians 4:16"},endtimes:{title:"Signs of the End Times - Pastor Jack Hibbs",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@reallifejackhibbs",description:"What does the Bible say about the signs we should watch for? Are we living in the last days?",scripture:"Nation will rise against nation, and kingdom against kingdom. There will be famines and earthquakes. ‚Äî Matthew 24:7"},salvation:{title:"How to Be Saved - The Gospel Message",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@reallifejackhibbs",description:"The most important decision you'll ever make. Learn how to accept Jesus Christ as your Lord and Savior.",scripture:"If you declare with your mouth, 'Jesus is Lord,' and believe in your heart that God raised him from the dead, you will be saved. ‚Äî Romans 10:9"},family:{title:"Navigating Family Dynamics with Grace",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@reallifejackhibbs",description:"God's wisdom for building strong families and raising children in faith.",scripture:"Train up a child in the way he should go; even when he is old he will not depart from it. ‚Äî Proverbs 22:6"},youth:{title:"Ask Pastor Jack - Youth Edition",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@reallifejackhibbs",description:"Real questions from young people, answered with biblical truth. For teens and young adults.",scripture:"Don't let anyone look down on you because you are young, but set an example for the believers. ‚Äî 1 Timothy 4:12"},faith:{title:"Faith & Freedom - TPUSA Faith",videoId:"rcJ4OCWZHTI",channelUrl:"https://www.youtube.com/@tpusafaith",description:"Charlie Kirk and TPUSA Faith on standing boldly for biblical values in today's culture.",scripture:"It is for freedom that Christ has set us free. Stand firm, then, and do not let yourselves be burdened again. ‚Äî Galatians 5:1"}};function showVideoPlayer(e){var t=videoLibrary[e]||videoLibrary.salvation,n=document.getElementById("video-player-container"),o=document.getElementById("video-iframe"),i=document.getElementById("video-title"),s=document.getElementById("video-description"),a=document.getElementById("video-scripture");i.textContent=t.title,s.textContent=t.description,a.textContent=t.scripture,o.src="https://www.youtube.com/embed/"+t.videoId+"?autoplay=1&rel=0",n.style.display="block",videoIsMinimized&&toggleVideoSize(),document.querySelectorAll(".video-nav-btn").forEach(function(e){e.style.background="#374151"}),event.target.style.background="#ef4444"}function toggleVideoSize(){var e=document.getElementById("video-content"),t=document.getElementById("video-info"),n=document.getElementById("video-nav"),o=document.getElementById("video-minimize-btn");videoIsMinimized?(e.style.width="400px",e.style.height="225px",t.style.display="block",n.style.display="flex",o.textContent="‚àí",videoIsMinimized=!1):(e.style.width="200px",e.style.height="112px",t.style.display="none",n.style.display="none",o.textContent="+",videoIsMinimized=!0)}function closeVideoPlayer(){var e=document.getElementById("video-player-container");document.getElementById("video-iframe").src="",e.style.display="none"}var blogPosts=JSON.parse(localStorage.getItem("birdturds_blog_posts")||"[]"),ContentModerator={emailPatterns:[/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/gi,/\b[a-z]+\s*(at|@)\s*[a-z]+\s*(dot|\.)\s*(com|net|org|edu|gov|io)\b/gi,/\bemail\s*:?\s*[^\s]+/gi,/\bcontact\s*me\s*(at|@)/gi,/[a-z]+\s+at\s+[a-z]+\s+dot\s+[a-z]+/gi,/[a-z]+\s*\(\s*at\s*\)\s*[a-z]+/gi,/[a-z]+\s*\[\s*at\s*\]\s*[a-z]+/gi,/[a-z]+\s*@\s*[a-z]+\s*\.\s*[a-z]+/gi,/\bg\s*m\s*a\s*i\s*l\b/gi,/\by\s*a\s*h\s*o\s*o\b/gi,/\bh\s*o\s*t\s*m\s*a\s*i\s*l\b/gi,/\bo\s*u\s*t\s*l\s*o\s*o\s*k\b/gi,/\bi\s*c\s*l\s*o\s*u\s*d\b/gi],phonePatterns:[/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/g,/\b\d{3}[-.\s]?\d{4}\b/g,/\(\d{3}\)\s*\d{3}[-.\s]?\d{4}/g,/\+\d{1,3}[-.\s]?\d{3,}/g,/\bphone\s*:?\s*[\d\s-]+/gi,/\bcall\s*me\s*(at)?\s*[\d]/gi,/\btext\s*me\s*(at)?\s*[\d]/gi,/\b\d\s+\d\s+\d\s+\d\s+\d\s+\d\s+\d/g,/\bp\s*h\s*o\s*n\s*e\b/gi,/\bc\s*a\s*l\s*l\b/gi,/\bt\s*e\s*x\s*t\b/gi,/\b\d{1,2}\s*\d{1,2}\s*\d{1,2}\s*\d{1,2}\s*\d{1,2}/g,/\bsix\s*(one|two|three|four|five|six|seven|eight|nine|zero)/gi,/\bone\s*(one|two|three|four|five|six|seven|eight|nine|zero)/gi],socialPatterns:[/\b(instagram|insta|ig)\s*:?\s*@?[a-z0-9._]+/gi,/\b(facebook|fb)\s*:?\s*@?[a-z0-9._]+/gi,/\b(twitter|x\.com)\s*:?\s*@?[a-z0-9._]+/gi,/\b(snapchat|snap)\s*:?\s*@?[a-z0-9._]+/gi,/\b(tiktok|tik\s*tok)\s*:?\s*@?[a-z0-9._]+/gi,/\b(discord)\s*:?\s*[a-z0-9#]+/gi,/\b(telegram|tg)\s*:?\s*@?[a-z0-9._]+/gi,/\b(whatsapp|wa)\s*:?\s*[\d+]+/gi,/@[a-zA-Z0-9_]{3,}/g,/\bdm\s*me\b/gi,/\bhmu\b/gi,/\bslide\s*in\s*(my)?\s*dms?\b/gi,/\bi\s*n\s*s\s*t\s*a\b/gi,/\bs\s*n\s*a\s*p\b/gi,/\bd\s*i\s*s\s*c\s*o\s*r\s*d\b/gi,/\badd\s+me\b/gi,/\bfind\s+me\s+(on|at)\b/gi,/\bmessage\s+me\b/gi,/\bhit\s+me\s+up\b/gi,/\bmy\s+(user|username|handle|profile)\s*(is|:)/gi],hatefulPatterns:[/\bn[i1]gg[ae3]r?s?\b/gi,/\bf[a4]g{1,2}[o0]?t?s?\b/gi,/\bk[i1]k[e3]s?\b/gi,/\br[e3]t[a4]rd(ed|s)?\b/gi,/\bsp[i1]c(k)?s?\b/gi,/\bch[i1]nk(y|s)?\b/gi,/\bwh[o0]r[e3]s?\b/gi,/\bsl[u4]t(ty|s)?\b/gi,/\bc[u4]nt(y|s)?\b/gi,/\bb[i1]tch(es|y)?\b/gi,/\bfuck(ing|er|ed|s)?\b/gi,/\bsh[i1]t(ty|s|head)?\b/gi,/\ba[s5]{2}h[o0]l[e3]s?\b/gi,/\bd[a4]mn\b/gi,/\bhell\b/gi,/\bcrap(py|s)?\b/gi,/\bpiss(ed|ing|y)?\b/gi,/\bb[ao0]lls\b/gi,/\bd[i1]ck(s|head)?\b/gi,/\bc[o0]ck(s|sucker)?\b/gi,/\bp[e3]n[i1]s\b/gi,/\bv[a4]g[i1]n[a4]\b/gi,/\bb[o0]{2}b(s|ies)?\b/gi,/\bt[i1]t(s|ties)?\b/gi,/\bpr[i1]ck(s)?\b/gi,/\bwank(er|ing)?\b/gi,/\bbastard(s)?\b/gi,/\barse(hole)?\b/gi,/\btwat\b/gi,/\bdouche(bag)?\b/gi,/\bkill\s*(yourself|urself|all)\b/gi,/\bdie\s*(already)?\b/gi,/\bkys\b/gi,/\bhate\s*(you|u|all)\b/gi,/\bnazi(s)?\b/gi,/\bhitler\b/gi,/\bwhite\s*power\b/gi,/\bsupremac(y|ist)\b/gi],blasphemyPatterns:[/\bgod\s*damn/gi,/\bjesus\s*christ\b(?!\s*(is\s*(lord|savior|king)|loves|saves|died|risen|alive))/gi,/\bholy\s*sh/gi,/\bgoddamn/gi,/\bgd\b/gi,/\bwtf\b/gi,/\bomfg\b/gi,/\bchrist\s*on\s*a/gi],antiChristianPatterns:[/\bjesus\s*(is|was)\s*(fake|false|lie|myth|fiction|made\s*up)\b/gi,/\bgod\s*(is|doesn't|does\s*not|isn't|ain't)\s*(real|exist)\b/gi,/\bchristian(s|ity)?\s*(are|is)\s*(stupid|dumb|evil|bad|wrong|cult)\b/gi,/\bbible\s*(is)\s*(fake|false|lie|myth|fiction|made\s*up|wrong)\b/gi,/\bfake\s*(god|jesus|christ|religion)\b/gi,/\bscrew\s*(god|jesus|christ|church)\b/gi,/\bhate\s*(god|jesus|christ|christian|church)\b/gi,/\bf\s*god\b/gi,/\bf\s*jesus\b/gi,/\bchurch\s*(is|are)\s*(evil|bad|cult|scam)\b/gi,/\breligion\s*(is)\s*(poison|evil|bad|fake)\b/gi,/\batheist\s*(rule|rock|win)\b/gi,/\bno\s*god\b/gi,/\bgod\s*is\s*dead\b/gi,/\bchristians\s*suck\b/gi,/\bsky\s*daddy\b/gi,/\bimaginary\s*(friend|god)\b/gi,/\bflying\s*spaghetti\b/gi,/\bfairy\s*tale(s)?\b/gi],thirdPartyContactPatterns:[/\b(kik|viber|line|wechat|signal|threema)\b/gi,/\b(zoom|skype|facetime|hangouts|meet)\s*(me|id|:)/gi,/\b(venmo|cashapp|paypal|zelle)\s*(@|:|\s*me)/gi,/\b(steam|xbox|psn|playstation|nintendo)\s*(id|tag|:)/gi,/\b(meet|hang|chill)\s*(up|out)?\s*(with\s*me|sometime|irl)/gi,/\birl\b/gi,/\bin\s*real\s*life\b/gi,/\bwhere\s*(are|r)\s*(you|u)\s*(from|at|located)\b/gi,/\bwhat\s*(city|state|town|country)\b/gi,/\bcome\s*(to|visit|over|meet)\b/gi,/\bmy\s*(house|place|address|location)\b/gi],encodedPatterns:[/[a-z0-9]\s+[a-z0-9]\s+[a-z0-9]\s+[a-z0-9]/gi,/\(\d\)\s*\(\d\)\s*\(\d\)/g,/\d\s*-\s*\d\s*-\s*\d/g],validateContent:function(e){for(var t=[],n=(e.toLowerCase(),0);n<this.emailPatterns.length;n++)if(this.emailPatterns[n].test(e)){t.push("email address");break}for(n=0;n<this.phonePatterns.length;n++)if(this.phonePatterns[n].test(e)){t.push("phone number");break}for(n=0;n<this.socialPatterns.length;n++)if(this.socialPatterns[n].test(e)){t.push("social media handle");break}for(n=0;n<this.thirdPartyContactPatterns.length;n++)if(this.thirdPartyContactPatterns[n].test(e)){t.push("third-party contact method");break}for(n=0;n<this.hatefulPatterns.length;n++)if(this.hatefulPatterns[n].test(e)){t.push("inappropriate language");break}for(n=0;n<this.blasphemyPatterns.length;n++)if(this.blasphemyPatterns[n].test(e)){t.push("disrespectful language");break}for(n=0;n<this.antiChristianPatterns.length;n++)if(this.antiChristianPatterns[n].test(e)){t.push("anti-Christian content");break}return{isClean:0===t.length,issues:t}},sanitize:function(e){for(var t=e,n=[].concat(this.emailPatterns,this.phonePatterns,this.socialPatterns),o=0;o<n.length;o++)t=t.replace(n[o],"[REMOVED]");return t}},UsernameValidator={premiumSingleWords:["God","Jesus","Christ","King","Queen","Pro","Admin","Mod","VIP","Elite","Legend","Master","Champion","Hero","Angel","Saint","Blessed"],premiumCost:500,bannedPatterns:[/admin/gi,/moderator/gi,/staff/gi,/official/gi,/support/gi,/helpdesk/gi,/birdturds/gi,/^dude$/gi,/^dudecom$/gi,/^dude\.com$/gi,/security/gi,/legal/gi,/billing/gi,/sales/gi,/webmaster/gi,/postmaster/gi,/hostmaster/gi,/sysadmin/gi,/root/gi,/administrator/gi,/contact/gi,/info/gi,/hello/gi,/team/gi,/service/gi,/account/gi,/accounts/gi,/noreply/gi,/no-reply/gi,/donotreply/gi,/system/gi,/bot/gi,/robot/gi,/auto/gi,/owner/gi,/founder/gi,/ceo/gi,/cto/gi,/germproof/gi,/turdcoin/gi,/trump/gi,/biden/gi,/obama/gi,/elon/gi,/musk/gi,/official/gi,/real/gi,/the_real/gi,/thereal/gi,/verified/gi,/authentic/gi],validate:function(e){var t=[],n=e.trim();if(n.length<3&&t.push("Username must be at least 3 characters"),n.length>20&&t.push("Username must be 20 characters or less"),!n.includes(" ")&&!n.includes("_")&&!n.includes("-")&&n.length>=3&&n.length<=12)return{valid:!1,requiresPremium:!0,cost:this.premiumCost};/^[A-Z][a-z]+\s+[A-Z][a-z]+$/.test(n)&&t.push("Real first and last names are not allowed. Use a username or initials (J.S.)");var o=ContentModerator.validateContent(n);o.isClean||t.push("Username contains prohibited content: "+o.issues.join(", "));for(var i=0;i<this.bannedPatterns.length;i++)if(this.bannedPatterns[i].test(n)){t.push("This username is reserved");break}return{valid:0===t.length,issues:t,requiresPremium:!1}},toLeaderboardDisplay:function(e){var t=e.trim();if(/^[A-Z]\.[A-Z]\.?$/.test(t))return t;if(t.includes("_")||t.includes("-")||!t.includes(" "))return t.substring(0,15);var n=t.split(" ");return n.length>=2?n[0].charAt(0).toUpperCase()+"."+n[n.length-1].charAt(0).toUpperCase()+".":t.substring(0,15)}};function submitBlogPost(){var e=document.getElementById("blog-title").value.trim(),t=document.getElementById("blog-category").value,n=document.getElementById("blog-author").value.trim()||"Anonymous",o=document.getElementById("blog-content").value.trim(),i=document.getElementById("blog-scripture").value.trim(),s=e+" "+n+" "+o+" "+i,a=ContentModerator.validateContent(s);if(a.isClean){var r=UsernameValidator.validate(n);if(r.valid||r.requiresPremium)if(e.length<5)alert("Please enter a title (at least 5 characters).");else if(o.length<20)alert("Please write at least 20 characters in your post.");else{var l=UsernameValidator.toLeaderboardDisplay(n),d={id:Date.now(),title:ContentModerator.sanitize(e),category:t,author:l,content:ContentModerator.sanitize(o),scripture:i||"Trust in the Lord with all your heart ‚Äî Proverbs 3:5",date:(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),likes:0,comments:0};blogPosts.unshift(d),localStorage.setItem("birdturds_blog_posts",JSON.stringify(blogPosts)),addBlogPostToDOM(d,!0),document.getElementById("blog-title").value="",document.getElementById("blog-content").value="",document.getElementById("blog-scripture").value="",document.getElementById("blog-author").value="",alert('Your post has been published! ‚úùÔ∏è\n\n"Let your light shine before others" ‚Äî Matthew 5:16')}else alert("‚ö†Ô∏è Author Name Issue:\n\n"+r.issues.join("\n")+"\n\nPlease use initials (J.S.) or a username.")}else alert("‚ö†Ô∏è Your post contains prohibited content:\n\n‚Ä¢ "+a.issues.join("\n‚Ä¢ ")+'\n\nFor safety, we do not allow:\n‚ùå Email addresses\n‚ùå Phone numbers\n‚ùå Social media handles\n‚ùå Inappropriate language\n\nPlease remove this content and try again.\n\n"Let your speech always be gracious" ‚Äî Colossians 4:6')}function addBlogPostToDOM(e,t){var n={testimony:{bg:"#22c55e",border:"#22c55e"},devotional:{bg:"#3b82f6",border:"#3b82f6"},prayer:{bg:"#ffd700",border:"#ffd700",textColor:"#000"},discussion:{bg:"#a855f7",border:"#a855f7"}},o=n[e.category]||n.discussion,i=document.createElement("div");i.className="blog-post",i.setAttribute("data-category",e.category),i.style.cssText="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid "+o.border+";animation:fadeIn 0.5s;",i.innerHTML='<div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;flex-wrap:wrap;gap:8px;"><div><span style="background:'+o.bg+";color:"+(o.textColor||"#fff")+';padding:3px 8px;border-radius:10px;font-size:9px;margin-right:8px;">'+e.category.toUpperCase()+'</span><h3 style="color:#fff;font-size:16px;margin:8px 0 4px 0;">'+e.title+'</h3></div><span style="color:#9ca3af;font-size:10px;">'+e.date+'</span></div><p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">'+e.content+'</p><div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;"><p style="color:#fcd34d;font-size:11px;font-style:italic;margin:0;">"'+e.scripture+'"</p><div style="display:flex;align-items:center;gap:10px;"><span style="color:#9ca3af;font-size:11px;">By <strong style="color:'+o.border+';">'+e.author+'</strong></span><button onclick="likeBlogPost(this)" style="background:none;border:none;color:#ef4444;cursor:pointer;font-size:14px;">‚ù§Ô∏è <span>'+e.likes+'</span></button><button onclick="toggleComments(this)" style="background:none;border:none;color:#3b82f6;cursor:pointer;font-size:14px;">üí¨ <span>'+e.comments+"</span></button></div></div>";var s=document.getElementById("blog-posts-list");t?s.insertBefore(i,s.firstChild):s.appendChild(i)}function filterBlogPosts(e){var t=document.querySelectorAll(".blog-post");document.querySelectorAll(".blog-filter-btn").forEach(function(e){e.style.background="#374151"}),event.target.style.background="#a855f7",t.forEach(function(t){"all"===e||t.getAttribute("data-category")===e?t.style.display="block":t.style.display="none"})}function likeBlogPost(e){var t=e.querySelector("span"),n=parseInt(t.textContent)+1;t.textContent=n,e.style.transform="scale(1.2)",setTimeout(function(){e.style.transform="scale(1)"},200)}function toggleComments(e){alert('üí¨ Comments feature coming soon!\n\n"Encourage one another daily" ‚Äî Hebrews 3:13')}function loadMorePosts(){alert("üìú More posts loading...\n\nCheck back soon for more community content!")}function initYouthFeatures(){var e=parseInt(localStorage.getItem("birdturds_streak")||"0"),t=document.getElementById("streak-display");t&&(t.innerHTML='<span style="color:#fcd34d;font-size:18px;font-weight:bold;">üî• '+e+" Days</span>");var n=localStorage.getItem("birdturds_userId");n||(n=Math.random().toString(36).substr(2,8).toUpperCase(),localStorage.setItem("birdturds_userId",n));var o=document.getElementById("referral-code");o&&(o.textContent="BT-"+n),loadBadgesDisplay();var i=[{text:"üéÆ Share this game with friends and earn FREE COINS!",scripture:"Go and make disciples ‚Äî Matthew 28:19"},{text:"üì¢ Tell your youth group about BirdTurds!",scripture:"Let no one despise your youth ‚Äî 1 Timothy 4:12"},{text:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Play with your family and earn bonus points!",scripture:"Train up a child in the way he should go ‚Äî Proverbs 22:6"},{text:"üèÜ Compete with friends for the top spot!",scripture:"Run to win the prize ‚Äî 1 Corinthians 9:24"},{text:"‚úùÔ∏è Every zombie you wake is a soul being reached!",scripture:"He who wins souls is wise ‚Äî Proverbs 11:30"},{text:"üî• Login daily to build your streak!",scripture:"Be faithful in small things ‚Äî Luke 16:10"}],s=i[Math.floor(Math.random()*i.length)],a=document.getElementById("youth-encouragement");a&&(a.innerHTML='<p style="color:#e5e7eb;font-size:13px;margin:0 0 5px 0;">'+s.text+'</p><p style="color:#fcd34d;font-size:11px;margin:0;font-style:italic;">"'+s.scripture+'"</p>')}function loadBadgesDisplay(){var e=JSON.parse(localStorage.getItem("birdturds_badges")||"[]"),t=document.getElementById("badges-display");if(t){var n={first_kill:"üéØ",bird_slayer:"ü¶Ö",bird_master:"üëë",sharpshooter:"üéØ",score_1k:"‚≠ê",score_10k:"üåü",score_50k:"üèÜ",score_100k:"üëë",awakener_10:"üå±",awakener_50:"‚úùÔ∏è",awakener_100:"üëº",level_4:"üó∫Ô∏è",level_8:"üèõÔ∏è",first_share:"üì¢",super_sharer:"üåç",daily_3:"üìÖ",daily_7:"üî•",daily_30:"üíé"};0===e.length?t.innerHTML='<span style="color:#6b7280;font-size:11px;">No badges yet - start playing!</span>':t.innerHTML=e.map(function(e){return'<span title="'+e+'" style="font-size:20px;">'+(n[e]||"üèÖ")+"</span>"}).join("")}}function shareForCoins(){var e=parseInt(localStorage.getItem("birdturds_shares")||"0")+1;localStorage.setItem("birdturds_shares",e.toString());var t=parseInt(localStorage.getItem("birdturds_coins")||"0")+10;localStorage.setItem("birdturds_coins",t.toString());var n="https://birdturds.com",o="Check out BirdTurds - A game with PURPOSE! Wake phone zombies, learn scripture, and have fun! üéÆ‚úùÔ∏è";navigator.share?navigator.share({title:"BirdTurds - Entertainment with Purpose!",text:o,url:n}).then(function(){alert('Thanks for sharing! +10 ü™ô coins added!\n\n"He who wins souls is wise" ‚Äî Proverbs 11:30')}).catch(function(){}):(window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(o)+"&url="+encodeURIComponent(n),"_blank"),alert('Thanks for sharing! +10 ü™ô coins added!\n\n"He who wins souls is wise" ‚Äî Proverbs 11:30'))}function copyReferralCode(){var e=document.getElementById("referral-code").textContent;navigator.clipboard.writeText(e).then(function(){alert("Referral code copied: "+e+"\n\nShare with friends - you both get 25 coins when they sign up!")})}function showAllBadges(){var e={Gameplay:[{id:"first_kill",name:"First Blood",icon:"üéØ",desc:"Get your first kill",coins:10},{id:"bird_slayer",name:"Bird Slayer",icon:"ü¶Ö",desc:"Kill 100 birds",coins:50},{id:"bird_master",name:"Bird Master",icon:"üëë",desc:"Kill 500 birds",coins:200},{id:"sharpshooter",name:"Sharpshooter",icon:"üéØ",desc:"90% accuracy",coins:100}],Score:[{id:"score_1k",name:"Getting Started",icon:"‚≠ê",desc:"Score 1,000 pts",coins:20},{id:"score_10k",name:"Rising Star",icon:"üåü",desc:"Score 10,000 pts",coins:75},{id:"score_50k",name:"Champion",icon:"üèÜ",desc:"Score 50,000 pts",coins:250},{id:"score_100k",name:"Legend",icon:"üëë",desc:"Score 100,000 pts",coins:500}],Spiritual:[{id:"awakener_10",name:"Soul Sower",icon:"üå±",desc:"Wake 10 zombies",coins:30},{id:"awakener_50",name:"Soul Winner",icon:"‚úùÔ∏è",desc:"Wake 50 zombies",coins:100},{id:"awakener_100",name:"Soul Awakener",icon:"üëº",desc:"Wake 100 zombies",coins:300}],Daily:[{id:"daily_3",name:"Faithful",icon:"üìÖ",desc:"3 day streak",coins:30},{id:"daily_7",name:"Dedicated",icon:"üî•",desc:"7 day streak",coins:100},{id:"daily_30",name:"Devoted",icon:"üíé",desc:"30 day streak",coins:500}]},t=JSON.parse(localStorage.getItem("birdturds_badges")||"[]"),n='<div style="max-height:400px;overflow-y:auto;">';for(var o in e)n+='<h4 style="color:#ffd700;margin:10px 0 5px;">'+o+"</h4>",e[o].forEach(function(e){var o=t.includes(e.id);n+='<div style="display:flex;align-items:center;gap:10px;padding:8px;background:'+(o?"rgba(34,197,94,0.2)":"rgba(0,0,0,0.2)")+';border-radius:6px;margin:4px 0;">',n+='<span style="font-size:24px;'+(o?"":"filter:grayscale(100%);opacity:0.5;")+'">'+e.icon+"</span>",n+='<div style="flex:1;"><strong style="color:'+(o?"#22c55e":"#6b7280")+';">'+e.name+'</strong><br/><span style="color:#9ca3af;font-size:11px;">'+e.desc+"</span></div>",n+='<span style="color:#ffd700;font-size:12px;">+'+e.coins+"ü™ô</span>",n+="</div>"});n+="</div>";var i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:99999;",i.innerHTML='<div style="background:#1e293b;padding:20px;border-radius:16px;max-width:400px;width:90%;border:2px solid #ffd700;"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;"><h3 style="color:#ffd700;margin:0;">üèÖ ALL BADGES</h3><button onclick="this.parentElement.parentElement.parentElement.remove()" style="background:#374151;color:#fff;border:none;width:30px;height:30px;border-radius:50%;cursor:pointer;">‚úï</button></div>'+n+"</div>",document.body.appendChild(i)}function downloadApp(e){var t={windows:{title:"üñ•Ô∏è WINDOWS DOWNLOAD",message:'The Windows desktop app is coming soon!\n\nFeatures:\n‚Ä¢ Full offline play\n‚Ä¢ Better performance\n‚Ä¢ System tray support\n‚Ä¢ Auto-updates\n\nFor now, you can:\n1. Open Chrome\n2. Click menu (‚ãÆ) ‚Üí "Install BirdTurds"\n3. Play from your desktop!\n\nWant to be notified when the app launches?',action:"pwa"},mac:{title:"üçé MAC DOWNLOAD",message:"The Mac desktop app is coming soon!\n\nFeatures:\n‚Ä¢ Native macOS experience\n‚Ä¢ Offline play\n‚Ä¢ Retina display support\n\nFor now, you can:\n1. Open Safari or Chrome\n2. Add to Dock from Share menu\n3. Play anytime!\n\nWant to be notified when the app launches?",action:"pwa"},android:{title:"ü§ñ ANDROID DOWNLOAD",message:'Install BirdTurds on your Android device!\n\nüì≤ INSTALL NOW:\n1. Tap the browser menu (‚ãÆ)\n2. Select "Add to Home Screen"\n3. Tap "Install"\n4. Done! Play offline anytime!\n\nüéÆ The app will work just like a native app with:\n‚Ä¢ Fullscreen mode\n‚Ä¢ Offline play\n‚Ä¢ Push notifications\n\n"Go and make disciples" ‚Äî Matthew 28:19',action:"pwa"},ios:{title:"üì± iOS DOWNLOAD",message:'Install BirdTurds on your iPhone/iPad!\n\nüì≤ INSTALL NOW:\n1. Tap Share button (‚ñ°‚Üë)\n2. Scroll down, tap "Add to Home Screen"\n3. Tap "Add"\n4. Done! Play offline anytime!\n\nüéÆ The app will work with:\n‚Ä¢ Fullscreen mode\n‚Ä¢ Offline play\n‚Ä¢ No App Store needed!\n\n"Train up a child in the way he should go" ‚Äî Proverbs 22:6',action:"pwa"}}[e];alert(t.title+"\n\n"+t.message),!window.deferredPrompt||"android"!==e&&"windows"!==e||window.deferredPrompt.prompt()}function scrollToHowToPlay(){var e=document.getElementById("game-details");if(e)e.scrollIntoView({behavior:"smooth",block:"start"});else{var t=document.getElementById("controls-toggle");t&&t.click()}}function toggleQuickHelp(){var e=document.getElementById("quick-help-popup");e&&(e.style.display="none"===e.style.display?"block":"none")}function enterCompetition(e){var t=parseInt(localStorage.getItem("birdturds_coins")||"0"),n="bible"===e?500:1e3,o="bible"===e?"Bible Competition":"GermProof Competition",i="birdturds_entry_"+e+"_"+getCurrentPeriod(e);if(localStorage.getItem(i))alert("‚úÖ You are already entered in this "+o+'!\n\nPlay your best game to win!\n\n"Whatever you do, work at it with all your heart" ‚Äî Colossians 3:23');else if(t<n)alert("üí∞ Not enough coins!\n\nYou need "+n+" coins to enter.\nYou have: "+t+' coins\n\nEarn coins by:\n‚Ä¢ Playing the game (+10 per kill)\n‚Ä¢ Daily login streak\n‚Ä¢ Sharing the game\n‚Ä¢ Earning badges\n‚Ä¢ Buying coin packs\n\n"The plans of the diligent lead to profit" ‚Äî Proverbs 21:5');else if(confirm("üéüÔ∏è ENTER "+o.toUpperCase()+"?\n\nEntry Fee: "+n+" coins\nYour Balance: "+t+" coins\nRemaining: "+(t-n)+" coins\n\nClick OK to enter!")){t-=n,localStorage.setItem("birdturds_coins",t.toString()),localStorage.setItem(i,Date.now().toString());var s=JSON.parse(localStorage.getItem("birdturds_competition_entries")||"[]");s.push({type:e,timestamp:Date.now(),period:getCurrentPeriod(e)}),localStorage.setItem("birdturds_competition_entries",JSON.stringify(s)),alert("üéâ ENTRY CONFIRMED!\n\nYou are now entered in the "+o+"!\n\nNew Balance: "+t+' coins\n\nüìã Next Steps:\n1. Play your best game\n2. Hit the qualifying score\n3. Check back for results!\n\n"Fight the good fight" ‚Äî 1 Timothy 6:12'),updateCoinDisplay()}}function getCurrentPeriod(e){var t=new Date;if("bible"===e)return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0");var n=new Date(t.getFullYear(),0,1),o=Math.ceil(((t-n)/864e5+n.getDay()+1)/7);return t.getFullYear()+"-W"+String(o).padStart(2,"0")}function updateCoinDisplay(){var e=localStorage.getItem("birdturds_coins")||"0";document.querySelectorAll(".coin-balance").forEach(function(t){t.textContent=e+" coins"})}function setMusicChoice(e){localStorage.setItem("birdturds_musicChoice",e),console.log("Music set to:",e)}function setMusicSequence(e){localStorage.setItem("birdturds_musicSequence",e.toString())}function setNoCommentary(e){localStorage.setItem("birdturds_noCommentary",e.toString()),e&&alert('üéØ PRO MODE ENABLED!\n\nYou will earn 1.5x BONUS POINTS!\n\nNo hints, tips, or gameplay commentary will be shown.\n\n"I can do all things through Christ who strengthens me" ‚Äî Philippians 4:13')}function setSoundEffects(e){localStorage.setItem("birdturds_sound",e.toString())}function setMusicVolume(e){localStorage.setItem("birdturds_musicVolume",(e/100).toString()),document.getElementById("music-vol-label").textContent=e+"%","undefined"!=typeof gameInstance&&gameInstance&&gameInstance.scene.scenes[0]&&(gameInstance.scene.scenes[0].musicVolume=e/100,gameInstance.scene.scenes[0].currentMusic&&(gameInstance.scene.scenes[0].currentMusic.volume=e/100))}function setSFXVolume(e){localStorage.setItem("birdturds_sfxVolume",(e/100).toString()),document.getElementById("sfx-vol-label").textContent=e+"%","undefined"!=typeof gameInstance&&gameInstance&&gameInstance.scene.scenes[0]&&(gameInstance.scene.scenes[0].sfxVolume=e/100)}function setMasterVolume(e){localStorage.setItem("birdturds_masterVolume",(e/100).toString()),document.getElementById("master-vol-label").textContent=e+"%","undefined"!=typeof gameInstance&&gameInstance&&gameInstance.scene.scenes[0]&&gameInstance.scene.scenes[0].masterVolume&&(gameInstance.scene.scenes[0].masterVolume.gain.value=e/100)}function setVoiceVolume(e){localStorage.setItem("birdturds_voiceVolume",(e/100).toString()),document.getElementById("voice-vol-label").textContent=e+"%","undefined"!=typeof gameInstance&&gameInstance&&gameInstance.scene.scenes[0]&&(gameInstance.scene.scenes[0].voiceVolume=e/100)}function toggleScriptureVoice(e){localStorage.setItem("birdturds_muteScriptures",(!e).toString())}function toggleJokeVoice(e){localStorage.setItem("birdturds_muteJokes",(!e).toString())}function loadGameSettings(){var e=localStorage.getItem("birdturds_musicChoice")||"adventure",t="false"!==localStorage.getItem("birdturds_musicSequence"),n="true"===localStorage.getItem("birdturds_noCommentary"),o="false"!==localStorage.getItem("birdturds_sound"),i=Math.round(100*parseFloat(localStorage.getItem("birdturds_musicVolume")||"0.5")),s=Math.round(100*parseFloat(localStorage.getItem("birdturds_sfxVolume")||"0.6")),a=Math.round(100*parseFloat(localStorage.getItem("birdturds_masterVolume")||"0.7")),r=document.getElementById("music-select"),l=document.getElementById("music-sequence"),d=document.getElementById("no-commentary"),c=document.getElementById("sfx-toggle"),g=document.getElementById("music-volume"),u=document.getElementById("sfx-volume"),m=document.getElementById("master-volume");r&&(r.value=e),l&&(l.checked=t),d&&(d.checked=n),c&&(c.checked=o),g&&(g.value=i,document.getElementById("music-vol-label").textContent=i+"%"),u&&(u.value=s,document.getElementById("sfx-vol-label").textContent=s+"%"),m&&(m.value=a,document.getElementById("master-vol-label").textContent=a+"%")}function filterEvents(e){var t=document.querySelectorAll(".event-card");document.querySelectorAll(".event-filter-btn").forEach(function(e){e.style.background="#374151",e.style.color="#fff"}),event.target.style.background="#f59e0b",event.target.style.color="#000",t.forEach(function(t){"all"===e||t.getAttribute("data-category")===e?t.style.display="block":t.style.display="none"})}function refreshLocation(){var e=document.getElementById("user-location");navigator.geolocation?(e.textContent="Detecting...",navigator.geolocation.getCurrentPosition(function(t){e.textContent="Your Area (GPS enabled)"},function(t){e.textContent="Global Events (location unavailable)"})):e.textContent="Global Events"}function searchChurches(){var e=document.getElementById("church-search").value.trim();e?alert("üîç Searching for spirit-filled churches near: "+e+"\n\nIn the full version, this will show:\n‚Ä¢ Bible-believing churches\n‚Ä¢ Ratings and reviews\n‚Ä¢ Service times\n‚Ä¢ Youth group availability\n\nFor now, check out our featured churches above or visit:\n‚Ä¢ reallife.org (Calvary Chapel Chino Hills)\n‚Ä¢ 9marks.org/church-search\n‚Ä¢ Acts29.com/find-churches"):alert("Please enter a city, state, or zip code to search for churches.")}function toggleControls(){var e=document.getElementById("instructions");e&&(e.style.display="none"===e.style.display?"block":"none",console.log("Controls toggled:",e.style.display))}document.addEventListener("DOMContentLoaded",function(){blogPosts.forEach(function(e){addBlogPostToDOM(e,!1)}),initYouthFeatures()}),window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),window.deferredPrompt=e}),document.addEventListener("DOMContentLoaded",function(){loadGameSettings(),refreshLocation()}),window.addEventListener("beforeunload",function(e){if(gameStarted)return e.preventDefault(),e.returnValue="You have a game in progress. Are you sure you want to leave?",e.returnValue}),document.addEventListener("visibilitychange",function(){console.log("Visibility changed:",document.visibilityState)}),document.addEventListener("DOMContentLoaded",function(){if(console.log("DOM loaded - mobile device:",isMobileDevice),isMobileDevice){var e=document.getElementById("mobile-start-hint");e&&(e.style.display="block")}function t(e,t){e&&(e.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),t()},{passive:!1}),e.addEventListener("click",function(e){e.preventDefault(),t()}))}t(document.getElementById("play-now-btn"),hideStartScreen),t(document.getElementById("controls-toggle"),toggleControls),t(document.getElementById("close-controls-btn"),toggleControls)}),document.addEventListener("touchend",function(e){var t=e.target,n=t.id||"",o=t.parentElement?t.parentElement.id:"";"play-now-btn"!==n||(e.preventDefault(),hideStartScreen()),"controls-toggle"!==n&&"controls-toggle"!==o||(e.preventDefault(),toggleControls()),"close-controls-btn"!==n&&"close-controls-btn"!==o||(e.preventDefault(),toggleControls())},{passive:!1});</script>
  </section>
  </div><!-- Close ad-container -->

<!-- SHOP MODAL (TurdCoins) -->
<div id="shop-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üí∞ Buy TurdCoins</h2>
      <button class="modal-close" onclick="closeShop()">√ó</button>
    </div>
    <p style="color:#94a3b8;font-size:12px;margin:0 0 15px 0;text-align:center;">üéÆ TurdCoins = Same currency you earn in-game! Use for store items.</p>
    <div class="coins-display">
      <div>Your Balance: <span class="amount" id="modal-coins">0</span> TurdCoins</div>
    </div>
    <div id="shop-packs" class="store-grid"></div>
    <div id="stripe-checkout-container" style="display:none;margin-top:20px;padding:20px;background:rgba(0,0,0,0.3);border-radius:12px;border:2px solid #facc15;">
      <div id="checkout"></div>
      <button onclick="cancelCheckout()" style="margin-top:15px;padding:10px 20px;background:#374151;color:#fff;border:none;border-radius:999px;cursor:pointer;">‚Üê Back</button>
    </div>
    <div style="margin-top:20px;padding:12px;background:rgba(59,130,246,0.1);border:1px solid #3b82f6;border-radius:8px;text-align:center;">
      <p style="color:#93c5fd;font-size:12px;margin:0;">üí≥ All charges will appear on your statement as <strong style="color:#fff;">BirdTurds.com / GermProof Inc</strong></p>
    </div>
  </div>
</div>

<!-- STORE MODAL (Upgrades) -->
<div id="store-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üõí Game Store</h2>
      <button class="modal-close" onclick="closeStore()">√ó</button>
    </div>
    <div class="coins-display">
      <div>Your TurdCoins: <span class="amount" id="store-coins">0</span></div>
    </div>
    <div class="store-tabs">
      <button class="store-tab" onclick="showStoreTab('coins')">üí∞ Buy Coins</button>
      <button class="store-tab active" onclick="showStoreTab('upgrades')">‚ö° Upgrades</button>
      <button class="store-tab" onclick="showStoreTab('weapons')">üî´ Weapons</button>
      <button class="store-tab" onclick="showStoreTab('skins')">üë§ Skins</button>
      <button class="store-tab" onclick="showStoreTab('vehicles')">üèçÔ∏è Vehicles</button>
      <button class="store-tab" onclick="showStoreTab('birds')">ü¶Ö Boss Birds</button>
      <button class="store-tab" onclick="showStoreTab('consumables')">üéÅ Items</button>
    </div>
    <div id="store-content"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/phaser@3.80.0/dist/phaser.min.js"></script>
<script>const STRIPE_KEY="pk_live_51SKC6AFDHekJoy7rJ3aQVCt1IeZUQdRABRYBM9bhF5xDEgKPVJg9BZfPnNuTYqzs7Wir0yjP1O0wqnbh1KLK6HxC00uIjjDmrB";let stripe=null,currentCoins=parseInt(localStorage.getItem("birdturds_coins")||"0"),ownedItems=JSON.parse(localStorage.getItem("birdturds_owned")||"[]");const packs=[{key:"starter",name:"üå± Starter Pack",coins:1e3,price:"$0.99",bonus:""},{key:"bucket",name:"ü™£ Bucket",coins:5500,price:"$4.99",bonus:"+10% bonus!"},{key:"mega",name:"üí™ Mega Load",coins:13e3,price:"$9.99",bonus:"+8% bonus!"},{key:"monster",name:"üëπ Monster Load",coins:28e3,price:"$19.99",bonus:"+12% bonus!"},{key:"whale",name:"üêã Whale Dump",coins:7e4,price:"$49.99",bonus:"+17% bonus!"},{key:"king",name:"üëë King Turd Ultra",coins:175e3,price:"$99.99",bonus:"+17% bonus!"},{key:"ultimate",name:"üèÜ ULTIMATE TURD",coins:4e5,price:"$199.99",bonus:"+33% bonus! BEST VALUE!"},{key:"removeads",name:"üö´ Remove Ads Forever",coins:0,price:"$2.99",special:"Removes GermProof banner permanently!"}],storeItems={upgrades:[{id:"fire_rate_2",name:"üî• Rapid Fire I",desc:"+25% fire rate",cost:500},{id:"fire_rate_3",name:"üî•üî• Rapid Fire II",desc:"+50% fire rate",cost:1500},{id:"fire_rate_4",name:"üî•üî•üî• Rapid Fire III",desc:"+100% fire rate",cost:4e3},{id:"damage_2",name:"üí• Power Shot I",desc:"+25% damage",cost:800},{id:"damage_3",name:"üí•üí• Power Shot II",desc:"+50% damage",cost:2e3},{id:"damage_4",name:"üí•üí•üí• Power Shot III",desc:"+100% damage",cost:5e3},{id:"armor_1",name:"üõ°Ô∏è Turd Shield I",desc:"-15% turd damage",cost:600},{id:"armor_2",name:"üõ°Ô∏èüõ°Ô∏è Turd Shield II",desc:"-30% turd damage",cost:1800},{id:"armor_3",name:"üõ°Ô∏èüõ°Ô∏èüõ°Ô∏è Turd Shield III",desc:"-50% turd damage",cost:4500},{id:"ammo_1",name:"üì¶ Ammo Pack I",desc:"+30 max ammo",cost:400},{id:"ammo_2",name:"üì¶üì¶ Ammo Pack II",desc:"+60 max ammo",cost:1200},{id:"ammo_3",name:"üì¶üì¶üì¶ Ammo Pack III",desc:"+120 max ammo",cost:3e3},{id:"coin_2x",name:"üí∞ Coin Boost",desc:"2x coin drops",cost:3e3},{id:"coin_3x",name:"üí∞üí∞ Mega Coin Boost",desc:"3x coin drops",cost:8e3},{id:"magnet",name:"üß≤ Coin Magnet",desc:"Auto-collect coins within 200px",cost:5e3},{id:"lucky",name:"üçÄ Lucky Charm",desc:"+20% rare & valuable bird spawns",cost:6e3},{id:"speed_1",name:"üëü Swift Boots I",desc:"+15% movement speed",cost:1e3},{id:"speed_2",name:"üëüüëü Swift Boots II",desc:"+30% movement speed",cost:3e3},{id:"jump_1",name:"ü¶ò Spring Jump I",desc:"+25% jump height",cost:1200},{id:"jump_2",name:"ü¶òü¶ò Spring Jump II",desc:"+50% jump height (almost fly!)",cost:3500},{id:"reload_1",name:"‚ö° Quick Reload I",desc:"-20% reload time",cost:800},{id:"reload_2",name:"‚ö°‚ö° Quick Reload II",desc:"-40% reload time",cost:2500},{id:"xp_boost",name:"üìà XP Boost",desc:"+25% score from all kills",cost:4e3},{id:"second_wind",name:"üí® Second Wind",desc:"Auto-revive once per game at 50% HP",cost:7500},{id:"eagle_eye",name:"ü¶Ö Eagle Eye",desc:"See birds from further away",cost:2e3},{id:"steady_aim",name:"üéØ Steady Aim",desc:"+30% accuracy, less bullet spread",cost:3e3},{id:"thick_skin",name:"ü¶è Thick Skin",desc:"Immune to toxic turd effects",cost:5e3},{id:"bible_power",name:"üìñ Bible Power",desc:"Bible weapon deals 2x damage",cost:1e4},{id:"peace_quiet",name:"üîá Peace & Quiet",desc:"Disable jokes & scriptures (toggle on/off). Does NOT affect game sounds!",cost:1e3,toggleable:!0}],weapons:[{id:"handgun",name:"üî´ 9mm Handgun",desc:"Fast reload sidearm, 15 shots",cost:1e3},{id:"revolver",name:"üî´ .44 Magnum",desc:"Powerful 6-shooter, 2x damage",cost:2500},{id:"deagle",name:"üî´ Desert Eagle",desc:"Hand cannon, 2.5x damage",cost:4e3},{id:"shotgun_410",name:"üí• .410 Shotgun",desc:"3-pellet spread, youth-sized",cost:3500},{id:"shotgun_20",name:"üí• 20 Gauge Shotgun",desc:"5-pellet spread, balanced",cost:5e3},{id:"shotgun_12",name:"üí• 12 Gauge Shotgun",desc:"8-pellet spread, devastating",cost:8e3},{id:"pump_action",name:"üí• Pump-Action 12ga",desc:"Powerful, slow reload",cost:1e4},{id:"auto_shotgun",name:"üí• Auto Shotgun",desc:"Semi-auto 12 gauge beast",cost:18e3},{id:"machinegun",name:"‚ö° M249 SAW",desc:"Full auto, 200 rounds belt-fed",cost:15e3},{id:"minigun",name:"‚ö° Minigun",desc:"6-barrel madness, 1000 rounds",cost:35e3},{id:"sniper",name:"üéØ .308 Sniper",desc:"3x damage, 10x scope",cost:12e3},{id:"barrett",name:"üéØ Barrett .50 Cal",desc:"5x damage, anti-material, BEST vs bosses!",cost:3e4},{id:"bazooka",name:"üöÄ Bazooka",desc:"Massive AOE damage, 3x vs bosses! 5 rockets",cost:4e4},{id:"grenade_pack",name:"üí£ Grenade Pack (10)",desc:"Throwable explosives, big AOE",cost:3e3,consumable:!0},{id:"grenade",name:"üí£ Frag Grenade",desc:"Explosive, 5 per purchase",cost:2e3,consumable:!0},{id:"molotov",name:"üî• Molotov Cocktail",desc:"Fire area, 3 per purchase",cost:1500,consumable:!0},{id:"flashbang",name:"üí• Flashbang",desc:"Stuns all birds 5 sec",cost:1e3,consumable:!0},{id:"rocketlauncher",name:"üöÄ RPG-7",desc:"Explosive rocket, AOE damage",cost:25e3},{id:"minigun_mounted",name:"‚ö° Vehicle Minigun",desc:"Mount on vehicles, unlimited",cost:5e4}],vehicles:[{id:"dirtbike",name:"üèçÔ∏è Dirt Bike",desc:"Fast, agile, shoot while riding!",cost:8e3},{id:"atv",name:"üèçÔ∏è ATV Quad",desc:"Off-road beast, stable aim",cost:12e3},{id:"truck",name:"üõª Hunting Truck",desc:"Armor plating, gun mount ready",cost:25e3},{id:"jeep",name:"üöô Military Jeep",desc:"Fast, armored, mounted .50 cal",cost:4e4},{id:"tank",name:"üî∞ Mini Tank",desc:"Heavy armor, explosive cannon",cost:75e3},{id:"helicopter",name:"üöÅ Attack Heli",desc:"Fly above turds, rockets!",cost:15e4}],birds:[{id:"boss_summon_free",name:"ü¶ñ FREE Boss Summon",desc:"Summon 1 random boss bird (FREE once!)",cost:0,consumable:!0,oneTime:!0},{id:"boss_pterodactyl",name:"ü¶ñ Summon Pterodactyl",desc:"100 pts + 25 coins when killed!",cost:500,consumable:!0},{id:"boss_phoenix",name:"üî• Summon Phoenix",desc:"150 pts + 50 coins when killed!",cost:1e3,consumable:!0},{id:"boss_thunderbird",name:"‚ö° Summon Thunderbird",desc:"300 pts + 75 coins when killed!",cost:2e3,consumable:!0},{id:"boss_dragon",name:"üêâ Summon Dragon",desc:"500 pts + 100 coins when killed!",cost:5e3,consumable:!0},{id:"extra_eagle",name:"ü¶Ö Extra Bald Eagle",desc:"+1 helper eagle spawns",cost:1e4},{id:"golden_eagle",name:"ü¶Ö Golden Eagle Pack",desc:"+2 golden eagle helpers",cost:18e3},{id:"falcon",name:"ü¶Ö Peregrine Falcon",desc:"Fastest helper, hunts quickly",cost:25e3},{id:"owl_helper",name:"ü¶â Night Owl Helper",desc:"Helper active in night scenes",cost:15e3}],skins:[{id:"skin_default",name:"üë§ Default Hunter",desc:"Classic hunting outfit - matches your character!",cost:0,equipped:!0},{id:"skin_camo",name:"üå≤ Camo Hunter",desc:"Forest camouflage - harder for birds to spot!",cost:2e3,effect:"camo"},{id:"skin_winter",name:"‚ùÑÔ∏è Winter Hunter",desc:"Snow camo - +10% damage in snow levels",cost:3500,effect:"winter"},{id:"skin_desert",name:"üèúÔ∏è Desert Ranger",desc:"Desert camo - faster in desert levels",cost:3500,effect:"desert"},{id:"skin_tactical",name:"üéñÔ∏è Tactical Operator",desc:"Black ops suit - +15% fire rate",cost:8e3,effect:"tactical"},{id:"skin_armor_light",name:"üõ°Ô∏è Light Armor",desc:"Kevlar vest - 15% less damage from all sources",cost:12e3,effect:"armor_light"},{id:"skin_armor_heavy",name:"üõ°Ô∏èüõ°Ô∏è Heavy Armor",desc:"Full body armor - 30% less damage, slightly slower",cost:25e3,effect:"armor_heavy"},{id:"skin_hazmat",name:"‚ò¢Ô∏è Hazmat Suit",desc:"Immune to toxic turds, +50% volcano survival",cost:15e3,effect:"hazmat"},{id:"skin_gold",name:"üëë Golden Hunter",desc:"Bling bling! +25% coin drops",cost:5e4,effect:"gold"},{id:"skin_legendary",name:"üî• Legendary Hunter",desc:"All bonuses! +10% damage, armor, speed, coins",cost:1e5,effect:"legendary"},{id:"skin_cowboy_m",name:"ü§† Classic Cowboy (M)",desc:"Authentic western wear for the fellas",cost:3e3,effect:"cowboy",gender:"male"},{id:"skin_sheriff_m",name:"‚≠ê Sheriff Badge (M)",desc:"Tin star and leather duster",cost:5e3,effect:"sheriff",gender:"male"},{id:"skin_rambo_m",name:"üí™ Muscle Tank (M)",desc:"Sleeveless and dangerous",cost:4e3,effect:"rambo",gender:"male"},{id:"skin_hunting_vest_m",name:"üéØ Pro Hunter Vest (M)",desc:"Extra pockets for ammo",cost:3500,effect:"hunting",gender:"male"},{id:"skin_cowgirl_f",name:"ü§† Country Cowgirl (F)",desc:"Stylish western wear for the ladies",cost:3e3,effect:"cowgirl",gender:"female"},{id:"skin_sheriff_f",name:"‚≠ê Deputy Star (F)",desc:"Badge and fitted duster",cost:5e3,effect:"sheriff",gender:"female"},{id:"skin_athletic_f",name:"üí™ Athletic Wear (F)",desc:"Flexible and fast",cost:4e3,effect:"athletic",gender:"female"},{id:"skin_hunting_vest_f",name:"üéØ Pro Hunter Vest (F)",desc:"Form-fitted with extra pockets",cost:3500,effect:"hunting",gender:"female"},{id:"skin_christmas",name:"üéÖ Santa Hunter",desc:"Ho ho ho! Festive red and white",cost:5e3,effect:"christmas"},{id:"skin_patriot",name:"üá∫üá∏ American Patriot",desc:"Red, white and blue! +5% all stats on July 4th",cost:7500,effect:"patriot"}],consumables:[{id:"sturdy_hat",name:"üé© Sturdy Wide Hat",desc:"Blocks turds for 45 seconds! Heavy duty protection",cost:800,consumable:!0},{id:"sturdy_hat_xl",name:"üé©üé© ULTRA Wide Hat",desc:"Blocks turds for 90 seconds! Maximum coverage",cost:1500,consumable:!0},{id:"ammo_refill",name:"üîÑ Ammo Refill",desc:"Instantly refill all ammo",cost:100,consumable:!0},{id:"health_pack",name:"‚ù§Ô∏è Health Pack",desc:"+50 health points",cost:200,consumable:!0},{id:"full_heal",name:"‚ù§Ô∏è‚ù§Ô∏è Full Heal",desc:"Restore to 100% health",cost:500,consumable:!0},{id:"shield_temp",name:"üåü Invincibility",desc:"10 seconds immunity",cost:500,consumable:!0},{id:"shield_long",name:"üåüüåü Extended Shield",desc:"30 seconds immunity",cost:1200,consumable:!0},{id:"double_points",name:"‚≠ê Double Points",desc:"30 seconds 2x score",cost:300,consumable:!0},{id:"triple_points",name:"‚≠ê‚≠ê Triple Points",desc:"30 seconds 3x score",cost:800,consumable:!0},{id:"slow_motion",name:"‚è±Ô∏è Slow-Mo",desc:"15 seconds slow birds",cost:400,consumable:!0},{id:"freeze",name:"‚ùÑÔ∏è Time Freeze",desc:"Freeze all birds 10 sec",cost:600,consumable:!0},{id:"airstrike",name:"‚úàÔ∏è Airstrike",desc:"Bombs all birds on screen",cost:2e3,consumable:!0},{id:"nuke",name:"‚ò¢Ô∏è Tactical Nuke",desc:"Clears entire screen!",cost:5e3,consumable:!0},{id:"jetpack",name:"üöÄ ROCKET JETPACK",desc:"FLY for 30 seconds! Full 360¬∞ movement + shoot while flying! Flames included!",cost:5e3,consumable:!0},{id:"jetpack_xl",name:"üöÄüöÄ MEGA JETPACK",desc:"FLY for 60 seconds! Extended fuel tank for maximum air time!",cost:8e3,consumable:!0}]};function createSnowfall(){if(typeof isChristmasSeason!=='function'||!isChristmasSeason())return;const e=document.createElement("div");e.id="snow-container",e.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;overflow:hidden;",document.body.appendChild(e);const t=document.createElement("style");if(t.textContent=`\n    @keyframes snowfall {\n      0% { transform: translateY(0) rotate(0deg); opacity: 1; }\n      100% { transform: translateY(${window.innerHeight+50}px) rotate(360deg); opacity: 0.3; }\n    }\n  `,document.head.appendChild(t),setInterval(function(){const t=document.createElement("div"),s=8*Math.random()+4,o=Math.random()*window.innerWidth,n=3*Math.random()+4;Math.random(),t.innerHTML='<img src="/sprites/snowflake.png" style="width:100%;height:100%;">',t.style.cssText=`\n      position:absolute;\n      left:${o}px;\n      top:-20px;\n      width:${s}px;height:${s}px;\n      animation:snowfall ${n}s linear forwards;\n    `,e.appendChild(t),setTimeout(()=>t.remove(),1e3*n)},200),typeof isChristmasSeason==='function'&&isChristmasSeason()){const e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;width:100%;background:linear-gradient(90deg,#c41e3a,#1a472a,#c41e3a);padding:8px;text-align:center;z-index:9998;",e.innerHTML='<span style="color:#ffd700;font-weight:bold;font-size:14px;">üéÑ MERRY CHRISTMAS! üéÖ Special Holiday Event Active! ‚ùÑÔ∏è</span>',document.body.insertBefore(e,document.body.firstChild),document.body.style.paddingTop="40px"}}function updateCoinsDisplay(){currentCoins=parseInt(localStorage.getItem("birdturds_coins")||"0"),document.getElementById("hud-coins").textContent=currentCoins,document.getElementById("modal-coins").textContent=currentCoins,document.getElementById("store-coins").textContent=currentCoins}function openShop(){document.getElementById("shop-modal").classList.add("active"),stripe||(stripe=Stripe(STRIPE_KEY)),renderShopPacks(),updateCoinsDisplay()}function closeShop(){document.getElementById("shop-modal").classList.remove("active")}function renderShopPacks(){const e=document.getElementById("shop-packs"),t="true"===localStorage.getItem("birdturds_ads_removed");e.innerHTML=packs.map(e=>"removeads"===e.key?t?'<div class="store-item" style="opacity:0.6;">\n          <div class="item-name">‚úÖ Ads Removed!</div>\n          <div class="item-desc">You\'ve already removed ads</div>\n          <div class="item-price">OWNED</div>\n          <button class="buy-btn" disabled>Purchased</button>\n        </div>':`<div class="store-item" style="border:2px solid #22c55e;">\n        <div class="item-name">${e.name}</div>\n        <div class="item-desc">${e.special}</div>\n        <div class="item-price">${e.price}</div>\n        <button class="buy-btn" onclick="buyPack('${e.key}')" style="background:linear-gradient(135deg,#22c55e,#16a34a);">Remove Ads</button>\n      </div>`:`<div class="store-item">\n      <div class="item-name">${e.name}</div>\n      <div class="item-desc">${e.coins.toLocaleString()} <span class="turd-emoji">üí©</span> TurdCoins</div>\n      <div class="item-price">${e.price}</div>\n      <button class="buy-btn" onclick="buyPack('${e.key}')">Buy Now</button>\n    </div>`).join("")}async function buyPack(e){console.log("üõí buyPack called:",e);try{if(!stripe){console.log("‚ö†Ô∏è Stripe not initialized, initializing now...");stripe=Stripe(STRIPE_KEY)}console.log("üì° Fetching /create-checkout-session.php...");const t=await fetch("/create-checkout-session.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pack:e,embedded:!0})});console.log("üì° Response status:",t.status);if(!t.ok){const errText=await t.text();console.error("‚ùå Server error:",t.status,errText);alert("Server error "+t.status+": "+errText.substring(0,200));return}const responseText=await t.text();console.log("üì° Response text:",responseText.substring(0,500));let s;try{s=JSON.parse(responseText)}catch(parseErr){console.error("‚ùå JSON parse error:",parseErr);alert("Server returned invalid JSON. Check console for details.\n\nResponse: "+responseText.substring(0,200));return}console.log("üì¶ Parsed response:",s);if(s.ok&&s.clientSecret){console.log("‚úÖ Got clientSecret, mounting Stripe checkout...");document.getElementById("shop-packs").style.display="none";document.getElementById("stripe-checkout-container").style.display="block";try{const checkout=await stripe.initEmbeddedCheckout({clientSecret:s.clientSecret});checkout.mount("#checkout");console.log("‚úÖ Stripe checkout mounted successfully")}catch(stripeErr){console.error("‚ùå Stripe mount error:",stripeErr);alert("Stripe error: "+stripeErr.message);document.getElementById("shop-packs").style.display="grid";document.getElementById("stripe-checkout-container").style.display="none"}}else{console.error("‚ùå Server returned error:",s);alert("Error: "+(s.error||s.message||"Unknown error from server"))}}catch(err){console.error("‚ùå buyPack exception:",err);alert("Checkout failed: "+err.message+"\n\nCheck browser console (F12) for details.")}}function cancelCheckout(){document.getElementById("shop-packs").style.display="grid",document.getElementById("stripe-checkout-container").style.display="none"}function openStore(){document.getElementById("store-modal").classList.add("active"),updateCoinsDisplay(),showStoreTab("upgrades")}function closeStore(){document.getElementById("store-modal").classList.remove("active")}function showStoreTab(e){document.querySelectorAll(".store-tab").forEach(e=>e.classList.remove("active")),event.target.classList.add("active");const t=document.getElementById("store-content");if("coins"===e){const e="true"===localStorage.getItem("birdturds_ads_removed");t.innerHTML=`\n      <div style="text-align:center;margin-bottom:20px;">\n        <h3 style="color:#facc15;font-size:24px;">üí∞ Buy TurdCoins</h3>\n        <p style="color:#9ca3af;">Use coins to buy upgrades, weapons, boss birds & more!</p>\n      </div>\n      <div class="store-grid">\n        ${packs.map(t=>"removeads"===t.key&&e?'<div class="store-item owned">\n              <div class="item-name">üö´ Ads Removed!</div>\n              <div class="item-desc">You\'ve already removed ads. Thank you!</div>\n              <button class="buy-btn owned" disabled>‚úì Purchased</button>\n            </div>':`<div class="store-item ${t.special?"special":""}">\n            <div class="item-name">${t.name}</div>\n            <div class="item-desc">${t.coins>0?t.coins.toLocaleString()+" TurdCoins":t.special}</div>\n            <div class="item-price" style="color:#22c55e;font-size:20px;">${t.price}</div>\n            <button class="buy-btn" onclick="buyPack('${t.key}')">Buy Now</button>\n          </div>`).join("")}\n      </div>\n      <div style="margin-top:20px;padding:12px;background:rgba(59,130,246,0.1);border:1px solid #3b82f6;border-radius:8px;text-align:center;">\n        <p style="color:#93c5fd;font-size:12px;margin:0;">üí≥ Secure payment via Stripe. Charges appear as <strong style="color:#fff;">BirdTurds.com / GermProof Inc</strong></p>\n      </div>\n    `}else{const s=storeItems[e]||[];t.innerHTML=`<div class="store-grid">\n      ${s.map(e=>{const t=ownedItems.includes(e.id)&&!e.consumable,s=currentCoins>=e.cost;return`\n          <div class="store-item ${t?"owned":""}">\n            <div class="item-name">${e.name}</div>\n            <div class="item-desc">${e.desc}</div>\n            <div class="item-price">${e.cost.toLocaleString()} üí∞</div>\n            <button class="buy-btn ${t?"owned":""}" \n              ${t||!s?"disabled":""} \n              onclick="buyStoreItem('${e.id}', ${e.cost}, ${e.consumable||!1})">\n              ${t?"‚úì Owned":s?"Buy":"Need More Coins"}\n            </button>\n          </div>\n        `}).join("")}\n    </div>`}}function buyStoreItem(e,t,s){if("boss_summon_free"===e){if(localStorage.getItem("birdturds_free_boss_used"))return void alert("‚ùå Free boss summon already used!");localStorage.setItem("birdturds_free_boss_used","true");const e=["pterodactyl","phoenix","thunderbird","dragon"],t=e[Math.floor(Math.random()*e.length)];return"function"==typeof summonBoss&&(summonBoss(t),alert(`ü¶ñ FREE BOSS SUMMONED: ${t.toUpperCase()}! Kill it for big rewards!`)),void showStoreTab("birds")}if("peace_quiet"===e)return ownedItems.includes("peace_quiet")?("true"===localStorage.getItem("birdturds_noJokes")?(localStorage.setItem("birdturds_noJokes","false"),localStorage.setItem("birdturds_muteScriptures","false"),localStorage.setItem("birdturds_muteJokes","false"),alert("üîä Peace & Quiet DISABLED\n\nJokes and scriptures will now appear again!")):(localStorage.setItem("birdturds_noJokes","true"),localStorage.setItem("birdturds_muteScriptures","true"),localStorage.setItem("birdturds_muteJokes","true"),alert("üîá Peace & Quiet ENABLED\n\nNo more jokes or scriptures during gameplay.\n\nYou can toggle this back on anytime in the store!")),void showStoreTab("upgrades")):currentCoins<t?void alert("Not enough TurdCoins!"):(currentCoins-=t,localStorage.setItem("birdturds_coins",currentCoins),ownedItems.push("peace_quiet"),localStorage.setItem("birdturds_owned",JSON.stringify(ownedItems)),localStorage.setItem("birdturds_noJokes","true"),localStorage.setItem("birdturds_muteScriptures","true"),localStorage.setItem("birdturds_muteJokes","true"),alert("üîá Peace & Quiet PURCHASED!\n\nJokes and scriptures are now disabled.\n\nYou can toggle this on/off anytime by clicking it again in the store!"),updateCoinsDisplay(),void showStoreTab("upgrades"));if(e.startsWith("boss_")){if(currentCoins<t)return void alert("Not enough TurdCoins!");currentCoins-=t,localStorage.setItem("birdturds_coins",currentCoins);const s=e.replace("boss_","");return"function"==typeof summonBoss&&(summonBoss(s),alert(`üéØ ${s.toUpperCase()} SUMMONED! Kill it for rewards!`)),updateCoinsDisplay(),void showStoreTab("birds")}if(currentCoins<t)alert("Not enough TurdCoins!");else{if(currentCoins-=t,localStorage.setItem("birdturds_coins",currentCoins),s)"function"==typeof applyConsumable&&applyConsumable(e),alert("‚úÖ Item activated!");else if(ownedItems.push(e),localStorage.setItem("birdturds_owned",JSON.stringify(ownedItems)),"function"==typeof applyOwnedUpgrades&&applyOwnedUpgrades(),["handgun","revolver","deagle","shotgun_410","shotgun_20","shotgun_12","pump_action","auto_shotgun","machinegun","minigun","sniper","barrett","bazooka","rocketlauncher","minigun_mounted"].includes(e)){if(window.gameInstance&&window.gameInstance.scene&&window.gameInstance.scene.scenes[0]){const t=window.gameInstance.scene.scenes[0];t.switchWeapon&&t.switchWeapon(e)}alert(`‚úÖ üî´ ${e.toUpperCase()} PURCHASED!\n\nWeapon equipped - ready to hunt!`)}else alert("‚úÖ Purchased! Effect applied permanently.");updateCoinsDisplay(),showStoreTab(s?"consumables":"upgrades")}}document.addEventListener("DOMContentLoaded",createSnowfall),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").catch(e=>console.log("SW error:",e)),window.addEventListener("load",()=>{const e=new URLSearchParams(window.location.search);if(e.get("openShop")==="true"){setTimeout(()=>openStore(),500);window.history.replaceState({},"","/play.html")}if(e.get("session_id")&&(fetch(`/claim-coins.php?session_id=${e.get("session_id")}`).then(e=>e.json()).then(e=>{e.ok&&(e.adsRemoved?(localStorage.setItem("birdturds_ads_removed","true"),alert("‚úÖ Ads removed! Thank you for your support!")):e.coinsAdded>0&&(alert(`‚úÖ ${e.coinsAdded} TurdCoins added!`),localStorage.setItem("birdturds_coins",e.balance)),updateCoinsDisplay())}),window.history.replaceState({},"","/play.html")),"true"===localStorage.getItem("birdturds_ads_removed")){const e=document.getElementById("germproof-wrap");e&&(e.style.display="none")}updateCoinsDisplay()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(closeShop(),closeStore(),closeAuthModal())});</script>

<!-- Auth Modal -->
<div id="auth-modal">
  <button class="auth-close" onclick="closeAuthModal()">√ó</button>
  <div class="auth-box">
    <h2>üéÆ BirdTurds Account</h2>
    
    <div class="auth-tabs">
      <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
      <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
    </div>
    
    <div id="auth-error" class="auth-error"></div>
    
    <form id="auth-form" onsubmit="handleAuth(event)">
      <input type="email" id="auth-email" class="auth-input" placeholder="Email address" required />
      <input type="password" id="auth-password" class="auth-input" placeholder="Password (min 6 chars)" required minlength="6" />
      <div id="signup-fields" style="display:none;">
        <input type="text" id="auth-username" class="auth-input" placeholder="Display name (2-3 initials + numbers)" oninput="validateUsernamePreview(this.value)" />
        <div id="username-preview" style="margin-top:8px;padding:10px;background:rgba(0,0,0,0.3);border-radius:8px;font-size:11px;display:none;">
          <div id="username-status"></div>
        </div>
        <div style="margin-top:10px;padding:12px;background:rgba(34,197,94,0.1);border:1px solid #22c55e;border-radius:8px;">
          <div style="color:#22c55e;font-weight:bold;font-size:11px;margin-bottom:6px;">‚úÖ FREE USERNAMES (Recommended):</div>
          <div style="color:#86efac;font-size:10px;line-height:1.5;">
            ‚Ä¢ 2-3 initials + numbers: <span style="color:#fff;">JK42, ABC123, XY7</span><br>
            ‚Ä¢ Format with underscore: <span style="color:#fff;">JK_42, ABC_99</span><br>
            ‚Ä¢ Initials only: <span style="color:#fff;">J.K., A.B.C.</span>
          </div>
        </div>
        <div style="margin-top:8px;padding:12px;background:rgba(250,204,21,0.1);border:1px solid #fcd34d;border-radius:8px;">
          <div style="color:#fcd34d;font-weight:bold;font-size:11px;margin-bottom:6px;">‚≠ê PREMIUM USERNAMES (500 coins):</div>
          <div style="color:#fde68a;font-size:10px;line-height:1.5;">
            Single words like: Hunter, Eagle, Pro, Champion<br>
            <span style="color:#9ca3af;">üíé Ultra Premium (2500 coins): God, King, Legend</span>
          </div>
        </div>
        <div style="margin-top:8px;padding:8px;background:rgba(239,68,68,0.1);border:1px solid #ef4444;border-radius:8px;">
          <div style="color:#ef4444;font-size:10px;">
            ‚ùå No real names, swear words, or contact info allowed
          </div>
        </div>
      </div>
      <button type="submit" class="auth-submit" id="auth-submit-btn">Login</button>
    </form>
    
    <div class="auth-divider">or</div>
    
    <button class="guest-btn" onclick="playAsGuest()">
      üéÆ Play as Guest
      <div style="font-size:11px;font-weight:400;margin-top:4px;color:#a16207;">Progress saved locally only</div>
    </button>
  </div>
</div>

<!-- Purchase Warning Modal (for guests) -->
<div id="purchase-warning-modal" class="modal">
  <div class="modal-content" style="max-width:450px;">
    <div class="modal-header">
      <h2>‚ö†Ô∏è Create Account First!</h2>
      <button class="modal-close" onclick="closePurchaseWarning()">√ó</button>
    </div>
    <div style="padding:20px;text-align:center;">
      <p style="font-size:16px;color:#fde68a;margin-bottom:20px;">
        You're playing as a <strong>Guest</strong>. If you purchase TurdCoins now, they'll only be saved on THIS device/browser.
      </p>
      <p style="font-size:14px;color:#9ca3af;margin-bottom:25px;">
        Create a FREE account to:
      </p>
      <ul style="text-align:left;color:#e5e7eb;margin-bottom:25px;padding-left:30px;line-height:2;">
        <li>‚úÖ Keep your TurdCoins forever</li>
        <li>‚úÖ Sync across ALL your devices</li>
        <li>‚úÖ Appear on the global leaderboard</li>
        <li>‚úÖ Never lose your purchases</li>
      </ul>
      <div style="display:flex;gap:15px;justify-content:center;">
        <button onclick="closePurchaseWarning();showAuthModal();" class="header-btn auth-btn" style="padding:14px 28px;font-size:15px;">Create Free Account</button>
        <button onclick="proceedAsGuest()" style="padding:14px 28px;background:#374151;color:#9ca3af;border:none;border-radius:999px;cursor:pointer;">Continue as Guest</button>
      </div>
    </div>
  </div>
</div>

<!-- Firebase & Auth System -->
<script>const firebaseConfig={apiKey:"AIzaSyCqocaA6G6jFSlDVxGB3NC_4AIUbP6wfiQ",authDomain:"birdturds-a9e0b.firebaseapp.com",databaseURL:"https://birdturds-a9e0b-default-rtdb.firebaseio.com",projectId:"birdturds-a9e0b",storageBucket:"birdturds-a9e0b.firebasestorage.app",messagingSenderId:"749367634086",appId:"1:749367634086:web:2ac4da95a0ed12832f6c67"};firebase.initializeApp(firebaseConfig);const auth=firebase.auth(),db=firebase.firestore();let currentUser=null,isGuest=!0,authMode="login",pendingPurchase=null;async function loadUserData(e){try{const t=await db.collection("users").doc(e).get();if(t.exists){const e=t.data();currentCoins=e.coins||0,ownedItems=e.ownedItems||[],localStorage.setItem("birdturds_coins",currentCoins.toString()),localStorage.setItem("birdturds_owned",JSON.stringify(ownedItems))}else{const t=parseInt(localStorage.getItem("birdturds_coins")||"0"),n=JSON.parse(localStorage.getItem("birdturds_owned")||"[]");await db.collection("users").doc(e).set({coins:t,ownedItems:n,email:currentUser.email,displayName:currentUser.displayName||currentUser.email.split("@")[0],createdAt:firebase.firestore.FieldValue.serverTimestamp()}),currentCoins=t,ownedItems=n}}catch(e){console.error("Error loading user data:",e),loadLocalData()}}function loadLocalData(){currentCoins=parseInt(localStorage.getItem("birdturds_coins")||"0"),ownedItems=JSON.parse(localStorage.getItem("birdturds_owned")||"[]")}async function saveUserData(){if(currentUser)try{await db.collection("users").doc(currentUser.uid).update({coins:currentCoins,ownedItems:ownedItems,lastUpdated:firebase.firestore.FieldValue.serverTimestamp()})}catch(e){console.error("Error saving user data:",e)}localStorage.setItem("birdturds_coins",currentCoins.toString()),localStorage.setItem("birdturds_owned",JSON.stringify(ownedItems))}async function submitHighScore(e,t,n){if(currentUser)try{const o=currentUser.displayName||currentUser.email.split("@")[0];await db.collection("leaderboard").add({uid:currentUser.uid,displayName:o,score:e,kills:t,accuracy:n,timestamp:firebase.firestore.FieldValue.serverTimestamp()}),console.log("Score submitted to leaderboard!")}catch(e){console.error("Error submitting score:",e)}else console.log("Guest scores not saved to leaderboard")}async function getLeaderboard(e=10){try{return(await db.collection("leaderboard").orderBy("score","desc").limit(e).get()).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error getting leaderboard:",e),[]}}async function getUserBestScores(e,t=5){try{return(await db.collection("leaderboard").where("uid","==",e).orderBy("score","desc").limit(t).get()).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error getting user scores:",e),[]}}async function showLeaderboardModal(){const e=document.createElement("div");e.id="leaderboard-modal",e.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:10000;display:flex;align-items:center;justify-content:center;",e.innerHTML=`\n    <div style="background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:20px;border:3px solid #ffd700;padding:25px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;">\n      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">\n        <h2 style="color:#ffd700;margin:0;font-size:24px;">üèÜ GLOBAL LEADERBOARD</h2>\n        <button onclick="this.closest('#leaderboard-modal').remove()" style="background:#ef4444;color:#fff;border:none;width:35px;height:35px;border-radius:50%;font-size:20px;cursor:pointer;">√ó</button>\n      </div>\n      \n      <div id="leaderboard-tabs" style="display:flex;gap:10px;margin-bottom:15px;">\n        <button onclick="loadLeaderboardTab('global')" class="lb-tab active" style="flex:1;padding:10px;background:#ffd700;color:#000;border:none;border-radius:8px;font-weight:bold;cursor:pointer;">üåé Global Top 20</button>\n        <button onclick="loadLeaderboardTab('personal')" class="lb-tab" style="flex:1;padding:10px;background:#374151;color:#fff;border:none;border-radius:8px;font-weight:bold;cursor:pointer;">üë§ My Best</button>\n      </div>\n      \n      <div id="leaderboard-content" style="color:#fff;">\n        <p style="text-align:center;color:#9ca3af;">Loading...</p>\n      </div>\n      \n      <div style="margin-top:20px;padding-top:15px;border-top:1px solid #374151;text-align:center;">\n        <p style="color:#9ca3af;font-size:12px;margin:0;">üéÆ Play to compete for the top spot!</p>\n        ${currentUser?"":'<p style="color:#fde68a;font-size:11px;margin-top:5px;">‚ö†Ô∏è Login to save your scores!</p>'}\n      </div>\n    </div>\n  `,document.body.appendChild(e),loadLeaderboardTab("global")}async function loadLeaderboardTab(e){const t=document.getElementById("leaderboard-content");document.querySelectorAll(".lb-tab").forEach(e=>{e.style.background="#374151",e.style.color="#fff"}),event.target.style.background="#ffd700",event.target.style.color="#000",t.innerHTML='<p style="text-align:center;color:#9ca3af;">Loading...</p>';try{let n=[];if("global"===e)n=await getLeaderboard(20);else{if("personal"!==e||!currentUser)return void(t.innerHTML='<p style="text-align:center;color:#fde68a;">Login to see your personal scores!</p>');n=await getUserBestScores(currentUser.uid,10)}if(0===n.length)return void(t.innerHTML='<p style="text-align:center;color:#9ca3af;">No scores yet. Be the first!</p>');let o='<div style="display:flex;flex-direction:column;gap:8px;">';n.forEach((e,t)=>{const n=0===t?"ü•á":1===t?"ü•à":2===t?"ü•â":`#${t+1}`,r=currentUser&&e.uid===currentUser.uid,a=e.timestamp?new Date(1e3*e.timestamp.seconds).toLocaleDateString():"";o+=`\n        <div style="background:${r?"rgba(250,204,21,0.2)":"rgba(255,255,255,0.05)"};padding:10px 15px;border-radius:8px;display:flex;align-items:center;gap:12px;border:${r?"2px solid #ffd700":"1px solid #374151"};">\n          <span style="font-size:18px;width:35px;text-align:center;">${n}</span>\n          <div style="flex:1;">\n            <div style="font-weight:bold;color:${r?"#ffd700":"#fff"};">${e.displayName||"Anonymous"}${r?" (YOU)":""}</div>\n            <div style="font-size:11px;color:#9ca3af;">üéØ ${e.kills||0} kills ‚Ä¢ ${e.accuracy||0}% accuracy ‚Ä¢ ${a}</div>\n          </div>\n          <div style="text-align:right;">\n            <div style="font-size:18px;font-weight:bold;color:#22c55e;">${(e.score||0).toLocaleString()}</div>\n            <div style="font-size:10px;color:#9ca3af;">points</div>\n          </div>\n        </div>\n      `}),o+="</div>",t.innerHTML=o}catch(e){t.innerHTML='<p style="text-align:center;color:#ef4444;">Error loading leaderboard</p>'}}function showAuthModal(){document.getElementById("auth-modal").classList.add("show"),document.getElementById("auth-email").focus()}auth.onAuthStateChanged(async e=>{if(currentUser=e,isGuest=!e,e){if(console.log("User logged in:",e.email),document.getElementById("user-display").style.display="flex",document.getElementById("user-display").classList.remove("guest"),document.getElementById("user-display").querySelector(".user-icon").textContent="‚úÖ",document.getElementById("user-display").querySelector(".user-name").textContent=e.displayName||e.email.split("@")[0],document.getElementById("login-btn").style.display="none",document.getElementById("logout-btn").style.display="block",document.getElementById("guest-warning").classList.remove("show"),await loadUserData(e.uid),void 0!==ModerationSystem&&ModerationSystem.isAdmin()){const e=document.getElementById("admin-panel-btn");e&&(e.style.display="inline-block")}}else{document.getElementById("user-display").style.display="flex",document.getElementById("user-display").classList.add("guest"),document.getElementById("user-display").querySelector(".user-icon").textContent="üë§",document.getElementById("user-display").querySelector(".user-name").textContent="Guest",document.getElementById("login-btn").style.display="block",document.getElementById("logout-btn").style.display="none",document.getElementById("guest-warning").classList.add("show");const e=document.getElementById("admin-panel-btn");e&&(e.style.display="none"),loadLocalData()}updateCoinsDisplay()}),window.showLeaderboardModal=showLeaderboardModal;const ModerationSystem={STATUS:{PENDING:"pending",APPROVED:"approved",REJECTED:"rejected"},ADMIN_UIDS:["vMF6j5Pb6xVWy9QxyK8PJqq9awp1"],isAdmin:function(){return currentUser&&this.ADMIN_UIDS.includes(currentUser.uid)},submitForReview:async function(e,t){try{const n=ContentModerator.validateContent((t.title||"")+" "+(t.content||t.text||"")+" "+(t.author||""));if(!n.isClean)return{success:!1,error:"Content contains prohibited material: "+n.issues.join(", ")};const o={...t,title:t.title?ContentModerator.sanitize(t.title):null,content:t.content?ContentModerator.sanitize(t.content):null,text:t.text?ContentModerator.sanitize(t.text):null,author:t.author?UsernameValidator.toLeaderboardDisplay(t.author):"Anonymous"};return{success:!0,id:(await db.collection("moderation_queue").add({type:e,content:o,status:this.STATUS.PENDING,submittedBy:currentUser?currentUser.uid:"guest",submittedAt:firebase.firestore.FieldValue.serverTimestamp(),reviewedBy:null,reviewedAt:null,reviewNotes:null})).id,message:"Your submission has been received and is pending review. It will appear once approved by our team."}}catch(e){return console.error("Moderation submission error:",e),{success:!1,error:"Failed to submit. Please try again."}}},getPendingContent:async function(){if(!this.isAdmin())return{success:!1,error:"Unauthorized"};try{return{success:!0,items:(await db.collection("moderation_queue").where("status","==",this.STATUS.PENDING).orderBy("submittedAt","asc").limit(50).get()).docs.map(e=>({id:e.id,...e.data()}))}}catch(e){return console.error("Error getting pending content:",e),{success:!1,error:e.message}}},approveContent:async function(e){if(!this.isAdmin())return{success:!1,error:"Unauthorized"};try{const t=db.collection("moderation_queue").doc(e),n=await t.get();if(!n.exists)return{success:!1,error:"Content not found"};const o=n.data();return await db.collection("approved_content").add({...o,status:this.STATUS.APPROVED,reviewedBy:currentUser.uid,reviewedAt:firebase.firestore.FieldValue.serverTimestamp()}),await t.delete(),{success:!0,message:"Content approved!"}}catch(e){return console.error("Approval error:",e),{success:!1,error:e.message}}},rejectContent:async function(e,t){if(!this.isAdmin())return{success:!1,error:"Unauthorized"};try{return await db.collection("moderation_queue").doc(e).update({status:this.STATUS.REJECTED,reviewedBy:currentUser.uid,reviewedAt:firebase.firestore.FieldValue.serverTimestamp(),reviewNotes:t||"Did not meet community guidelines"}),{success:!0,message:"Content rejected"}}catch(e){return console.error("Rejection error:",e),{success:!1,error:e.message}}},getApprovedContent:async function(e,t=20){try{return{success:!0,items:(await db.collection("approved_content").where("type","==",e).orderBy("submittedAt","desc").limit(t).get()).docs.map(e=>({id:e.id,...e.data()}))}}catch(e){return console.error("Error getting approved content:",e),{success:!1,items:[]}}}},originalSubmitBlogPost=window.submitBlogPost;window.submitBlogPost=async function(){const e=document.getElementById("blog-title").value.trim(),t=document.getElementById("blog-category").value,n=document.getElementById("blog-author").value.trim()||"Anonymous",o=document.getElementById("blog-content").value.trim(),r=document.getElementById("blog-scripture").value.trim();if(e.length<5)return void alert("Please enter a title (at least 5 characters).");if(o.length<20)return void alert("Please write at least 20 characters in your post.");const a=await ModerationSystem.submitForReview("blog",{title:e,category:t,author:n,content:o,scripture:r||"Trust in the Lord with all your heart ‚Äî Proverbs 3:5",date:(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})});a.success?(document.getElementById("blog-title").value="",document.getElementById("blog-content").value="",document.getElementById("blog-scripture").value="",document.getElementById("blog-author").value="",alert("‚úÖ "+a.message+'\n\n"Let your light shine before others" ‚Äî Matthew 5:16')):alert("‚ö†Ô∏è "+a.error)};const originalSubmitTestimony=window.submitTestimony;async function loadApprovedContent(){const e=await ModerationSystem.getApprovedContent("testimony",10);if(e.success&&e.items.length>0){const t=document.getElementById("testimonies-list");t&&e.items.forEach(e=>{const n=document.createElement("div");n.style.cssText="background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;border-left:3px solid #22c55e;margin-bottom:10px;",n.innerHTML='<p style="color:#e5e7eb;font-size:12px;line-height:1.5;margin-bottom:8px;">"'+(e.content.text||"")+'"</p><p style="color:#22c55e;font-size:11px;font-weight:bold;">‚Äî '+(e.content.author||"Anonymous")+" ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>",t.appendChild(n)})}const t=await ModerationSystem.getApprovedContent("blog",20);if(t.success&&t.items.length>0){const e=document.getElementById("blog-posts-list");e&&t.items.forEach(t=>{const n=t.content,o=document.createElement("div");o.className="blog-post",o.setAttribute("data-category",n.category||"testimony"),o.style.cssText="background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid #22c55e;margin-top:15px;",o.innerHTML='<div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:10px;"><h3 style="color:#fff;font-size:16px;margin:0;">'+(n.title||"Untitled")+'</h3><span style="color:#9ca3af;font-size:10px;">'+(n.date||"")+'</span></div><p style="color:#e5e7eb;font-size:12px;line-height:1.6;margin-bottom:10px;">'+(n.content||"")+'</p><p style="color:#fcd34d;font-size:11px;font-style:italic;">"'+(n.scripture||"")+'"</p><p style="color:#9ca3af;font-size:11px;margin-top:8px;">By <strong style="color:#22c55e;">'+(n.author||"Anonymous")+"</strong></p>",e.appendChild(o)})}}function showAdminPanel(){if(!ModerationSystem.isAdmin())return void alert("Access denied. Admin only.");const e=document.createElement("div");e.id="admin-panel-modal",e.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.95);z-index:10000;overflow-y:auto;padding:20px;",e.innerHTML='\n    <div style="max-width:900px;margin:0 auto;background:#1e293b;border-radius:16px;padding:30px;border:2px solid #ef4444;">\n      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">\n        <h2 style="color:#ef4444;font-size:24px;margin:0;">üõ°Ô∏è Admin Moderation Panel</h2>\n        <button onclick="document.getElementById(\'admin-panel-modal\').remove()" style="background:none;border:none;color:#fff;font-size:24px;cursor:pointer;">‚úï</button>\n      </div>\n      <div id="admin-pending-list" style="color:#e5e7eb;">Loading pending content...</div>\n    </div>\n  ',document.body.appendChild(e),loadPendingContent()}async function loadPendingContent(){const e=await ModerationSystem.getPendingContent(),t=document.getElementById("admin-pending-list");e.success?0!==e.items.length?(t.innerHTML='<p style="color:#fcd34d;margin-bottom:15px;">üìã '+e.items.length+" items pending review</p>",e.items.forEach(e=>{const n=e.content,o=document.createElement("div");o.style.cssText="background:rgba(255,255,255,0.1);padding:15px;border-radius:12px;margin-bottom:15px;border-left:4px solid #fcd34d;",o.innerHTML=`\n      <p style="color:#fcd34d;font-size:12px;margin-bottom:10px;"><strong>Type:</strong> ${e.type} | <strong>From:</strong> ${n.author||"Anonymous"}</p>\n      <p style="color:#fff;font-size:14px;margin-bottom:10px;"><strong>${n.title||"Testimony/Comment"}</strong></p>\n      <p style="color:#e5e7eb;font-size:13px;margin-bottom:15px;">${n.content||n.text||""}</p>\n      <div style="display:flex;gap:10px;">\n        <button onclick="approveItem('${e.id}')" style="background:#22c55e;color:#fff;border:none;padding:8px 20px;border-radius:8px;cursor:pointer;font-weight:bold;">‚úì Approve</button>\n        <button onclick="rejectItem('${e.id}')" style="background:#ef4444;color:#fff;border:none;padding:8px 20px;border-radius:8px;cursor:pointer;font-weight:bold;">‚úï Reject</button>\n      </div>\n    `,t.appendChild(o)})):t.innerHTML='<p style="color:#22c55e;">‚úÖ No pending content to review!</p>':t.innerHTML='<p style="color:#ef4444;">Error: '+e.error+"</p>"}async function approveItem(e){const t=await ModerationSystem.approveContent(e);t.success?(alert("‚úÖ Content approved!"),loadPendingContent()):alert("Error: "+t.error)}async function rejectItem(e){const t=prompt("Reason for rejection (optional):"),n=await ModerationSystem.rejectContent(e,t);n.success?(alert("Content rejected."),loadPendingContent()):alert("Error: "+n.error)}function closeAuthModal(){document.getElementById("auth-modal").classList.remove("show"),document.getElementById("auth-error").style.display="none"}function switchAuthTab(e){authMode=e,document.querySelectorAll(".auth-tab").forEach(e=>e.classList.remove("active")),event.target.classList.add("active"),document.getElementById("signup-fields").style.display="signup"===e?"block":"none",document.getElementById("auth-submit-btn").textContent="signup"===e?"Create Account":"Login",document.getElementById("auth-error").style.display="none"}function showAuthError(e){const t=document.getElementById("auth-error");t.textContent=e,t.style.display="block"}async function handleAuth(e){e.preventDefault();const t=document.getElementById("auth-email").value,n=document.getElementById("auth-password").value,o=document.getElementById("auth-username").value;try{if("signup"===authMode){if(o){if("undefined"!=typeof UsernameValidator){var r=UsernameValidator.validate(o);if(r.requiresPremium){var a=parseInt(localStorage.getItem("birdturds_coins")||"0");if(a<r.cost)return void showAuthError("Single-word usernames are PREMIUM! üí∞\n\nCost: "+r.cost+" coins\nYour balance: "+a+' coins\n\nUse a format like: "Cool_Gamer" or "J.S." instead.');localStorage.setItem("birdturds_coins",(a-r.cost).toString())}if(!r.valid&&!r.requiresPremium)return void showAuthError("Username issue:\n\n"+r.issues.join("\n")+"\n\nTry using initials (J.S.) or a creative username.")}if("undefined"!=typeof ContentModerator){var i=ContentModerator.validateContent(o);if(!i.isClean)return void showAuthError("Username contains prohibited content:\n\n‚Ä¢ "+i.issues.join("\n‚Ä¢ "))}}const e=await auth.createUserWithEmailAndPassword(t,n);if(o){var s="undefined"!=typeof UsernameValidator?UsernameValidator.toLeaderboardDisplay(o):o.substring(0,15);await e.user.updateProfile({displayName:s})}alert("‚úÖ Account created! Your progress will now sync across all devices.")}else await auth.signInWithEmailAndPassword(t,n),alert("‚úÖ Welcome back!");closeAuthModal()}catch(e){console.error("Auth error:",e);let t="An error occurred. Please try again.";switch(e.code){case"auth/email-already-in-use":t="This email is already registered. Try logging in!";break;case"auth/invalid-email":t="Please enter a valid email address.";break;case"auth/weak-password":t="Password must be at least 6 characters.";break;case"auth/user-not-found":t="No account found with this email. Sign up instead!";break;case"auth/wrong-password":t="Incorrect password. Please try again.";break;case"auth/invalid-credential":t="Invalid email or password. Please try again."}showAuthError(t)}}function playAsGuest(){closeAuthModal(),isGuest=!0}async function logoutUser(){confirm("Are you sure you want to logout?")&&(await auth.signOut(),alert("You have been logged out. Playing as guest now."))}function checkGuestPurchase(e){return!isGuest||(pendingPurchase=e,document.getElementById("purchase-warning-modal").style.display="flex",!1)}function closePurchaseWarning(){document.getElementById("purchase-warning-modal").style.display="none",pendingPurchase=null}function proceedAsGuest(){closePurchaseWarning(),pendingPurchase&&(pendingPurchase(),pendingPurchase=null)}window.submitTestimony=async function(){const e=document.getElementById("testimony-input").value.trim(),t=document.getElementById("testimony-name").value.trim()||"Anonymous";if(e.length<10)return void alert("Please write at least 10 characters in your testimony.");const n=await ModerationSystem.submitForReview("testimony",{text:e,author:t,rating:userRating||5});n.success?(document.getElementById("testimony-input").value="",document.getElementById("testimony-name").value="",userRating=5,alert("‚úÖ "+n.message+'\n\n"Let the redeemed of the Lord tell their story" ‚Äî Psalm 107:2')):alert("‚ö†Ô∏è "+n.error)},document.addEventListener("DOMContentLoaded",function(){setTimeout(loadApprovedContent,2e3)});const originalOpenShop=openShop;function showMultiplayerModal(){const e=getCurrentUserName?getCurrentUserName():"Player",t=localStorage.getItem("birdturds_character")||"buck",n=CHARACTER_ROSTER[t]||CHARACTER_ROSTER.buck,o=document.createElement("div");o.id="multiplayer-modal",o.innerHTML=`\n    <div style="background:linear-gradient(135deg,#1e293b,#0f172a);padding:25px;border-radius:20px;max-width:550px;width:95%;border:2px solid #3b82f6;text-align:center;">\n      <h2 style="color:#60a5fa;font-size:26px;margin-bottom:5px;">üåê MULTIPLAYER</h2>\n      <p style="color:#9ca3af;font-size:12px;margin-bottom:15px;">Hunt with friends worldwide ‚Ä¢ Up to 6 players per room!</p>\n      \n      \x3c!-- Player Info --\x3e\n      <div style="background:rgba(0,0,0,0.4);padding:12px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:15px;">\n        <img src="/sprites/characters/${t}_idle.png" style="height:50px;" onerror="this.style.display='none'">\n        <div style="text-align:left;">\n          <p style="color:#facc15;font-weight:bold;margin:0;font-size:14px;">${e}</p>\n          <p style="color:#60a5fa;font-size:11px;margin:2px 0 0 0;">${n.name} ‚Ä¢ ${n.weapon}</p>\n        </div>\n      </div>\n      \n      <div style="display:flex;flex-direction:column;gap:12px;margin-bottom:20px;">\n        \x3c!-- Create Room --\x3e\n        <button onclick="createMultiplayerRoom()" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:14px 30px;font-size:15px;font-weight:bold;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;">\n          <span style="font-size:20px;">üè†</span> Create Private Room\n        </button>\n        \n        \x3c!-- Join Room --\x3e\n        <div style="display:flex;gap:8px;">\n          <input type="text" id="room-code-input" placeholder="ROOM CODE" maxlength="6" style="flex:1;padding:14px;border-radius:12px;border:2px solid #374151;background:#0f172a;color:#fff;font-size:16px;text-transform:uppercase;text-align:center;letter-spacing:3px;">\n          <button onclick="joinMultiplayerRoom()" style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;padding:14px 20px;font-size:15px;font-weight:bold;border-radius:12px;cursor:pointer;">\n            üéÆ JOIN\n          </button>\n        </div>\n        \n        \x3c!-- Quick Match --\x3e\n        <button onclick="quickMatch()" style="background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border:none;padding:14px 30px;font-size:15px;font-weight:bold;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;">\n          <span style="font-size:20px;">‚ö°</span> Quick Match (Auto-Find Players)\n        </button>\n      </div>\n      \n      <div style="background:rgba(59,130,246,0.1);padding:12px;border-radius:10px;margin-bottom:15px;">\n        <div style="display:flex;justify-content:space-around;text-align:center;">\n          <div><div style="color:#facc15;font-size:18px;font-weight:bold;">6</div><div style="color:#64748b;font-size:10px;">Max Players</div></div>\n          <div><div style="color:#22c55e;font-size:18px;font-weight:bold;">3 min</div><div style="color:#64748b;font-size:10px;">Per Round</div></div>\n          <div><div style="color:#60a5fa;font-size:18px;font-weight:bold;">ü§ñ</div><div style="color:#64748b;font-size:10px;">Bot Fill</div></div>\n        </div>\n      </div>\n      \n      \x3c!-- Status --\x3e\n      <div id="multiplayer-status" style="color:#facc15;font-size:14px;margin-bottom:12px;display:none;">\n        Connecting...\n      </div>\n      \n      <button onclick="document.getElementById('multiplayer-modal').remove()" style="background:#374151;color:#9ca3af;border:none;padding:10px 25px;border-radius:999px;cursor:pointer;font-size:13px;">\n        Cancel\n      </button>\n    </div>\n  `,o.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:20000;",document.body.appendChild(o)}openShop=function(){isGuest?checkGuestPurchase(()=>originalOpenShop()):originalOpenShop()},window.saveUserData=saveUserData,window.submitHighScore=submitHighScore,window.getLeaderboard=getLeaderboard,window.isGuest=()=>isGuest,window.currentUser=()=>currentUser,window.getCurrentUserName=()=>currentUser&&currentUser.displayName?currentUser.displayName:currentUser&&currentUser.email?currentUser.email.split("@")[0]:"Player";const MultiplayerClient={db:null,roomRef:null,roomCode:null,playerId:null,playerName:null,isHost:!1,isConnected:!1,players:{},maxPlayers:8,init(){return"undefined"!=typeof firebase&&firebase.database?(this.db=firebase.database(),this.playerId="player_"+Math.random().toString(36).substr(2,9),console.log("üéÆ Multiplayer initialized, ID:",this.playerId),!0):(console.warn("Firebase not available for multiplayer"),!1)},async createRoom(e){if(!this.init())return{success:!1,error:"Firebase not available"};this.roomCode=Math.random().toString(36).substring(2,8).toUpperCase(),this.playerName=e||"Host",this.isHost=!0;const t={code:this.roomCode,host:this.playerId,hostName:this.playerName,created:firebase.database.ServerValue.TIMESTAMP,status:"waiting",settings:{maxPlayers:this.maxPlayers,difficulty:"normal",level:1},players:{}};t.players[this.playerId]={name:this.playerName,character:localStorage.getItem("birdturds_character")||"buck",score:0,kills:0,health:100,x:100,y:200,ready:!0,lastUpdate:firebase.database.ServerValue.TIMESTAMP};try{return this.roomRef=this.db.ref("rooms/"+this.roomCode),await this.roomRef.set(t),this.setupRoomListeners(),this.roomRef.child("players/"+this.playerId).onDisconnect().remove(),this.isConnected=!0,window.multiplayerClient=this,{success:!0,roomCode:this.roomCode}}catch(e){return console.error("Failed to create room:",e),{success:!1,error:e.message}}},async joinRoom(e,t){if(!this.init())return{success:!1,error:"Firebase not available"};this.roomCode=e.toUpperCase(),this.playerName=t||"Player",this.isHost=!1;try{this.roomRef=this.db.ref("rooms/"+this.roomCode);const e=await this.roomRef.once("value");if(!e.exists())return{success:!1,error:"Room not found"};const t=e.val(),n=Object.keys(t.players||{}).length;return n>=t.settings.maxPlayers?{success:!1,error:"Room is full"}:"playing"===t.status?{success:!1,error:"Game already in progress"}:(await this.roomRef.child("players/"+this.playerId).set({name:this.playerName,character:localStorage.getItem("birdturds_character")||"daisy",score:0,kills:0,health:100,x:100+50*n,y:200,ready:!1,lastUpdate:firebase.database.ServerValue.TIMESTAMP}),this.roomRef.child("players/"+this.playerId).onDisconnect().remove(),this.setupRoomListeners(),this.isConnected=!0,window.multiplayerClient=this,{success:!0,roomCode:this.roomCode,players:n+1})}catch(e){return console.error("Failed to join room:",e),{success:!1,error:e.message}}},setupRoomListeners(){this.roomRef&&(this.roomRef.child("players").on("value",e=>{this.players=e.val()||{},this.onPlayersUpdate(this.players)}),this.roomRef.child("status").on("value",e=>{const t=e.val();"playing"===t?this.onGameStart():"ended"===t&&this.onGameEnd()}),this.roomRef.child("events").on("child_added",e=>{const t=e.val();this.onGameEvent(t)}))},updatePlayer(e){if(!this.isConnected||!this.roomRef)return;const t={...e,lastUpdate:firebase.database.ServerValue.TIMESTAMP};this.roomRef.child("players/"+this.playerId).update(t)},broadcastEvent(e){this.isConnected&&this.roomRef&&this.roomRef.child("events").push({...e,playerId:this.playerId,timestamp:firebase.database.ServerValue.TIMESTAMP})},startGame(){this.isHost&&this.roomRef&&this.roomRef.update({status:"playing"})},async leaveRoom(){this.roomRef&&this.playerId&&(await this.roomRef.child("players/"+this.playerId).remove(),this.isHost&&await this.roomRef.remove()),this.isConnected=!1,this.roomRef=null,this.roomCode=null,window.multiplayerClient=null},onPlayersUpdate(e){console.log("Players updated:",Object.keys(e).length);const t=document.getElementById("multiplayer-status");if(t){const n=Object.values(e).map(e=>e.name).join(", ");t.innerHTML=`üë• Players (${Object.keys(e).length}/${this.maxPlayers}): ${n}`}},onGameStart(){console.log("Game starting!"),document.getElementById("multiplayer-modal")?.remove(),document.getElementById("start-screen").style.display="none"},onGameEnd(){console.log("Game ended")},onGameEvent(e){console.log("Game event:",e)}};async function createMultiplayerRoom(){const e=document.getElementById("multiplayer-status");e&&(e.style.display="block",e.innerHTML="üîÑ Creating room...");const t=localStorage.getItem("birdturds_username")||"Host",n=await MultiplayerClient.createRoom(t);n.success?(e&&(e.innerHTML=`\n        ‚úÖ Room Created!<br>\n        <span style="font-size:32px;color:#22c55e;font-weight:bold;letter-spacing:4px;">${n.roomCode}</span><br>\n        <span style="font-size:12px;color:#94a3b8;">Share this code with friends (max 8 players)</span><br>\n        <button onclick="MultiplayerClient.startGame()" style="margin-top:15px;background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:12px 30px;border-radius:12px;font-size:14px;font-weight:bold;cursor:pointer;">\n          üéÆ START GAME\n        </button>\n      `),"undefined"!=typeof gameInstance&&gameInstance.scene.scenes[0]&&(gameInstance.scene.scenes[0].isMultiplayer=!0,gameInstance.scene.scenes[0].roomCode=n.roomCode)):e&&(e.innerHTML=`‚ùå Error: ${n.error}<br><span style="color:#94a3b8;font-size:12px;">Try again or check your connection</span>`)}async function joinMultiplayerRoom(){const e=document.getElementById("room-code-input"),t=e?.value?.toUpperCase();if(!t||t.length<4)return void alert("Please enter a valid room code!");const n=document.getElementById("multiplayer-status");n&&(n.style.display="block",n.innerHTML=`üîÑ Joining room ${t}...`);const o=localStorage.getItem("birdturds_username")||"Player",r=await MultiplayerClient.joinRoom(t,o);r.success?(n&&(n.innerHTML=`‚úÖ Joined room <strong>${t}</strong>!<br>Waiting for host to start... (${r.players}/8 players)`),"undefined"!=typeof gameInstance&&gameInstance.scene.scenes[0]&&(gameInstance.scene.scenes[0].isMultiplayer=!0,gameInstance.scene.scenes[0].roomCode=t)):n&&(n.innerHTML=`‚ùå ${r.error}<br><span style="color:#94a3b8;font-size:12px;">Check the code and try again</span>`)}async function quickMatch(){const e=document.getElementById("multiplayer-status");if(e&&(e.style.display="block",e.innerHTML="üîç Finding open games..."),MultiplayerClient.init())try{const t=firebase.database().ref("rooms"),n=(await t.orderByChild("status").equalTo("waiting").limitToFirst(10).once("value")).val();if(n)for(const[t,o]of Object.entries(n))if(Object.keys(o.players||{}).length<o.settings.maxPlayers){const n=localStorage.getItem("birdturds_username")||"Player",o=await MultiplayerClient.joinRoom(t,n);if(o.success)return void(e&&(e.innerHTML=`‚úÖ Found game! Joined room <strong>${t}</strong><br>Waiting for host... (${o.players}/8 players)`))}e&&(e.innerHTML="üîÑ No open games, creating new room..."),await createMultiplayerRoom()}catch(t){console.error("Quick match error:",t),e&&(e.innerHTML="‚ùå Error finding games. Try creating a room instead.")}else e&&(e.innerHTML="‚ùå Firebase not available")}if(void 0===CHARACTER_ROSTER)var CHARACTER_ROSTER={buck:{id:"buck",name:"Buck",gender:"male",desc:"Rugged cowboy with a trusty rifle",weapon:"Lever-Action Rifle",style:"Western Cowboy",color:"#60a5fa"},daisy:{id:"daisy",name:"Daisy",gender:"female",desc:"Sharpshooting cowgirl with attitude",weapon:"Shotgun",style:"Country Cowgirl",color:"#f472b6"},bubba:{id:"bubba",name:"Bubba",gender:"male",desc:"Big-hearted Southern boy with firepower",weapon:"Double-Barrel",style:"Southern Hunter",color:"#f59e0b"},clyde:{id:"clyde",name:"Clyde",gender:"male",desc:"Grizzled veteran who never misses",weapon:"Hunting Rifle",style:"Mountain Man",color:"#84cc16"},sierra:{id:"sierra",name:"Sierra",gender:"female",desc:"Quick-draw expert from the frontier",weapon:"Twin Revolvers",style:"Frontier Gal",color:"#ec4899"},gunner:{id:"gunner",name:"Gunner",gender:"male",desc:"Ex-military with heavy artillery",weapon:"Machine Gun",style:"Army Vet",color:"#10b981"},jolene:{id:"jolene",name:"Jolene",gender:"female",desc:"Ranch owner who protects her land",weapon:"Rifle",style:"Ranch Owner",color:"#a855f7"},tammy:{id:"tammy",name:"Tammy",gender:"female",desc:"Fearless huntress from the hills",weapon:"Crossbow",style:"Hill Country",color:"#f43f5e"}};let selectedDifficulty=localStorage.getItem("birdturds_difficulty")||"intermediate";function setDifficulty(e){selectedDifficulty=e,localStorage.setItem("birdturds_difficulty",e),["beginner","intermediate","advanced"].forEach(t=>{const n=document.getElementById("diff-"+t);n&&(t===e?(n.style.border="2px solid #ffd700",n.style.boxShadow="0 0 20px rgba(255,215,0,0.5)"):(n.style.border="2px solid transparent",n.style.boxShadow="none"))}),"undefined"!=typeof btState&&(btState.difficulty=e),console.log("Difficulty set to:",e)}function showCharacterSelect(){const e=localStorage.getItem("birdturds_character")||"buck",t=[{id:"buck",name:'Buck "Deadeye" Thompson',emoji:"ü§†",weapon:"Lever-Action Rifle",style:"Western Cowboy",color:"#60a5fa",age:42,hometown:"Amarillo, Texas",bio:"A 5th generation rancher from Texas. His grandfather fought in WWII and his daddy was a rodeo champion. Never missed a shot that mattered.",skills:["Eagle Eye (+15% accuracy)","Quick Draw (-0.2s reload)","Rattlesnake Reflexes"],greeting:"Howdy partner! Ready to bag some birds?",wave:"Tips his cowboy hat"},{id:"daisy",name:"Daisy Mae Reynolds",emoji:"üå∏",weapon:"Double-Barrel Shotgun",style:"Country Cowgirl",color:"#f472b6",age:28,hometown:"Nashville, Tennessee",bio:"Former competitive skeet shooter turned country singer. Won 3 national championships before age 20. Protecting her family's 200-acre farm.",skills:["Spread Shot (+20% pellet spread)","Quick Reload","Country Strong"],greeting:"Hey y'all! Let's show these birds who's boss!",wave:"Blows a kiss and winks"},{id:"bubba",name:'Bubba "Gator" Jackson',emoji:"üêä",weapon:"Heavy Double-Barrel",style:"Swamp Hunter",color:"#f59e0b",age:55,hometown:"Bayou La Batre, Alabama",bio:'Swamp guide for 30 years. Survived 3 gator attacks and once wrestled a 12-footer. His shotgun is named "Bertha."',skills:["Swamp Knowledge (+25% animal damage)","Gator Skin (+15 HP)","Heavy Hitter"],greeting:"Well I'll be! Time to go huntin'!",wave:"Raises shotgun overhead"},{id:"clyde",name:'Clyde "Mountain" Morrison',emoji:"üèîÔ∏è",weapon:"Bolt-Action Rifle",style:"Mountain Man",color:"#84cc16",age:62,hometown:"Jackson Hole, Wyoming",bio:"Former park ranger, 40 years in the Rockies. Can track a mouse through a blizzard. Lives off-grid in a cabin he built himself.",skills:["Tracker (+30% critical hit)","Mountain Man (no fall damage)","Patience"],greeting:"Mountains are calling. Let's hunt.",wave:"Nods stoically"},{id:"sierra",name:'Sierra "Quickdraw" Valdez',emoji:"üíÉ",weapon:"Twin Revolvers",style:"Frontier Gal",color:"#ec4899",age:32,hometown:"El Paso, Texas",bio:"Competitive quick-draw champion and stunt performer. Family has been on the border for 7 generations. Learned from her legendary abuela.",skills:["Lightning Hands (+40% fire rate)","Dual Wield","Acrobat"],greeting:"¬°Vamos! Let's dance with these birds!",wave:"Twirls both revolvers"},{id:"gunner",name:'Sgt. Marcus "Gunner" Williams',emoji:"üéñÔ∏è",weapon:"M249 SAW",style:"Army Veteran",color:"#10b981",age:38,hometown:"Fort Bragg, North Carolina",bio:"3 tours in Afghanistan, 2 Purple Hearts, Silver Star. Left the Army but the Army never left him. Now defending the homeland. Semper Fi.",skills:["Suppressive Fire (+50% ammo)","Combat Training","Iron Will"],greeting:"Lock and load! Time to defend freedom!",wave:"Crisp military salute"},{id:"jolene",name:"Jolene Parker",emoji:"üè†",weapon:"Custom Hunting Rifle",style:"Ranch Owner",color:"#a855f7",age:48,hometown:"Lexington, Kentucky",bio:"Owner of 5,000-acre cattle ranch, mother of 4. Managing land and livestock her whole life. Ranch in family since 1847.",skills:["Leadership (+10% team bonus)","Ranch Owner","Determined"],greeting:"This is my land. Let's protect it.",wave:"Tips her sun hat"},{id:"tammy",name:'Tammy "Ghost" Chen',emoji:"üéØ",weapon:"Compound Crossbow",style:"Stealth Hunter",color:"#f43f5e",age:26,hometown:"Austin, Texas",bio:"Former Olympic archery hopeful turned wildlife conservationist. Believes in ethical hunting and clean kills. Only hunts invasive species.",skills:["Silent Strike (no sound)","Stealth Mode","Precision"],greeting:"Shh... let's do this quietly.",wave:"Small wave with fingers"}];let n=t.map(t=>`\n    <div onclick="selectCharacter('${t.id}')" class="char-card" data-char="${t.id}" \n         style="background:${e===t.id?"linear-gradient(135deg,#22c55e,#16a34a)":"rgba(30,41,59,0.9)"};\n                padding:12px;border-radius:12px;cursor:pointer;\n                border:3px solid ${e===t.id?"#22c55e":"#374151"};\n                text-align:center;transition:all 0.2s;width:100px;flex-shrink:0;">\n      <img src="/sprites/characters/${t.id}_idle.png" style="height:60px;margin-bottom:4px;" onerror="this.style.display='none'">\n      <div style="font-weight:bold;color:#fff;font-size:11px;">${t.emoji} ${t.name.split(" ")[0]}</div>\n      <div style="color:${t.color};font-size:8px;margin-top:2px;">${t.weapon.split(" ")[0]}</div>\n    </div>\n  `).join("");const o=t.find(t=>t.id===e)||t[0],r=document.createElement("div");r.id="character-modal",r.innerHTML=`\n    <div style="background:linear-gradient(135deg,#1e293b,#0f172a);padding:25px;border-radius:20px;max-width:950px;width:95%;border:2px solid #8b5cf6;max-height:90vh;overflow-y:auto;">\n      <h2 style="color:#facc15;font-size:24px;margin-bottom:8px;text-align:center;">ü§† CHOOSE YOUR HUNTER</h2>\n      <p style="color:#9ca3af;font-size:12px;text-align:center;margin-bottom:15px;">8 Unique Characters with Custom Voices!</p>\n      \n      <div style="display:flex;gap:20px;flex-wrap:wrap;justify-content:center;">\n        \x3c!-- Character Cards --\x3e\n        <div style="display:flex;flex-wrap:wrap;gap:10px;justify-content:center;max-width:460px;">\n          ${n}\n        </div>\n        \n        \x3c!-- Character Profile Panel --\x3e\n        <div id="char-profile-panel" style="background:linear-gradient(135deg,rgba(0,0,0,0.5),rgba(30,41,59,0.8));padding:20px;border-radius:16px;border:2px solid #facc15;min-width:320px;max-width:400px;">\n          \n          \x3c!-- Character Header --\x3e\n          <div style="display:flex;gap:15px;align-items:center;margin-bottom:15px;">\n            <div id="char-viewer-container" style="position:relative;width:120px;height:150px;background:radial-gradient(ellipse at center,rgba(139,92,246,0.3) 0%,transparent 70%);border-radius:12px;flex-shrink:0;">\n              <img id="char-360-img" src="/sprites/characters/${e}_idle.png" style="width:100%;height:100%;object-fit:contain;">\n            </div>\n            <div style="flex:1;">\n              <div id="char-viewer-name" style="color:#facc15;font-size:16px;font-weight:bold;">${o.name}</div>\n              <div id="char-viewer-style" style="color:#8b5cf6;font-size:11px;margin:4px 0;">${o.style}</div>\n              <div id="char-viewer-age" style="color:#9ca3af;font-size:10px;">Age ${o.age} ‚Ä¢ ${o.hometown}</div>\n              <div id="char-viewer-weapon" style="color:#22c55e;font-size:11px;margin-top:4px;">üî´ ${o.weapon}</div>\n            </div>\n          </div>\n          \n          \x3c!-- Hello & Wave Buttons --\x3e\n          <div style="display:flex;gap:10px;margin-bottom:15px;">\n            <button onclick="playCharacterHello()" style="flex:1;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;padding:10px;border-radius:8px;cursor:pointer;font-weight:bold;font-size:12px;">\n              üé§ SAY HELLO\n            </button>\n            <button onclick="playCharacterWaveAnim()" style="flex:1;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border:none;padding:10px;border-radius:8px;cursor:pointer;font-weight:bold;font-size:12px;">\n              üëã WAVE\n            </button>\n          </div>\n          \n          \x3c!-- Bio --\x3e\n          <div style="background:rgba(0,0,0,0.4);padding:10px;border-radius:8px;margin-bottom:12px;">\n            <div style="color:#facc15;font-size:10px;font-weight:bold;margin-bottom:4px;">üìñ BACKSTORY</div>\n            <div id="char-viewer-bio" style="color:#d1d5db;font-size:10px;line-height:1.4;">${o.bio}</div>\n          </div>\n          \n          \x3c!-- Skills --\x3e\n          <div style="background:rgba(34,197,94,0.15);padding:10px;border-radius:8px;margin-bottom:12px;">\n            <div style="color:#22c55e;font-size:10px;font-weight:bold;margin-bottom:6px;">‚ö° SPECIAL SKILLS</div>\n            <div id="char-viewer-skills" style="color:#86efac;font-size:9px;">\n              ${o.skills.map(e=>`‚Ä¢ ${e}`).join("<br>")}\n            </div>\n          </div>\n          \n          \x3c!-- Greeting Preview --\x3e\n          <div style="background:rgba(139,92,246,0.15);padding:10px;border-radius:8px;">\n            <div style="color:#a78bfa;font-size:10px;font-weight:bold;margin-bottom:4px;">üí¨ GREETING</div>\n            <div id="char-viewer-greeting" style="color:#c4b5fd;font-size:11px;font-style:italic;">"${o.greeting}"</div>\n            <div id="char-viewer-wave" style="color:#9ca3af;font-size:9px;margin-top:4px;">Wave: ${o.wave}</div>\n          </div>\n          \n          \x3c!-- Rotation Controls --\x3e\n          <div style="display:flex;justify-content:center;gap:8px;margin-top:12px;">\n            <button onclick="rotateCharacter('left')" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:11px;">‚¨ÖÔ∏è</button>\n            <button onclick="zoomCharacter('in')" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:11px;">üîç+</button>\n            <button onclick="zoomCharacter('out')" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:11px;">üîç-</button>\n            <button onclick="rotateCharacter('right')" style="background:#374151;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:11px;">‚û°Ô∏è</button>\n          </div>\n        </div>\n      </div>\n      \n      \x3c!-- Buttons --\x3e\n      <div style="display:flex;gap:12px;justify-content:center;margin-top:20px;">\n        <button onclick="confirmCharacter()" style="background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border:none;padding:14px 40px;font-size:15px;font-weight:bold;border-radius:12px;cursor:pointer;box-shadow:0 4px 15px rgba(34,197,94,0.4);">‚úÖ CONFIRM HUNTER</button>\n        <button onclick="closeCharacterModal()" style="background:#374151;color:#fff;border:none;padding:14px 40px;font-size:15px;font-weight:bold;border-radius:12px;cursor:pointer;">‚ùå CANCEL</button>\n      </div>\n    </div>\n  `,r.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:10000;",document.body.appendChild(r),window.charViewerData=t,window.charViewerRotation=0,window.charViewerZoom=1}function playCharacterHello(){const e=pendingCharacter||"buck",t=window.charViewerData?.find(t=>t.id===e);if(t&&t.greeting){if(window.gameInstance&&window.gameInstance.scene&&window.gameInstance.scene.scenes[0]){const n=window.gameInstance.scene.scenes[0];n.speakAsCharacter&&n.speakAsCharacter(t.greeting,e)}const n=event.target;n.textContent="üîä Speaking...",n.style.background="linear-gradient(135deg,#22c55e,#16a34a)",setTimeout(()=>{n.textContent="üé§ SAY HELLO",n.style.background="linear-gradient(135deg,#3b82f6,#2563eb)"},2e3)}}function playCharacterWaveAnim(){const e=document.getElementById("char-360-img");if(!e)return;e.style.transition="transform 0.2s ease";let t=0;const n=setInterval(()=>{t+=1,e.style.transform=`scale(${window.charViewerZoom}) rotate(${10*Math.sin(.5*t)}deg)`,t>12&&(clearInterval(n),e.style.transform=`scale(${window.charViewerZoom})`)},100),o=document.getElementById("char-viewer-container");if(o){const e=document.createElement("div");e.textContent="üëã",e.style.cssText="position:absolute;top:10px;right:10px;font-size:24px;animation:waveAnim 1s ease;",o.appendChild(e),setTimeout(()=>e.remove(),1e3)}}function rotateCharacter(e){const t=["idle","walk","run","shoot","jump","hurt"];window.charViewerRotation="left"===e?(window.charViewerRotation-1+t.length)%t.length:(window.charViewerRotation+1)%t.length;const n=pendingCharacter||"buck",o=t[window.charViewerRotation],r=document.getElementById("char-360-img");r&&(r.src=`/sprites/characters/${n}_${o}.png`,r.style.transform=`scale(${window.charViewerZoom}) rotateY(${"left"===e?-15:15}deg)`,setTimeout(()=>{r.style.transform=`scale(${window.charViewerZoom})`},200))}function zoomCharacter(e){const t=document.getElementById("char-360-img");t&&(window.charViewerZoom="in"===e?Math.min(window.charViewerZoom+.3,3):Math.max(window.charViewerZoom-.3,.5),t.style.transform=`scale(${window.charViewerZoom})`,t.style.transition="transform 0.2s ease")}document.addEventListener("DOMContentLoaded",()=>{setDifficulty(selectedDifficulty)});let pendingCharacter=localStorage.getItem("birdturds_character")||"buck";function selectCharacter(e){pendingCharacter=e,document.querySelectorAll(".char-card").forEach(t=>{const n=t.dataset.char===e;t.style.background=n?"linear-gradient(135deg,#22c55e,#16a34a)":"rgba(30,41,59,0.9)",t.style.borderColor=n?"#22c55e":"#374151"});const t=window.charViewerData?.find(t=>t.id===e);if(t){const e=document.getElementById("char-viewer-name"),n=document.getElementById("char-viewer-style"),o=document.getElementById("char-viewer-age"),r=document.getElementById("char-viewer-weapon"),a=document.getElementById("char-viewer-bio"),i=document.getElementById("char-viewer-skills"),s=document.getElementById("char-viewer-greeting"),l=document.getElementById("char-viewer-wave");e&&(e.textContent=t.name),n&&(n.textContent=t.style),o&&(o.textContent=`Age ${t.age} ‚Ä¢ ${t.hometown}`),r&&(r.innerHTML="üî´ "+t.weapon),a&&(a.textContent=t.bio),i&&(i.innerHTML=t.skills.map(e=>`‚Ä¢ ${e}`).join("<br>")),s&&(s.textContent='"'+t.greeting+'"'),l&&(l.textContent="Wave: "+t.wave)}window.charViewerRotation=0,window.charViewerZoom=1;const n=document.getElementById("char-360-img");n&&(n.src=`/sprites/characters/${e}_idle.png`,n.style.transform="scale(1)")}function closeCharacterModal(){const e=document.getElementById("character-modal");e&&e.remove()}function confirmCharacter(){localStorage.setItem("birdturds_character",pendingCharacter),closeCharacterModal(),location.reload()}function initCharacterPreview(){let e=localStorage.getItem("birdturds_character")||"buck";!e.startsWith("hunter_")&&CHARACTER_ROSTER[e]||(console.log("Migrating old character to Buck:",e),e="buck",localStorage.setItem("birdturds_character","buck"),setTimeout(()=>showCharacterSelect(),500));const t=CHARACTER_ROSTER[e];if(t){const n=document.getElementById("selected-char-img"),o=document.getElementById("selected-char-name");n&&(n.src=`/sprites/characters/${e}_idle.png`),o&&(o.textContent=t.name)}}initCharacterPreview();const wellnessTips=["Remember to take breaks, stay hydrated, and spend quality time with family! üíù","Gaming is fun, but don't forget to play outside too! üå≥","Have you helped with chores today? Real-life achievements matter! ‚≠ê","Stretch your legs every 30 minutes - your body will thank you! üßò","Quality time with family creates the best memories! üë®‚Äçüë©‚Äçüëß‚Äçüë¶","Balance is key - games, homework, family, and sleep! üìö","Be kind to others - online and offline! üòä"],tipEl=document.getElementById("wellness-tip");tipEl&&(tipEl.textContent=wellnessTips[Math.floor(Math.random()*wellnessTips.length)]);</script>

<script src="/game.min.js?v=36.5"></script>

<!-- PRIVACY POLICY MODAL -->
<div id="privacy-modal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.95);z-index:10000;overflow-y:auto;padding:20px;">
  <div style="max-width:800px;margin:0 auto;background:#1e293b;border-radius:16px;padding:30px;border:2px solid #22c55e;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
      <h2 style="color:#22c55e;font-size:24px;margin:0;">üîí Privacy Policy</h2>
      <button onclick="document.getElementById('privacy-modal').style.display='none'" style="background:none;border:none;color:#fff;font-size:24px;cursor:pointer;">‚úï</button>
    </div>
    <div style="color:#e5e7eb;font-size:13px;line-height:1.8;">
      <p style="color:#fcd34d;font-weight:bold;">Last Updated: January 2025</p>
      
      <h3 style="color:#22c55e;margin-top:20px;">1. INFORMATION WE COLLECT</h3>
      <p>We collect minimal information necessary to operate the game:</p>
      <ul style="margin-left:20px;">
        <li><strong>Username/Display Name:</strong> Required for leaderboards (no real names allowed)</li>
        <li><strong>Game Progress:</strong> Scores, achievements, and in-game purchases (coins)</li>
        <li><strong>Device Information:</strong> Browser type and screen size for game optimization only</li>
      </ul>
      
      <h3 style="color:#22c55e;margin-top:20px;">2. INFORMATION WE DO NOT COLLECT</h3>
      <ul style="margin-left:20px;">
        <li>‚ùå Email addresses (except for optional account recovery)</li>
        <li>‚ùå Phone numbers</li>
        <li>‚ùå Real names or full names</li>
        <li>‚ùå Physical addresses</li>
        <li>‚ùå Social media accounts</li>
        <li>‚ùå Photos or images of users</li>
        <li>‚ùå Location data (beyond city-level for church finder, if enabled)</li>
      </ul>
      
      <h3 style="color:#22c55e;margin-top:20px;">3. USER SAFETY & CHILD PROTECTION</h3>
      <p>We take user safety extremely seriously:</p>
      <ul style="margin-left:20px;">
        <li>‚úÖ <strong>No Direct Messaging:</strong> Users cannot contact each other privately</li>
        <li>‚úÖ <strong>No User Profiles:</strong> No clickable profiles or personal information shared</li>
        <li>‚úÖ <strong>Content Filtering:</strong> All user-generated content is filtered for inappropriate material</li>
        <li>‚úÖ <strong>No Personal Info Sharing:</strong> Email, phone, and personal details are blocked in all inputs</li>
        <li>‚úÖ <strong>Anonymous Gameplay:</strong> Only display names (initials or usernames) are visible</li>
      </ul>
      
      <h3 style="color:#22c55e;margin-top:20px;">4. DATA STORAGE</h3>
      <p>Game data is stored locally on your device and optionally on our secure servers. We do not sell, share, or transfer your data to third parties.</p>
      
      <h3 style="color:#22c55e;margin-top:20px;">5. COOKIES</h3>
      <p>We use only essential cookies to save your game progress and preferences. No tracking or advertising cookies are used.</p>
      
      <h3 style="color:#22c55e;margin-top:20px;">6. CHILDREN'S PRIVACY (COPPA)</h3>
      <p>This game is family-friendly and designed with children's safety in mind. We do not knowingly collect personal information from children under 13. All gameplay is anonymous.</p>
      
      <h3 style="color:#22c55e;margin-top:20px;">7. CONTACT</h3>
      <p>For privacy concerns, contact: <strong style="color:#fcd34d;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="462a2321272a06223322236825292b">[email&#160;protected]</a></strong></p>
    </div>
  </div>
</div>

<!-- TERMS & CONDITIONS MODAL -->
<div id="terms-modal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.95);z-index:10000;overflow-y:auto;padding:20px;">
  <div style="max-width:800px;margin:0 auto;background:#1e293b;border-radius:16px;padding:30px;border:2px solid #facc15;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
      <h2 style="color:#facc15;font-size:24px;margin:0;">üìú Terms & Conditions</h2>
      <button onclick="document.getElementById('terms-modal').style.display='none'" style="background:none;border:none;color:#fff;font-size:24px;cursor:pointer;">‚úï</button>
    </div>
    <div style="color:#e5e7eb;font-size:13px;line-height:1.8;">
      <p style="color:#fcd34d;font-weight:bold;">Last Updated: January 2025</p>
      
      <h3 style="color:#facc15;margin-top:20px;">1. ACCEPTANCE OF TERMS</h3>
      <p>By accessing or playing BirdTurds, you agree to these Terms & Conditions. If you disagree, do not use this game.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">2. USER CONDUCT</h3>
      <p>You agree NOT to:</p>
      <ul style="margin-left:20px;">
        <li>‚ùå Share personal contact information (email, phone, social media)</li>
        <li>‚ùå Post hateful, blasphemous, or offensive content</li>
        <li>‚ùå Attempt to contact other players outside the game</li>
        <li>‚ùå Use profanity, slurs, or inappropriate language</li>
        <li>‚ùå Impersonate others or use misleading names</li>
        <li>‚ùå Attempt to hack, exploit, or cheat</li>
        <li>‚ùå Post spam, advertisements, or solicitations</li>
        <li>‚ùå Bully, harass, or threaten other users</li>
      </ul>
      
      <h3 style="color:#facc15;margin-top:20px;">3. USERNAME REQUIREMENTS</h3>
      <ul style="margin-left:20px;">
        <li>Must be 3-20 characters (single words require premium purchase)</li>
        <li>No real first and last names</li>
        <li>No offensive, hateful, or inappropriate terms</li>
        <li>No email addresses, phone numbers, or contact info</li>
        <li>Leaderboard displays initials (F.L.) or username only</li>
      </ul>
      
      <h3 style="color:#facc15;margin-top:20px;">4. CONTENT MODERATION</h3>
      <p>All user-generated content (testimonies, blog posts, comments) is subject to automatic filtering and manual review. We reserve the right to remove any content that violates these terms without notice.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">5. INTELLECTUAL PROPERTY</h3>
      <p>All game content, graphics, music, and code are property of Dude.com. Unauthorized reproduction is prohibited.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">6. VIRTUAL CURRENCY</h3>
      <p>In-game coins have no real-world value and cannot be exchanged for cash. All purchases are final.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">7. DISCLAIMER</h3>
      <p>This game is provided "as is" without warranty. We are not liable for any damages arising from use of this game.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">8. TERMINATION</h3>
      <p>We reserve the right to terminate access for any user who violates these terms.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">9. GOVERNING LAW</h3>
      <p>These terms are governed by the laws of the United States of America.</p>
      
      <h3 style="color:#facc15;margin-top:20px;">10. CONTACT</h3>
      <p>For questions: <strong style="color:#fcd34d;"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="21525451514e5355614348534555545345520f424e4c">[email&#160;protected]</a></strong></p>
    </div>
  </div>
</div>

<!-- GermProof Banner - Above Footer (single instance, never covers content) -->
<div id="germproof-wrap" style="max-width:1280px;margin:30px auto 0;padding:0 20px;">
  <a href="https://germproof.com/germproof-chelated-silver-spray" target="_blank" style="display:block;text-decoration:none;background:linear-gradient(135deg, #e0f2fe 0%, #bae6fd 40%, #7dd3fc 100%);border-radius:18px;padding:20px 30px;color:#0c4a6e;transition:all 0.3s;border:2px solid #0284c7;">
    <div style="display:flex;align-items:center;gap:20px;flex-wrap:wrap;justify-content:center;">
      <img src="https://cdn11.bigcommerce.com/s-k3euvps0ey/images/stencil/original/germproof_logo_gif_a0642474-9d7c-465c-a902-cc7154b6d7a6_1_1659251076__45797.original.gif" alt="GermProof" style="height:50px;width:auto;" />
      <div style="flex:1;min-width:250px;">
        <h3 style="margin:0 0 8px;font-size:18px;color:#0369a1;">üõ°Ô∏è GermProof ‚Äì Protection & Healing for Gamers!</h3>
        <p style="margin:0;font-size:13px;line-height:1.5;">Spray on hands, phones, controllers & devices ‚Äì creates an antimicrobial barrier! Heals cuts, burns, bites & acne. Perfect for families! <strong style="color:#0369a1;">Shop Now ‚Üí</strong></p>
      </div>
    </div>
  </a>
</div>

<footer style="text-align:center;padding:20px;color:#6b7280;font-size:12px;border-top:1px solid #1f2937;margin-top:20px;background:#0f172a;">
  <div style="max-width:1280px;margin:0 auto;">
    <div style="display:flex;justify-content:center;gap:20px;flex-wrap:wrap;margin-bottom:15px;">
      <a href="#" onclick="document.getElementById('privacy-modal').style.display='block';return false;" style="color:#22c55e;text-decoration:none;font-weight:bold;">üîí Privacy Policy</a>
      <span style="color:#374151;">|</span>
      <a href="#" onclick="document.getElementById('terms-modal').style.display='block';return false;" style="color:#facc15;text-decoration:none;font-weight:bold;">üìú Terms & Conditions</a>
      <span style="color:#374151;">|</span>
      <a href="/cdn-cgi/l/email-protection#aedddbdedec1dcdaeeccc7dccadadbdccadd80cdc1c3" style="color:#3b82f6;text-decoration:none;">üìß Support</a>
    </div>
    <p>¬© 2025 <a href="https://www.dude.com" target="_blank" style="color:#facc15;text-decoration:none;">Dude.com</a> ‚Äì All Rights Reserved</p>
    <p style="color:#4b5563;font-size:10px;margin-top:5px;">BirdTurds v33.0 ‚Ä¢ Family-Safe Entertainment with Purpose</p>
    <p style="color:#374151;font-size:9px;margin-top:10px;">üõ°Ô∏è COPPA Compliant ‚Ä¢ No Personal Data Collection ‚Ä¢ Child-Safe Design</p>
  </div>
</footer>
<!-- ========== BIRDTURDS COMPLETE FIX v2.0 ========== -->
<!-- Character Voice Fix, Auto-updating Events, Churches with Bulletins -->
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
(function() {
  'use strict';
  
  // ============= CHARACTER VOICE SYSTEM (Web Speech API Fallback) =============
  const CharacterVoiceSystem = {
    voices: [],
    voiceReady: false,
    
    characterVoices: {
      buck: { pitch: 0.85, rate: 0.9 },
      daisy: { pitch: 1.3, rate: 1.0 },
      bubba: { pitch: 0.6, rate: 0.75 },
      clyde: { pitch: 0.75, rate: 0.85 },
      sierra: { pitch: 1.2, rate: 1.1 },
      gunner: { pitch: 0.8, rate: 0.95 },
      jolene: { pitch: 1.0, rate: 0.9 },
      tammy: { pitch: 1.25, rate: 1.05 }
    },
    
    greetings: {
      buck: "Howdy partner! Ready to bag some birds?",
      daisy: "Hey y'all! Let's show these birds who's boss!",
      bubba: "Well I'll be! Time to go huntin'!",
      clyde: "Mountains are calling. Let's hunt.",
      sierra: "Vamos! Let's dance with these birds!",
      gunner: "Lock and load! Time to defend freedom!",
      jolene: "This is my land. Let's protect it.",
      tammy: "Shh... let's do this quietly."
    },
    
    init: function() {
      if (!('speechSynthesis' in window)) return;
      
      const loadVoices = () => {
        this.voices = speechSynthesis.getVoices();
        this.voiceReady = this.voices.length > 0;
      };
      
      loadVoices();
      if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = loadVoices;
      }
      setTimeout(() => { if (!this.voiceReady) loadVoices(); }, 500);
    },
    
    speak: function(text, characterId) {
      if (!('speechSynthesis' in window)) return false;
      speechSynthesis.cancel();
      
      const config = this.characterVoices[characterId] || this.characterVoices.buck;
      const utterance = new SpeechSynthesisUtterance(text);
      
      if (this.voices.length > 0) {
        const voice = this.voices.find(v => v.lang.startsWith('en-US')) || this.voices.find(v => v.lang.startsWith('en')) || this.voices[0];
        if (voice) utterance.voice = voice;
      }
      
      utterance.pitch = config.pitch || 1.0;
      utterance.rate = config.rate || 1.0;
      utterance.volume = parseFloat(localStorage.getItem('birdturds_voiceVolume') || '0.8');
      
      speechSynthesis.speak(utterance);
      return true;
    }
  };
  
  CharacterVoiceSystem.init();
  
  // Override playCharacterHello
  window.playCharacterHello = function() {
    const charId = window.pendingCharacter || localStorage.getItem('birdturds_character') || 'buck';
    const charData = window.charViewerData?.find(c => c.id === charId);
    const greeting = charData?.greeting || CharacterVoiceSystem.greetings[charId];
    
    // Try ElevenLabs first (if game is running), fallback to Web Speech
    if (window.gameInstance?.scene?.scenes?.[0]?.speakAsCharacter) {
      window.gameInstance.scene.scenes[0].speakAsCharacter(greeting, charId);
    } else {
      CharacterVoiceSystem.speak(greeting, charId);
    }
    
    // Button feedback
    const btn = event?.target;
    if (btn) {
      const originalText = btn.textContent;
      const originalBg = btn.style.background;
      btn.textContent = 'üîä Speaking...';
      btn.style.background = 'linear-gradient(135deg,#22c55e,#16a34a)';
      setTimeout(() => {
        btn.textContent = originalText || 'üé§ SAY HELLO';
        btn.style.background = originalBg || 'linear-gradient(135deg,#3b82f6,#2563eb)';
      }, 2500);
    }
  };
  
  // ============= AUTO-UPDATING EVENTS SYSTEM =============
  const EventsSystem = {
    db: null,
    
    init: function() {
      if (typeof firebase !== 'undefined' && firebase.firestore) {
        this.db = firebase.firestore();
        this.loadEvents();
        console.log('üìÖ Events system initialized');
      }
    },
    
    loadEvents: async function() {
      if (!this.db) return;
      
      try {
        const now = new Date().toISOString().split('T')[0];
        const snapshot = await this.db.collection('events')
          .where('date', '>=', now)
          .orderBy('date', 'asc')
          .limit(20)
          .get();
        
        if (!snapshot.empty) {
          const events = [];
          snapshot.forEach(doc => events.push({ id: doc.id, ...doc.data() }));
          this.renderEvents(events);
        }
      } catch (e) { console.warn('Events load:', e); }
    },
    
    renderEvents: function(events) {
      const container = document.getElementById('events-list');
      if (!container || events.length === 0) return;
      
      const colors = {
        conference: { bg: '#f59e0b', text: '#000', border: '#f59e0b' },
        revival: { bg: '#ef4444', text: '#fff', border: '#ef4444' },
        worship: { bg: '#a855f7', text: '#fff', border: '#a855f7' },
        youth: { bg: '#22c55e', text: '#fff', border: '#22c55e' },
        local: { bg: '#3b82f6', text: '#fff', border: '#3b82f6' }
      };
      
      container.innerHTML = '';
      
      events.forEach(event => {
        const c = colors[event.category] || colors.local;
        const date = event.date ? new Date(event.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : 'TBD';
        
        const card = document.createElement('div');
        card.className = 'event-card';
        card.setAttribute('data-category', event.category || 'local');
        card.style.cssText = `background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;border-left:4px solid ${c.border};`;
        card.innerHTML = `
          <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
            <span style="background:${c.bg};color:${c.text};padding:3px 8px;border-radius:10px;font-size:9px;font-weight:bold;">${(event.category || 'LOCAL').toUpperCase()}</span>
            <span style="color:#22c55e;font-size:10px;">${event.scope === 'global' ? 'üåç Global' : 'üìç Local'}</span>
          </div>
          <h3 style="color:#fff;font-size:14px;margin:8px 0;">${event.title || 'Event'}</h3>
          <p style="color:#9ca3af;font-size:11px;margin-bottom:8px;">üìç ${event.location || 'TBA'} | üìÖ ${date}</p>
          <p style="color:#e5e7eb;font-size:11px;line-height:1.5;margin-bottom:10px;">${event.description || ''}</p>
          <div style="display:flex;justify-content:space-between;align-items:center;">
            ${event.link ? `<a href="${event.link}" target="_blank" style="background:${c.bg};color:${c.text};padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Learn More ‚Üí</a>` : '<span></span>'}
            <span style="color:#fcd34d;font-size:10px;">‚úùÔ∏è Spirit-Filled</span>
          </div>`;
        container.appendChild(card);
      });
    },
    
    addEvent: async function(eventData) {
      if (!this.db) return { success: false };
      try {
        const ref = await this.db.collection('events').add({ ...eventData, createdAt: firebase.firestore.FieldValue.serverTimestamp() });
        this.loadEvents();
        return { success: true, id: ref.id };
      } catch (e) { return { success: false, error: e.message }; }
    }
  };
  
  // ============= AUTO-UPDATING CHURCHES + BULLETINS =============
  const ChurchesSystem = {
    db: null,
    
    init: function() {
      if (typeof firebase !== 'undefined' && firebase.firestore) {
        this.db = firebase.firestore();
        this.loadChurches();
        console.log('‚õ™ Churches system initialized');
      }
    },
    
    loadChurches: async function() {
      if (!this.db) return;
      
      try {
        const snapshot = await this.db.collection('churches')
          .where('active', '==', true)
          .orderBy('name', 'asc')
          .limit(20)
          .get();
        
        if (!snapshot.empty) {
          const churches = [];
          for (const doc of snapshot.docs) {
            const church = { id: doc.id, ...doc.data() };
            church.bulletins = await this.loadBulletins(doc.id);
            churches.push(church);
          }
          this.renderChurches(churches);
        }
      } catch (e) { console.warn('Churches load:', e); }
    },
    
    loadBulletins: async function(churchId) {
      if (!this.db) return [];
      try {
        const weekAgo = new Date(Date.now() - 7*24*60*60*1000).toISOString().split('T')[0];
        const snapshot = await this.db.collection('bulletins')
          .where('churchId', '==', churchId)
          .where('date', '>=', weekAgo)
          .orderBy('date', 'desc')
          .limit(3)
          .get();
        
        const bulletins = [];
        snapshot.forEach(doc => bulletins.push({ id: doc.id, ...doc.data() }));
        return bulletins;
      } catch (e) { return []; }
    },
    
    renderChurches: function(churches) {
      let grid = document.getElementById('churches-grid');
      if (!grid) {
        const section = document.getElementById('church-section');
        if (section) {
          grid = document.createElement('div');
          grid.id = 'churches-grid';
          section.appendChild(grid);
        }
      }
      if (!grid || churches.length === 0) return;
      
      grid.innerHTML = '';
      
      churches.forEach(church => {
        const bulletinHTML = church.bulletins?.length > 0 ? `
          <div style="background:rgba(34,197,94,0.1);padding:10px;border-radius:8px;margin-top:10px;">
            <div style="color:#22c55e;font-size:10px;font-weight:bold;margin-bottom:6px;">üìã RECENT BULLETINS:</div>
            ${church.bulletins.map(b => `
              <div style="margin-bottom:6px;padding:6px;background:rgba(0,0,0,0.2);border-radius:4px;">
                <div style="color:#fff;font-size:11px;font-weight:bold;">${b.title || 'This Week'}</div>
                ${b.pdfUrl ? `<a href="${b.pdfUrl}" target="_blank" style="color:#60a5fa;font-size:10px;">üìÑ View PDF</a>` : ''}
                ${b.highlights ? `<div style="color:#e5e7eb;font-size:10px;margin-top:4px;">${b.highlights}</div>` : ''}
              </div>`).join('')}
          </div>` : '';
        
        const tags = [];
        if (church.spiritFilled) tags.push('‚úùÔ∏è Spirit-Filled');
        if (church.bibleBased) tags.push('üìñ Bible-Based');
        if (church.endTimes) tags.push('üî• End-Times');
        if (church.youthGroup) tags.push('üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Youth');
        
        const card = document.createElement('div');
        card.className = 'church-card';
        card.innerHTML = `
          <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
            <h3 style="color:#fff;font-size:14px;margin:0;">${church.name || 'Church'}</h3>
            ${church.denomination ? `<span style="color:#22c55e;font-size:9px;background:rgba(34,197,94,0.2);padding:2px 6px;border-radius:4px;">${church.denomination}</span>` : ''}
          </div>
          <p style="color:#9ca3af;font-size:11px;margin-bottom:6px;">üìç ${church.city || ''}, ${church.state || ''}</p>
          ${church.pastor ? `<p style="color:#f59e0b;font-size:11px;margin-bottom:6px;">üë§ ${church.pastor}</p>` : ''}
          ${church.description ? `<p style="color:#e5e7eb;font-size:11px;line-height:1.4;margin-bottom:8px;">${church.description}</p>` : ''}
          <div style="display:flex;flex-wrap:wrap;gap:4px;margin-bottom:10px;">
            ${tags.map(t => `<span style="color:#fcd34d;font-size:9px;">${t}</span>`).join(' ‚Ä¢ ')}
          </div>
          ${church.website ? `<a href="${church.website}" target="_blank" style="display:inline-block;background:#22c55e;color:#fff;padding:6px 14px;border-radius:6px;text-decoration:none;font-size:11px;font-weight:bold;">Visit Website ‚Üí</a>` : ''}
          ${bulletinHTML}`;
        grid.appendChild(card);
      });
    },
    
    addChurch: async function(data) {
      if (!this.db) return { success: false };
      try {
        const ref = await this.db.collection('churches').add({ ...data, active: true, createdAt: firebase.firestore.FieldValue.serverTimestamp() });
        this.loadChurches();
        return { success: true, id: ref.id };
      } catch (e) { return { success: false, error: e.message }; }
    },
    
    addBulletin: async function(data) {
      if (!this.db) return { success: false };
      try {
        const ref = await this.db.collection('bulletins').add({ ...data, createdAt: firebase.firestore.FieldValue.serverTimestamp() });
        this.loadChurches();
        return { success: true, id: ref.id };
      } catch (e) { return { success: false, error: e.message }; }
    }
  };
  
  // ============= SPRITE FRAME EXTRACTION FIX =============
  const SpriteFixSystem = {
    init: function() {
      this.processAllSprites();
      const orig = window.showCharacterSelect;
      if (orig) {
        window.showCharacterSelect = function() {
          orig.apply(this, arguments);
          setTimeout(() => SpriteFixSystem.processAllSprites(), 100);
        };
      }
    },
    
    extractFirstFrame: function(img, callback) {
      if (!img.complete || !img.naturalWidth) {
        img.onload = () => this.extractFirstFrame(img, callback);
        return;
      }
      
      const w = img.naturalWidth, h = img.naturalHeight;
      let fw, fh;
      
      if (w > h * 1.5) { fw = w / 4; fh = h; }
      else if (h > w * 1.5) { fw = w; fh = h / 4; }
      else if (Math.abs(w - h) < w * 0.3) { fw = w / 2; fh = h / 2; }
      else { callback(null); return; }
      
      const canvas = document.createElement('canvas');
      canvas.width = fw; canvas.height = fh;
      const ctx = canvas.getContext('2d');
      ctx.imageSmoothingEnabled = false;
      ctx.drawImage(img, 0, 0, fw, fh, 0, 0, fw, fh);
      callback(canvas.toDataURL('image/png'));
    },
    
    processAllSprites: function() {
      ['#selected-char-img', '.char-card img', '#char-360-img'].forEach(sel => {
        document.querySelectorAll(sel).forEach(img => {
          if (img.dataset.spriteProcessed) return;
          if (!img.src || !img.src.includes('_idle.png')) return;
          img.dataset.spriteProcessed = 'true';
          this.extractFirstFrame(img, url => { if (url) img.src = url; });
        });
      });
    }
  };
  
  // ============= LOGO FIX =============
  const LogoFixSystem = {
    init: function() {
      this.fix();
      setInterval(() => this.fix(), 3000);
    },
    fix: function() {
      document.querySelectorAll('img[src*="logo"]').forEach(img => {
        if (img.dataset.logoFixed) return;
        if (!img.src.startsWith('https://')) img.src = 'https://birdturds.com/logo.png';
        img.dataset.logoFixed = 'true';
        img.onerror = function() {
          const span = document.createElement('span');
          span.style.cssText = 'font-size:24px;font-weight:bold;color:#facc15;';
          span.innerHTML = 'ü¶Üüí© BIRDTURDS';
          this.parentNode?.replaceChild(span, this);
        };
      });
    }
  };
  
  // ============= INITIALIZE ALL =============
  function initAllSystems() {
    console.log('üéÆ BirdTurds Complete Fix v2.0 Loading...');
    CharacterVoiceSystem.init();
    SpriteFixSystem.init();
    LogoFixSystem.init();
    
    if (typeof firebase !== 'undefined') {
      setTimeout(() => {
        EventsSystem.init();
        ChurchesSystem.init();
      }, 1500);
    }
    console.log('‚úÖ All fix systems initialized');
  }
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAllSystems);
  } else {
    initAllSystems();
  }
  
  // Expose for admin use
  window.BirdTurdsFix = {
    CharacterVoice: CharacterVoiceSystem,
    Events: EventsSystem,
    Churches: ChurchesSystem,
    SpriteFix: SpriteFixSystem,
    LogoFix: LogoFixSystem
  };
})();
</script>

<!-- ========== ELEVENLABS AUDIO SYSTEM (API Key Protected via Server Proxy) ========== -->
<!-- Note: These files need to be uploaded separately if audio features are needed -->
<!-- <script src="/js/birdturds-audio-system.obfuscated.js"></script> -->
<!-- <script src="/js/audio-bridge.obfuscated.js"></script> -->
<!-- <script src="/js/game-state-manager.obfuscated.js"></script> -->
<script>
// Initialize audio systems after game loads
if (typeof window.BirdTurdsAudio !== 'undefined') {
  console.log('üîä BirdTurds Audio System loaded');
}
if (typeof window.AudioBridge !== 'undefined') {
  console.log('üîä Audio Bridge loaded');
}
if (typeof window.GameStatePersistence !== 'undefined') {
  console.log('üíæ Game State Persistence loaded');
  // Enable page close protection when game starts
  document.addEventListener('DOMContentLoaded', function() {
    if (window.PageCloseProtection) {
      window.PageCloseProtection.enable();
    }
  });
}

// ========== CHARACTER DISPLAY FIX ==========
const CHARACTER_DATA = {
  buck: { emoji: 'ü§†', name: 'Buck', quotes: [
    "Howdy partner! Ready to bag some birds?",
    "These birds don't stand a chance!",
    "Yeehaw! Let's ride!",
    "My rifle's been waiting for this!",
    "Nothing like a good hunt!"
  ]},
  daisy: { emoji: 'üå∏', name: 'Daisy', quotes: [
    "Hey y'all! Let's show 'em who's boss!",
    "Pretty AND deadly!",
    "Don't let the flowers fool ya!",
    "Nashville taught me to shoot straight!",
    "Country strong, baby!"
  ]},
  bubba: { emoji: 'üêä', name: 'Bubba', quotes: [
    "Well I'll be! Time to hunt!",
    "Bertha's loaded and ready!",
    "Gator country comin' through!",
    "Mama always said I'd be a hunter!",
    "The bayou sends its regards!"
  ]},
  clyde: { emoji: 'üèîÔ∏è', name: 'Clyde', quotes: [
    "Mountains are calling. Let's hunt.",
    "Patience... then BOOM.",
    "40 years taught me everything.",
    "One shot, one kill.",
    "The Rockies made me tough."
  ]},
  sierra: { emoji: 'üíÉ', name: 'Sierra', quotes: [
    "¬°Vamos! Let's dance with danger!",
    "Fastest hands in Texas!",
    "Mi abuela taught me well!",
    "Two guns, twice the fun!",
    "Quick draw champion, baby!"
  ]},
  gunner: { emoji: 'üéñÔ∏è', name: 'Gunner', quotes: [
    "Lock and load! Defending freedom!",
    "Semper Fi! Let's move!",
    "Combat training pays off!",
    "300 rounds of American steel!",
    "Enemy birds inbound!"
  ]},
  jolene: { emoji: 'üè†', name: 'Jolene', quotes: [
    "This is MY land. Let's protect it.",
    "Ranch has been in my family since 1847.",
    "Mama bear mode: ACTIVATED",
    "Don't mess with a Texas ranch owner!",
    "Four kids taught me patience. Birds won't."
  ]},
  tammy: { emoji: 'üéØ', name: 'Tammy', quotes: [
    "Shh... let's do this quietly.",
    "Silent but deadly.",
    "My crossbow never misses.",
    "Stealth is my superpower.",
    "They won't hear me coming."
  ]}
};

function updateCharacterPreview() {
  const charId = localStorage.getItem('birdturds_character') || 'buck';
  const charData = CHARACTER_DATA[charId] || CHARACTER_DATA.buck;
  
  const emojiEl = document.getElementById('selected-char-emoji');
  const nameEl = document.getElementById('selected-char-name');
  const quoteEl = document.getElementById('selected-char-quote');
  
  if (emojiEl) emojiEl.textContent = charData.emoji;
  if (nameEl) nameEl.textContent = charData.name;
  if (quoteEl) {
    const randomQuote = charData.quotes[Math.floor(Math.random() * charData.quotes.length)];
    quoteEl.textContent = '"' + randomQuote + '"';
  }
  
  // Add click to change quote
  const preview = document.getElementById('selected-char-preview');
  if (preview && !preview.hasClickHandler) {
    preview.hasClickHandler = true;
    preview.style.cursor = 'pointer';
    preview.addEventListener('click', function() {
      const currentChar = localStorage.getItem('birdturds_character') || 'buck';
      const data = CHARACTER_DATA[currentChar] || CHARACTER_DATA.buck;
      const newQuote = data.quotes[Math.floor(Math.random() * data.quotes.length)];
      if (quoteEl) quoteEl.textContent = '"' + newQuote + '"';
      // Add jiggle animation
      preview.style.transform = 'scale(1.1)';
      setTimeout(() => preview.style.transform = 'scale(1)', 150);
    });
  }
}

// Run on load
document.addEventListener('DOMContentLoaded', updateCharacterPreview);

// Fix social share bar z-index
const style = document.createElement('style');
style.textContent = `
  #social-share-bar { z-index: 50 !important; }
  #start-screen { position: relative; z-index: 100; }
  .difficulty-btn, #choose-char-btn, .header-btn { position: relative; z-index: 200; }
`;
document.head.appendChild(style);

// Expose for use
window.CHARACTER_DATA = CHARACTER_DATA;
window.updateCharacterPreview = updateCharacterPreview;
</script>

<!-- ===== CHRISTMAS & SOCIAL PROOF SYSTEM ===== -->
<script>
// Christmas Snowfall Generator - Uses snowflake.png
function initChristmasSnow() {
  const container = document.getElementById('snow-container');
  if (!container) return;
  
  function createSnowflake() {
    const flake = document.createElement('img');
    flake.className = 'snowflake';
    flake.src = '/sprites/snowflake.png';
    flake.style.left = Math.random() * 100 + '%';
    const size = Math.random() * 20 + 10; // 10-30px
    flake.style.width = size + 'px';
    flake.style.height = size + 'px';
    flake.style.opacity = Math.random() * 0.6 + 0.3;
    flake.style.animationDuration = (Math.random() * 5 + 5) + 's';
    flake.style.animationDelay = Math.random() * 2 + 's';
    flake.style.filter = 'brightness(1.2) drop-shadow(0 0 3px rgba(255,255,255,0.5))';
    container.appendChild(flake);
    
    setTimeout(() => flake.remove(), 12000);
  }
  
  // Create snowflakes periodically
  setInterval(createSnowflake, 400);
  // Initial burst
  for (let i = 0; i < 12; i++) setTimeout(createSnowflake, i * 120);
}

// Daily AI-Generated Reviews System
const REVIEW_TEMPLATES = [
  { name: "Pastor Mike", loc: "Texas", rating: 5, text: "Finally a game that combines fun with faith! My youth group loves it. üôè" },
  { name: "Sarah M.", loc: "Florida", rating: 5, text: "The scripture verses are such a blessing! My kids learned 3 new verses today." },
  { name: "BibleBoy2024", loc: "Georgia", rating: 5, text: "Better than any other mobile game. Actually has meaning! ‚úùÔ∏è" },
  { name: "MamaOf4", loc: "Ohio", rating: 5, text: "We play this as a family every Sunday after church. Wholesome fun!" },
  { name: "TrumpFan47", loc: "Arizona", rating: 5, text: "The White House level is AMAZING! Made America fun again! üá∫üá∏" },
  { name: "ChurchLady", loc: "Tennessee", rating: 5, text: "I'm 67 and even I enjoy this! Great message for all ages." },
  { name: "YouthPastor_J", loc: "California", rating: 5, text: "Using this in our youth ministry. Kids are engaged and learning!" },
  { name: "PatriotDad", loc: "Michigan", rating: 5, text: "Christmas zone is perfect! Nativity scene brought tears to my eyes. üéÑ" },
  { name: "GamerGrandma", loc: "Virginia", rating: 5, text: "Finally a game I can let my grandkids play without worry!" },
  { name: "FaithfulFarmer", loc: "Kansas", rating: 5, text: "The farm level reminds me of home. Beautiful graphics!" },
  { name: "HomeschoolMom", loc: "North Carolina", rating: 5, text: "Educational AND entertaining. Scripture memory has improved 100%!" },
  { name: "Deacon_Dave", loc: "Alabama", rating: 5, text: "Our whole congregation is talking about this game! God bless the developers." },
  { name: "CountryGirl88", loc: "Montana", rating: 5, text: "Buck is my favorite character! The cowboy vibes are perfect. ü§†" },
  { name: "VeteranVince", loc: "South Carolina", rating: 5, text: "As a Marine, I appreciate Gunner's character. Semper Fi! üéñÔ∏è" },
  { name: "Sunday_School", loc: "Louisiana", rating: 5, text: "The demon boss fights teach spiritual warfare in a fun way!" },
  { name: "BlessedMom", loc: "Indiana", rating: 5, text: "My son asked to go to church after playing! Praise God! üôå" },
  { name: "MAGA_Mike", loc: "Pennsylvania", rating: 5, text: "Draining the swamp level is incredibly satisfying! üêä" },
  { name: "PrayerWarrior", loc: "Oklahoma", rating: 5, text: "The rapture warnings are so important. Thank you for this message!" },
  { name: "RanchHand_Rick", loc: "Wyoming", rating: 5, text: "Clyde the Mountain Man is exactly like my grandpa! Love it!" },
  { name: "ChristmasLover", loc: "Minnesota", rating: 5, text: "The Christmas Village zone is beautiful! Real meaning of Christmas! üéÑ‚úùÔ∏è" },
  { name: "JesusFirst", loc: "Arkansas", rating: 5, text: "Every kill quotes scripture. My kids are memorizing the Bible! üìñ" },
  { name: "HunterDad", loc: "Missouri", rating: 5, text: "Realistic hunting + faith = perfect combination for my boys!" },
  { name: "ChurchChoir", loc: "Mississippi", rating: 5, text: "The music is wonderful! Plays it during our practice breaks." },
  { name: "FarmWife_Faye", loc: "Iowa", rating: 5, text: "Daisy reminds me of myself! Strong country women representation! üå∏" }
];

// Live Leaderboard Data Generator
const FAKE_PLAYERS = [
  { name: "ProHunter2024", score: 847520, zone: "White House", kills: 2341 },
  { name: "BuckMaster", score: 723100, zone: "The Swamp", kills: 1987 },
  { name: "DaisyDestroyer", score: 698450, zone: "Christmas Village", kills: 1854 },
  { name: "EagleEye_TX", score: 654200, zone: "White House", kills: 1722 },
  { name: "PatriotGamer", score: 612350, zone: "Church Camp", kills: 1645 },
  { name: "FaithfulShot", score: 589100, zone: "Beach", kills: 1589 },
  { name: "TrumpTrain47", score: 567800, zone: "The Swamp", kills: 1534 },
  { name: "BibleBird_KO", score: 545600, zone: "City", kills: 1478 },
  { name: "SniperSaint", score: 523400, zone: "Snow Mountain", kills: 1423 },
  { name: "GunnerGod", score: 498700, zone: "Suburbs", kills: 1367 },
  { name: "SwampDrainer", score: 476500, zone: "The Swamp", kills: 1298 },
  { name: "ChristianHunter", score: 454300, zone: "Church Camp", kills: 1234 },
  { name: "NightOwl_NC", score: 432100, zone: "Forest", kills: 1178 },
  { name: "DesertHawk", score: 398700, zone: "Desert", kills: 1098 },
  { name: "LakeShooter", score: 376500, zone: "Lake", kills: 1034 }
];

function getDailyReviews() {
  // Use date as seed for consistent daily reviews
  const today = new Date();
  const seed = today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
  
  // Fisher-Yates shuffle with seed
  function seededRandom(s) {
    return function() {
      s = Math.sin(s) * 10000;
      return s - Math.floor(s);
    };
  }
  
  const rng = seededRandom(seed);
  const shuffled = [...REVIEW_TEMPLATES].sort(() => rng() - 0.5);
  return shuffled.slice(0, 12); // Return 12 daily reviews
}

function initReviewsTicker() {
  const track = document.getElementById('reviews-track');
  if (!track) return;
  
  const reviews = getDailyReviews();
  let html = '';
  
  // Create reviews twice for seamless loop
  for (let i = 0; i < 2; i++) {
    reviews.forEach(r => {
      const stars = '‚≠ê'.repeat(r.rating);
      const timeAgo = ['2 min ago', '5 min ago', '12 min ago', '23 min ago', '45 min ago', '1 hr ago', '2 hrs ago', '3 hrs ago'][Math.floor(Math.random() * 8)];
      html += `<div class="review-item">
        <span class="stars">${stars}</span> 
        <strong>${r.name}</strong> (${r.loc}): "${r.text}" 
        <span style="color:#64748b;font-size:9px;">‚Ä¢ ${timeAgo}</span>
      </div>`;
    });
  }
  
  track.innerHTML = html;
}

function initLeaderboardTicker() {
  const track = document.getElementById('leaderboard-track');
  if (!track) return;
  
  // Add some randomization to scores to make it feel "live"
  const players = FAKE_PLAYERS.map(p => ({
    ...p,
    score: p.score + Math.floor(Math.random() * 5000) - 2500,
    isPlaying: Math.random() > 0.3
  })).sort((a, b) => b.score - a.score);
  
  let html = '';
  
  // Create twice for seamless loop
  for (let i = 0; i < 2; i++) {
    players.forEach((p, idx) => {
      const status = p.isPlaying ? 'üü¢' : '‚ö™';
      const medal = idx === 0 ? 'ü•á' : idx === 1 ? 'ü•à' : idx === 2 ? 'ü•â' : `#${idx + 1}`;
      html += `<div class="lb-item">
        ${status} ${medal} <span class="name">${p.name}</span>: 
        <span class="score">${p.score.toLocaleString()}</span> pts 
        <span class="zone">(${p.zone})</span>
      </div>`;
    });
  }
  
  track.innerHTML = html;
  
  // Update "live" scores periodically
  setInterval(() => {
    const items = track.querySelectorAll('.score');
    items.forEach(item => {
      const current = parseInt(item.textContent.replace(/,/g, ''));
      const change = Math.floor(Math.random() * 200) - 50;
      if (Math.random() > 0.7) { // Only update some scores
        item.textContent = (current + change).toLocaleString();
      }
    });
  }, 5000);
}

// ===== CHRISTMAS ZONE MUSIC SYSTEM =====
// Christian Christmas song - "O Holy Night" / "Silent Night" inspired melody
const ChristmasMusic = {
  ctx: null,
  isPlaying: false,
  currentZone: 0,
  gainNode: null,
  
  init() {
    if (this.ctx) return;
    this.ctx = new (window.AudioContext || window.webkitAudioContext)();
    this.gainNode = this.ctx.createGain();
    this.gainNode.gain.value = 0.15;
    this.gainNode.connect(this.ctx.destination);
  },
  
  // Silent Night melody notes (simplified)
  silentNightNotes: [
    // "Silent night, holy night"
    {note: 392, dur: 0.75}, {note: 440, dur: 0.25}, {note: 392, dur: 0.5}, {note: 330, dur: 1.0},
    {note: 392, dur: 0.75}, {note: 440, dur: 0.25}, {note: 392, dur: 0.5}, {note: 330, dur: 1.0},
    // "All is calm, all is bright"
    {note: 587, dur: 0.5}, {note: 587, dur: 0.5}, {note: 494, dur: 1.0},
    {note: 523, dur: 0.5}, {note: 523, dur: 0.5}, {note: 392, dur: 1.0},
    // "Round yon virgin, mother and child"
    {note: 440, dur: 0.5}, {note: 440, dur: 0.5}, {note: 523, dur: 0.5}, {note: 494, dur: 0.25}, {note: 440, dur: 0.25}, {note: 392, dur: 0.75}, {note: 440, dur: 0.25}, {note: 392, dur: 0.5}, {note: 330, dur: 1.0},
    // "Holy infant so tender and mild"  
    {note: 440, dur: 0.5}, {note: 440, dur: 0.5}, {note: 523, dur: 0.5}, {note: 494, dur: 0.25}, {note: 440, dur: 0.25}, {note: 392, dur: 0.75}, {note: 440, dur: 0.25}, {note: 392, dur: 0.5}, {note: 330, dur: 1.0},
    // "Sleep in heavenly peace"
    {note: 587, dur: 0.5}, {note: 587, dur: 0.5}, {note: 698, dur: 0.5}, {note: 587, dur: 0.5}, {note: 494, dur: 1.0}, {note: 523, dur: 1.5},
    // "Sleep in heavenly peace"
    {note: 392, dur: 0.5}, {note: 330, dur: 0.5}, {note: 392, dur: 0.5}, {note: 349, dur: 0.5}, {note: 262, dur: 2.0}
  ],
  
  playChristmasSong() {
    if (!this.ctx || this.isPlaying) return;
    this.isPlaying = true;
    
    const now = this.ctx.currentTime;
    let time = now;
    
    // Play melody
    this.silentNightNotes.forEach(n => {
      const osc = this.ctx.createOscillator();
      const env = this.ctx.createGain();
      
      osc.type = 'sine';
      osc.frequency.value = n.note;
      
      env.gain.setValueAtTime(0, time);
      env.gain.linearRampToValueAtTime(0.2, time + 0.05);
      env.gain.setValueAtTime(0.15, time + n.dur * 0.7);
      env.gain.linearRampToValueAtTime(0, time + n.dur);
      
      osc.connect(env);
      env.connect(this.gainNode);
      
      osc.start(time);
      osc.stop(time + n.dur);
      
      time += n.dur;
    });
    
    // Add some bell sounds
    for (let i = 0; i < 8; i++) {
      const bell = this.ctx.createOscillator();
      const bellEnv = this.ctx.createGain();
      bell.type = 'triangle';
      bell.frequency.value = [523, 659, 784, 880][i % 4];
      bellEnv.gain.setValueAtTime(0.08, now + i * 2);
      bellEnv.gain.exponentialRampToValueAtTime(0.001, now + i * 2 + 1.5);
      bell.connect(bellEnv);
      bellEnv.connect(this.gainNode);
      bell.start(now + i * 2);
      bell.stop(now + i * 2 + 2);
    }
    
    // Reset after song ends (approximately 25 seconds)
    setTimeout(() => {
      this.isPlaying = false;
    }, 25000);
  },
  
  stopChristmasSong() {
    this.isPlaying = false;
  }
};

// Auto-initialize Christmas music if in season
if (typeof isChristmasSeason === 'function' && isChristmasSeason()) {
  ChristmasMusic.init();
}

// ========== ENHANCED CHARACTER PREVIEW v33.14 (merged into v33.16) ==========
// Handles image loading failures gracefully with emoji fallbacks
const CHARACTER_EMOJIS = {
  buck: 'ü§†', daisy: 'üå∏', bubba: 'üêä', clyde: 'üèîÔ∏è',
  sierra: 'üíÉ', gunner: 'üéñÔ∏è', jolene: 'üè†', tammy: 'üéØ'
};

function enhancedCharacterPreview() {
  const charId = localStorage.getItem('birdturds_character') || 'buck';
  const charData = typeof CHARACTER_ROSTER !== 'undefined' ? CHARACTER_ROSTER[charId] : null;
  
  const imgEl = document.getElementById('selected-char-img');
  const fallbackEl = document.getElementById('selected-char-fallback');
  const nameEl = document.getElementById('selected-char-name');
  
  if (nameEl && charData) {
    nameEl.textContent = charData.name;
  }
  
  if (imgEl) {
    // Reset visibility
    imgEl.style.display = 'block';
    if (fallbackEl) fallbackEl.style.display = 'none';
    
    // Set correct src
    imgEl.src = `/sprites/characters/${charId}_idle.png`;
    
    // Handle load failure
    imgEl.onerror = function() {
      this.style.display = 'none';
      if (fallbackEl) {
        fallbackEl.textContent = CHARACTER_EMOJIS[charId] || 'ü§†';
        fallbackEl.style.display = 'block';
      }
      console.log('Character preview image failed to load, using emoji fallback');
    };
  }
}

// Global handler for character card images in modals
function handleCharacterImageError(img) {
  // Extract character ID from src path
  const match = img.src.match(/\/sprites\/characters\/(\w+)_/);
  if (match) {
    const charId = match[1];
    const emoji = CHARACTER_EMOJIS[charId] || 'ü§†';
    
    // Create emoji fallback
    const emojiSpan = document.createElement('span');
    emojiSpan.style.cssText = 'font-size:40px;display:block;text-align:center;';
    emojiSpan.textContent = emoji;
    
    // Replace image with emoji
    img.parentNode.insertBefore(emojiSpan, img);
    img.style.display = 'none';
  }
}

// Watch for new character modal images and add error handlers
const imgObserver = new MutationObserver((mutations) => {
  mutations.forEach((mutation) => {
    mutation.addedNodes.forEach((node) => {
      if (node.nodeType === 1) {
        // Check if it's a character modal
        if (node.id === 'character-modal' || node.querySelector?.('.char-card')) {
          const imgs = node.querySelectorAll('img[src*="/sprites/characters/"]');
          imgs.forEach(img => {
            img.onerror = function() { handleCharacterImageError(this); };
          });
        }
      }
    });
  });
});

// Start observing
document.addEventListener('DOMContentLoaded', () => {
  imgObserver.observe(document.body, { childList: true, subtree: true });
  enhancedCharacterPreview();
});
setTimeout(enhancedCharacterPreview, 500);
</script>

<script>
  // Simple Streamer Mode toggle: hides non-essential site chrome for clean capture
  function toggleStreamerMode() {
    var body = document.body;
    var btn = document.getElementById('streamer-toggle-btn');
    if (!body) return;
    var enabled = !body.classList.contains('bt-streamer');
    if (enabled) {
      body.classList.add('bt-streamer');
    } else {
      body.classList.remove('bt-streamer');
    }
    if (btn) {
      btn.textContent = enabled ? 'üé• STREAMER MODE: ON' : 'üé• STREAMER MODE: OFF';
    }
  }
</script>

<!-- BIRDTURDS v43 FIX38 COMPREHENSIVE FIXES - INLINE INJECTION -->
<script src="/js/bt-fixes.js"></script>
<script>
// FIX38 Auto-initialization backup (in case external script fails)
if (typeof btFix38 === 'undefined') {
  console.warn('[BT-FIX38] External script not loaded, this is expected if bt-fixes.js is embedded elsewhere');
}

// Initialize selection from localStorage on page load
document.addEventListener('DOMContentLoaded', function() {
  // Restore hunter selection
  var savedHunter = localStorage.getItem('birdturds_character');
  if (savedHunter) {
    var card = document.querySelector('[data-hunter="' + savedHunter + '"], .hunter-mini[data-hunter="' + savedHunter + '"]');
    if (card && typeof setSelectedHunter === 'function') {
      setSelectedHunter(savedHunter, card);
    }
  }
  
  // Restore difficulty selection  
  var savedDiff = localStorage.getItem('birdturds_difficulty') || 'intermediate';
  if (savedDiff && typeof setDifficulty === 'function') {
    var diffBtn = document.getElementById('diff-' + savedDiff) || document.querySelector('[data-difficulty="' + savedDiff + '"]');
    setDifficulty(savedDiff, diffBtn);
  }
  
  console.log('[BT-FIX38] Selection restored - Hunter:', savedHunter, 'Difficulty:', savedDiff);
});
</script>
</body>
</html>